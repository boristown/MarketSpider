/* aniview version '6.1.1.248' 						*/
/* All rights reserved to ANIVIEW LTD 2018 				*/
window.aniviewCSS = '#av-container *::-webkit-media-controls-panel{display:none!important;-webkit-appearance:none}#av-container *::--webkit-media-controls-play-button{display:none !important;-webkit-appearance:none}#av-container *::-webkit-media-controls-start-playback-button{display:none!important;-webkit-appearance:none}@-webkit-keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-moz-keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-o-keyframes fade-in{0% { opacity:0;filter:alpha(opacity=0)}100%{opacity:1;filter:alpha(opacity=100)}}@keyframes "fade-in"{0%{opacity:0;filter:alpha(opacity=0);}100%{opacity:1;filter:alpha(opacity=100);}}@-webkit-keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-moz-keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-o-keyframes av-loading-dash{0% { stroke-dasharray:1, 210;stroke-dashoffset:0}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210}}@keyframes "av-loading-dash"{0%{stroke-dasharray:1, 210;stroke-dashoffset:0;}50%{stroke-dasharray:130, 220;stroke-dashoffset:-50;}100%{stroke-dasharray:170, 220;stroke-dashoffset:-210;}}@-webkit-keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}@-moz-keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}@-o-keyframes av-loading-rotate{0% { stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes "av-loading-rotate"{0%{stroke:white;-webkit-transform:rotate(0deg);transform:rotate(0deg);}100%{stroke:currentColor;-webkit-transform:rotate(360deg);transform:rotate(360deg);}}#av-container{position:relative;width:640px;height:360px;background:black;margin:0;overflow:hidden;text-align:initial;}#av-container #av-inner{position:absolute;top:0;left:0;width:100%;height:100%}#av-container #av-inner #slot{position:absolute;width:100%;height:100%;background:black;-webkit-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1);-moz-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1);box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1)}#av-container #av-inner #slot #preloader{width:0;height:0;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;outline:none}#av-container #av-inner #slot #preloader svg{position:absolute;top:50%;left:50%}#av-container #av-inner #slot #preloader svg.icon{fill:white;width:50px;height:50px;margin-left:-25px;margin-top:-25px}#av-container #av-inner #slot #preloader svg.circle{fill:transparent;stroke:rgba(255, 255, 255, 0.2);stroke-width:3;width:70px;height:70px;margin-left:-35px;margin-top:-35px}#av-container #av-inner #slot #preloader svg.circle.active{color:red;stroke:white;stroke-linecap:round;animation:av-loading-dash 2s ease infinite, av-loading-rotate 2.5s linear infinite}#av-container #av-inner #slot #videoslot{text-align:left;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:0;right:0;bottom:0;width:100%;object-fit:initial;opacity:0;filter:alpha(opacity=0)}#av-container #av-inner #slot #videoslot.loaded{opacity:1;filter:alpha(opacity=100);-webkit-animation:fade-in 0.5s ease;-moz-animation:fade-in 0.5s ease;-o-animation:fade-in 0.5s ease;animation:fade-in 0.5s ease}#av-container #av-inner #gui:before{content:"";pointer-events:none;position:absolute;left:0;bottom:0;width:100%;height:15%;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;background:-webkit-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%);background:-moz-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%);background:linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.5) 100%);filter:progid: DXImageTransform.Microsoft.gradient(startColorstr="#00000000", endColorstr="#80000000", GradientType=0)}#av-container #av-inner #gui #timeline{position:absolute;height:10px;overflow:hidden;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;cursor:pointer}#av-container #av-inner #gui #timeline:before,#av-container #av-inner #gui #timeline #timeline-buffer,#av-container #av-inner #gui #timeline #timeline-moveto,#av-container #av-inner #gui #timeline #timeline-progress{position:absolute;left:0;height:2px}#av-container #av-inner #gui #timeline:before{content:"";width:100%;background:rgb(100, 100, 100);background:rgba(255, 255, 255, 0.3);-webkit-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);-moz-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1)}#av-container #av-inner #gui #timeline #timeline-buffer{width:0;background:rgb(180, 180, 180);background:rgba(255, 255, 255, 0.5);-webkit-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);-moz-box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1);box-shadow:0 0 3px 0 rgba(0, 0, 0, 0.1)}#av-container #av-inner #gui #timeline #timeline-moveto{width:0;background:rgb(255, 255, 255);background:rgba(255, 255, 255, 0.8);opacity:0}#av-container #av-inner #gui #timeline #timeline-progress{width:0;background:red}#av-container #av-inner #gui #timeline.av-overlay{bottom:41px;left:10px;right:10px}#av-container #av-inner #gui #timeline.av-overlay:before,#av-container #av-inner #gui #timeline.av-overlay #timeline-buffer,#av-container #av-inner #gui #timeline.av-overlay #timeline-moveto,#av-container #av-inner #gui #timeline.av-overlay #timeline-progress{top:50%;margin-top:-1px}#av-container #av-inner #gui #timeline.av-bottom{bottom:0;left:0;right:0}#av-container #av-inner #gui #timeline.av-bottom:before,#av-container #av-inner #gui #timeline.av-bottom #timeline-buffer,#av-container #av-inner #gui #timeline.av-bottom #timeline-moveto,#av-container #av-inner #gui #timeline.av-bottom #timeline-progress{top:auto;bottom:0}#av-container #av-inner #gui #timeline.av-top{top:0;left:0;right:0}#av-container #av-inner #gui #timeline.av-top:before,#av-container #av-inner #gui #timeline.av-top #timeline-buffer,#av-container #av-inner #gui #timeline.av-top #timeline-moveto,#av-container #av-inner #gui #timeline.av-top #timeline-progress{top:0;bottom:auto}#av-container #av-inner #gui #timeline.av-top~#skip-btn{top:2px}#av-container #av-inner #gui #timeline.av-top~#aniview-credit{top:4px}#av-container #av-inner #gui #timeline.av-none{opacity:0 !important;display:none !important}#av-container #av-inner #gui #buttons{-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #buttons #sound:after{content:"";position:absolute;top:-10px;bottom:-10px;left:-10px;right:-10px;}#av-container #av-inner #gui #buttons #play-pause:after{content:"";position:absolute;top:-10px;bottom:-10px;left:-10px;right:-10px;}#av-container #av-inner #gui #buttons #play-pause,#av-container #av-inner #gui #buttons #phone,#av-container #av-inner #gui #buttons #sound,#av-container #av-inner #gui #buttons #share,#av-container #av-inner #gui #buttons #fullscreen{width:24px;height:24px;background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #left,#av-container #av-inner #gui #buttons #right{position:absolute;height:24px;bottom:11px}#av-container #av-inner #gui #buttons #left{left:13px}#av-container #av-inner #gui #buttons #left>div{position:relative;float:left;margin-right:14px}#av-container #av-inner #gui #buttons #left #play-pause.play{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #play-pause.pause{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22pause-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m4.338%2019.339h5v-16h-5v16zm9.001-16.001v16h5v-16h-5z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #play-pause.replay{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22replay-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m16.672%2011.339c0%202.945-2.389%205.333-5.334%205.333s-5.334-2.388-5.334-5.333c0-2.943%202.385-5.329%205.326-5.333v2.336l7.016-3.503-7.016-3.503v2.004c-4.414%200.004-7.992%203.583-7.992%207.999%200%204.418%203.582%208%208%208s8-3.582%208-8h-2.666z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #left #phone{width:auto;font-size:0}#av-container #av-inner #gui #buttons #left #phone .icon{width:24px;height:24px;display:inline-block;vertical-align:top;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22phone-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%3Cpath%20fill%3D%22white%22%20clip-rule%3D%22evenodd%22%20d%3D%22m20.154%2017.236c0.299-0.298%200.254-0.921-0.236-1.188-0.492-0.267-4.518-2.602-4.982-2.138-0.463%200.465-1.447%201.498-2.135%201.188s-2.289-1.816-2.846-2.375c-0.559-0.557-2.064-2.159-2.377-2.847-0.31-0.687%200.725-1.67%201.188-2.134%200.464-0.465-1.87-4.491-2.137-4.982-0.266-0.489-0.889-0.534-1.188-0.237s-2.18%202.176-2.85%202.847c-0.671%200.671-0.279%205.415%204.514%2010.202%204.787%204.792%209.531%205.185%2010.203%204.514%200.671-0.671%202.549-2.551%202.846-2.85z%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E");background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #left #phone #phone-num{display:inline-block;margin-left:4px;height:24px;line-height:24px;font-size:12px;font-weight:400;font-family:Helvetica, Arial, fallback, sans-serif;color:white}#av-container #av-inner #gui #buttons #right{right:13px}#av-container #av-inner #gui #buttons #right>div{position:relative;float:right;margin-left:14px}#av-container #av-inner #gui #buttons #right #sound{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.68%2022.68%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.68%2022.68%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%227.247%207.34%201.761%207.34%201.761%2015.34%207.247%2015.34%2012.743%2019.346%2012.743%203.334%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #sound div{position:absolute;width:100%;height:100%;top:0;left:0;background-repeat:no-repeat;background-size:cover}#av-container #av-inner #gui #buttons #right #sound div.on{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-on-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m17.808%204.757l-1.705%201.881c1.357%201.146%202.221%202.824%202.221%204.7s-0.863%203.556-2.221%204.701l1.705%201.881c1.902-1.605%203.109-3.955%203.109-6.582%200-2.626-1.207-4.975-3.109-6.581z%22%20%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #sound div.off{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22sound-off-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20points%3D%2220.009%2011.337%2022.671%208.674%2021.343%207.345%2018.679%2010.007%2016.015%207.345%2014.685%208.674%2017.349%2011.337%2014.681%2014.003%2016.015%2015.331%2018.679%2012.666%2021.343%2015.331%2022.677%2014.003%22%20fill%3D%22red%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #share{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22share-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%3Cpath%20fill%3D%22white%22%20clip-rule%3D%22evenodd%22%20d%3D%22m17.338%2014.339c-0.695%200-1.328%200.246-1.838%200.645l-7.17-3.567c0-0.026%200.008-0.051%200.008-0.078%200-0.026-0.008-0.052-0.008-0.078l7.17-3.566c0.51%200.397%201.143%200.645%201.838%200.645%201.656%200%203-1.343%203-3s-1.344-3-3-3-3%201.343-3%203c0%200.188%200.023%200.372%200.057%200.552l-6.864%203.412c-0.549-0.591-1.324-0.966-2.193-0.966-1.656%200-3%201.343-3%203s1.344%203%203%203c0.869%200%201.645-0.375%202.193-0.965l6.863%203.412c-0.033%200.18-0.057%200.363-0.057%200.553%200%201.656%201.344%203%203%203s3-1.344%203-3-1.343-2.999-2.999-2.999z%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #fullscreen.off{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22fullscreen-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m4.339%2015.339h-2v5h5v-2h-3v-3zm-2-8.001h2v-3h3v-2h-5v5zm13-5v2h3v3h2v-5h-5zm3%2016.001h-3v2h5v-5h-2v3z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #buttons #right #fullscreen.on{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22fullscreen-off-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpath%20fill%3D%22white%22%20d%3D%22m6.338%206.338h-3v2h5v-5h-2v3zm-3%2010.001h3v3h2v-5h-5v2zm11%203h2v-3h3v-2h-5v5zm2-13.001v-3h-2v5h5v-2h-3z%22%2F%3E%3C%2Fsvg%3E")}#av-container #av-inner #gui #big-play{display:none;position:absolute;width:68px;height:68px;top:50%;left:50%;margin-top:-34px;margin-left:-34px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22white%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E");background-size:62% 64%;background-position:16px center;background-repeat:no-repeat;border:3px solid white;border-radius:50%;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #close-btn{z-index:9999999;position:absolute;top:0;left:0;width:28px;height:28px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22close-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%2219.346%205.421%2017.256%203.332%2011.338%209.25%205.42%203.332%203.332%205.421%209.25%2011.338%203.332%2017.257%205.42%2019.345%2011.338%2013.427%2017.256%2019.345%2019.346%2017.257%2013.428%2011.338%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E");background-repeat:no-repeat;background-size:60%;background-position:center;border-color:white;border-style:solid;border-width:0 1px 1px 0;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #timer{position:absolute;top:0;left:0;width:28px;height:28px;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7);color:white;font-family:Helvetica, Arial, fallback, sans-serif;font-size:12px;text-align:center;line-height:28px;border-color:white;border-style:solid;border-width:0 1px 1px 0;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #skip-btn{position:absolute;bottom:60px;right:0;padding:0 12px;height:32px;background-color:rgb(50, 50, 50);background-color:rgba(0, 0, 0, 0.4);color:white;font-family:Helvetica, Arial, fallback, sans-serif;font-size:14px;text-align:center;text-transform:uppercase;line-height:32px;border-color:white;border-style:solid;border-width:1px 0 1px 1px;-webkit-transition:all 0.15s ease-in-out;-moz-transition:all 0.15s ease-in-out;-o-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}#av-container #av-inner #gui #aniview-credit{position:absolute;top:2px;right:2px;height:24px;line-height:24px;font-size:11px;font-family:Helvetica, Arial, fallback, sans-serif;font-weight:500;color:white}#av-container #av-inner #gui #aniview-credit span{display:inline-block;vertical-align:top;width:24px;height:24px;background-repeat:no-repeat;background-size:cover;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22play-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%3Cpath%20fill%3D%22red%22%20d%3D%22m19.343%2011.251c-0.035-0.439-0.334-0.874-0.902-1.207l-10.905-6.403c-1.211-0.712-2.203-0.138-2.203%201.275v7.463c5.85-2.36%2013.783-1.163%2014.01-1.128z%22%2F%3E%09%3Cpath%20fill%3D%22red%22%20d%3D%22m5.333%2017v0.762c0%201.412%200.992%201.985%202.203%201.273l10.904-6.402c0.643-0.377%200.941-0.882%200.902-1.379-8.65%200.696-12.404%203.614-14.009%205.746z%22%2F%3E%3C%2Fsvg%3E")}#av-container.desktop #av-inner #gui #big-play{border-color:#ccc}#av-container.desktop:hover #av-inner #gui #big-play{background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7);border-color:white}#av-container.desktop #gui:before{bottom:-15%}#av-container.desktop:hover #gui:before{bottom:0}#av-container.desktop #gui:before,#av-container.desktop #gui #timeline,#av-container.desktop #gui #buttons{opacity:0;filter:alpha(opacity=0)}#av-container.desktop:hover #gui:before,#av-container.desktop:hover #gui #buttons,#av-container.desktop:hover #gui #timeline,#av-container.desktop #av-inner #gui #timeline:hover #timeline-moveto{opacity:1;filter:alpha(opacity=100)}#av-container.desktop #av-inner #gui #close-btn:hover,#av-container.desktop #av-inner #gui #skip-btn:hover{cursor:pointer;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.7)}#av-container.responsive{width:100%;height:520px}#av-container.hide-controls #timeline,#av-container.hide-controls #buttons,#av-container.hide-controls #av-inner #gui:before{display:none}#av-container.buttons-below #av-inner #slot #videoslot{top:0;-webkit-transform:none;transform:none}#av-testcss{margin-top:3px}.embed-player-tag #testyourself-postroll-embedgui #av-container{position:relative;top:50%;-webkit-transform:initial !important;transform:initial !important}.testyourself-postroll .embed-player-tag #testyourself-postroll-embedgui #av-container{top:0px}.embed-player-tag #testyourself-postroll-embedgui #av-container{margin-left:auto;margin-right:auto;//margin-top:50px}#testyourself-preroll-embedgui #av-container #av-inner #gui #skip-btn{top:0px}#spotimaniviewplayergui #av-container{//position:inherit} #av-container #videoslot video {max-width: none;}';
window.aniviewGetGui = function () {
	var gui = '<div id="av-container" class="responsive">' +
		'<div id="av-inner">' +
		'<div id="slot">';
	if (window.AV_player.config.preloader && ((window.AV_player.config.preloader.type =='Image' && window.AV_player.config.preloader.link != '') || window.AV_player.config.preloader.type =='js')) {
		gui = gui + '<div id="imgpreloader"><div id="preloader"></div>'
	} else {
		gui = gui + '<div id="imgpreloader"></div><div id="preloader"><svg class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 30 30" xml:space="preserve">' +
			'<g>' +
			'<path d="M23.3,14.9c0-0.4-0.3-0.9-0.8-1.2l-10-6.4c-1.1-0.7-2-0.1-2,1.3v7.5C15.8,13.7,23.1,14.9,23.3,14.9z M23.3,15 c-7.9,0.6-11.4,3.5-12.8,5.7v0.8c0,1.4,0.9,2,2,1.3l10-6.4C23.1,16,23.4,15.5,23.3,15z"/>' +
			'</g>' +
			'</svg>' +
			'<svg class="circle" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg>' +
			'<svg class="circle active" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg>';
	};
	gui = gui + '</div>' + '<div id="videoslot"></div>';
	if (window.AV_player.config.preloader.type =='content') {
		gui = gui + '<video id="AVcontent" webkit-playsinline playsinline muted style="width: 100%;height:100%"></video>';
	}
	gui = gui + '</div>' +
		'<div id="gui">' +
		'<div id="timeline">' +
		'<div id="timeline-buffer"></div>' +
		'<div id="timeline-moveto"></div>' +
		'<div id="timeline-progress"></div>' +

		'</div>' +
		'<div id="buttons">' +
		'<div id="left">' +
		'<div id="play-pause" class="pause"></div>' +
		'<div id="phone">' +
		'<div class="icon"></div>' +
		'<div id="phone-num"></div>' +
		'</div>' +
		'</div>' +
		'<div id="right">' +
		'<div id="fullscreen" class="off"></div>' +
		'<div id="share"></div>' +
		'<div id="sound"><div class="on"></div></div>' +
		'</div>' +
		'</div>' +
		'<div id="big-play"></div>' +
		'<div id="timer"></div>' +
		'<div id="close-btn"></div>' +
		'<div id="skip-btn">Skip</div>' +
		'<div id="aniview-credit">Ads by <span></span></div>' +
		'</div>' +
		'</div>' +
		'</div>';
	return gui;
};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,c,r){l!=Array.prototype&&l!=Object.prototype&&(l[c]=r.value)};$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var l=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+l++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var l=$jscomp.global.Symbol.iterator;l||(l=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[l]&&$jscomp.defineProperty(Array.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(l){var c=0;return $jscomp.iteratorPrototype(function(){return c<l.length?{done:!1,value:l[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(l){$jscomp.initSymbolIterator();l={next:l};l[$jscomp.global.Symbol.iterator]=function(){return this};return l};$jscomp.makeIterator=function(l){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=l[Symbol.iterator];return c?c.call(l):$jscomp.arrayIterator(l)};$jscomp.arrayFromIterator=function(l){for(var c,r=[];!(c=l.next()).done;)r.push(c.value);return r};$jscomp.arrayFromIterable=function(l){return l instanceof Array?l:$jscomp.arrayFromIterator($jscomp.makeIterator(l))};
LinearAd=function(){function l(q,a,m,d,e,z){var f={width:q,height:a,viewMode:m,desiredBitrate:d,creativeData:e,environmentVars:z};r=q;k=a;(function(){c=new aniviewPlayer(f);c.onAdLoaded=function(){b.dispatch("AdLoaded")};c.onAdStarted=function(){b.dispatch("AdStarted")};c.onAdError=function(a,e){e?b.dispatch("AdError","No Ad"):b.dispatch("AdError",a)};c.onAdImpression=function(a,e){b.dispatch("AdImpression",a,e)};c.onAdVideoComplete=function(){b.dispatch("AdVideoComplete")};c.onAdSkipped=function(){b.dispatch("AdSkipped")};
c.onAdSkippableStateChange=function(){b.dispatch("AdSkippableStateChange")};c.onAdStopped=function(){b.dispatch("AdStopped")};c.onAdClosed=function(a){b.dispatch("AdClosed",a)};c.onAdVideoStart=function(){b.dispatch("AdVideoStart")};c.onAdVideoFirstQuartile=function(){b.dispatch("AdVideoFirstQuartile")};c.onAdVideoMidpoint=function(){b.dispatch("AdVideoMidpoint")};c.onAdVideoThirdQuartile=function(){b.dispatch("AdVideoThirdQuartile")};c.onAdClickThru=function(){b.dispatch("AdClickThru")};c.onAdVolumeChange=
function(){b.dispatch("AdVolumeChange")};c.onAdPaused=function(){b.dispatch("AdPaused")};c.onAdPlaying=function(){b.dispatch("AdPlaying")};c.onAdDurationChange=function(){b.dispatch("AdDurationChange")};c.onallAdsCompleted=function(){b.dispatch("allAdsCompleted")};c.onContentImpression=function(a){b.dispatch("ContentImpression",a)};c.onContentComplete=function(){b.dispatch("ContentComplete")};c.onContentPaused=function(){b.dispatch("ContentPaused")};c.onContentPlaying=function(){b.dispatch("ContentPlaying")};
c.onContentClick=function(){b.dispatch("ContentClick")};c.onAdEvent=function(a,e,d){b.dispatch("AdEvent",a,e,d)};c.onInventory=function(){b.dispatch("Inventory")};c.onInventoryRequest=function(a){b.dispatch("InventoryRequest",a)};c.onFullScreenRequest=function(a){b.dispatch("FullScreenRequest",a)}})()}var c,r=0,k=0,b=new window.AVEvtMgr;this.handshakeVersion=function(b){return"2.0"};this.initAd=function(b,a,m,d,e,c){l(b,a,m,d,e,c)};this.startAd=function(b){b?c.startAd():setTimeout(function(){c.startAd()},
50)};this.setWaterfallState=function(b,a,m){c.setWaterfallState(b,a,m)};this.getAdLinear=function(){return!0};this.stopAd=function(b,a){c.stopAd()};this.getAdVolume=function(){return c.getAdVolume()};this.setAdVolume=function(b){c.setAdVolume(b)};this.resizeAd=function(b,a,m){c&&(c.resizeAd(b,a,m),r=b,k=a)};this.pauseAd=function(){c.pauseAd()};this.resumeAd=function(){c.resumeAd()};this.expandAd=function(){};this.getAdExpanded=function(b){return!1};this.getAdSkippableState=function(b){return!1};this.collapseAd=
function(){};this.skipAd=function(){c.skipAd()};this.getAdWidth=function(){return r};this.getAdHeight=function(){return k};this.getSkippableRemainingTime=function(){return-1};this.getAdRemainingTime=function(){return c.getAdRemainingTime()};this.getAdDuration=function(){return c.getAdDuration()};this.getAdCompanions=function(){return c.getAdCompanions()};this.getIcons=function(){return""};this.getAdIcons=function(){return""};this.seekAd=function(b){c.seekAd(b)};this.getContentPaused=function(){if(c)return c.getContentPaused()};
this.pauseContent=function(){if(c)return c.pauseContent()};this.resumeContent=function(){if(c)return c.resumeContent()};this.setContentVolume=function(b){if(c)return c.setContentVolume(b)};this.subscribe=function(c,a,m){b.subscribe(c,a,m)};this.unsubscribe=function(c,a){b.unsubscribe(c,a)};Utils.defineProperty(this,"adRemainingTime",this.getAdRemainingTime,null);Utils.defineProperty(this,"adDuration",this.getAdDuration,null);Utils.defineProperty(this,"adVolume",this.getAdVolume,this.setAdVolume);
Utils.defineProperty(this,"adSkippableState",this.getAdSkippableState,null);Utils.defineProperty(this,"adLinear",this.getAdLinear,null);Utils.defineProperty(this,"adExpanded",this.getAdExpanded,null);Utils.defineProperty(this,"adCompanions",this.getAdCompanions,null);Utils.defineProperty(this,"adIcons",this.getAdIcons,null);Utils.defineProperty(this,"adWidth",this.getAdWidth,null);Utils.defineProperty(this,"adHeight",this.getAdHeight,null)};window.getVPAIDAd=function(){return new LinearAd};
(function(l){l.AVEvtMgr=function(){var c={};this.subscribe=function(l,k,b){c[k]||(c[k]=[]);c[k].push({callback:l,context:b})};this.unsubscribe=function(l,k){if(c[k])for(var b=0;b<c[k].length;b++)if(c[k][b].callback===l){c[k].splice(b,1);break}};this.dispatch=function(l,k,b,q){if(c[l])for(var a=0;a<c[l].length;a++)if(c[l][a]&&"function"===typeof c[l][a].callback)try{c[l][a].callback.call(c[l][a].context,k,b,q)}catch(m){}}}})(window);
(function(l){function c(a,m){if(b.trackingBuffer[a]&&b.trackingBuffer[a].data&&0<b.trackingBuffer[a].data.length){var d=JSON.stringify(b.trackingBuffer[a].data);b.trackingBuffer[a].data.length=0;b.trackingBuffer[a].timer&&(clearTimeout(b.trackingBuffer[a].timer),b.trackingBuffer[a].timer=0);if(a=b.createCORSRequest("POST",m,!1))"firefox"==b.getBrowser()&&a.overrideMimeType&&a.overrideMimeType("text/plain"),a.onload=a.onerror=a.onprogress=a.ontimeout=function(){},a.send(d)}}function r(a,m,d){if(d.trackingBuffer[a]&&
d.trackingBuffer[a].data&&0<d.trackingBuffer[a].data.length){var e=JSON.stringify(d.trackingBuffer[a].data);d.trackingBuffer[a].data.length=0;d.trackingBuffer[a].timer&&(clearTimeout(d.trackingBuffer[a].timer),d.trackingBuffer[a].timer=0);a=new XMLHttpRequest;"withCredentials"in a?a.open("POST",m,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest,a.open("POST",m)):a=null;a&&(a.onload=a.onerror=a.onprogress=a.ontimeout=function(){},a.send(e))}}function k(a,m,d,e,b,f){b.trackingBuffer[a]||
(b.trackingBuffer[a]={timer:0,data:[]});d&&b.trackingBuffer[a].data.push(d);e||b.trackingBuffer[a].data.length>=b.trackingBufferSize?f.postTrackingPixelsProto(a,m,b):1==b.trackingBuffer[a].data.length&&(b.trackingBuffer[a].timer=setTimeout(function(){b.trackingBuffer[a].timer=0;f.postTrackingPixelsProto(a,m,b)},1E3*b.trackingBufferTimeout))}var b=l.Utils={};b.getUrlParameters=function(a){if(!a){a="avmanager.js";for(var b="",d=document.getElementsByTagName("script"),e=0;e<d.length;e++)if(-1!==d[e].src.toLowerCase().indexOf(a)){b=
d[e].src;break}a=b}b={};d=a;0<d.indexOf("?")&&(d=d.slice(d.indexOf("?")+1));e=d.split("&");for(var c=0;c<e.length;c+=1)if(0<e[c].length&&(d=e[c].split("="),d[0]!==a&&0<d[0].length))if(1===d.length)b[d[0]]=null;else if(2===d.length)try{b[d[0]]=decodeURIComponent(d[1])}catch(w){b[d[0]]=d[1]}else{b[d[0]]="";for(var f=1;f<d.length;f+=1){try{b[d[0]]+=decodeURIComponent(d[f])}catch(w){b[d[0]]+=d[f]}f<d.length-1&&(b[d[0]]+="=")}}return b};b.extendsClass=function(a,b){var d=function(){};d.prototype=b.prototype;
a.prototype=new d};b.getPath=function(a){a&&-1!=a.indexOf("?")&&(a=a.split("?").shift());return a};b.getExtension=function(a){return(a=b.getPath(a))&&-1!=a.indexOf(".")?a.split(".").pop().toLowerCase():null};b.setExtension=function(a,b){return-1!=a.indexOf(".")?(a=a.split("."),a.pop(),a.push(b),a.join(".")):a+"."+b};b.logEnabled=!0;b.logElement=null;b.log=function(){if(b.logEnabled){var a=Array.prototype.join.call(arguments," ");this.logElement&&(this.logElement.innerHTML+=a+"<br>");console.log(a)}};
b.keys={};b.keysTotal={};b.begin=function(a){b.keys[a]=Date.now()};b.end=function(a){var m=b.keys[a];m=Date.now()-m;void 0==b.keysTotal[a]&&(b.keysTotal[a]=0);b.keysTotal[a]+=m};b.logKeys=function(a){b.log();var m=0;for(a in b.keysTotal)b.log(a+" = "+b.keysTotal[a]+" ms"),m+=b.keysTotal[a];b.log("Total = "+m);b.log()};b.defineProperties=function(a){var m=null,d=null,e=null,c=null;for(c in a){var f=c.substring(0,4);"get_"==f?(e=c.substring(4),m=a["get_"+e],void 0!=a["set_"+e]&&(d=a["set_"+e])):"set_"==
f&&(e=c.substring(4),void 0!=!a["get_"+e]&&(d=a["set_"+e]));(m||d)&&b.defineProperty(a,e,m,d)}};b.defineProperty=function(a,b,d,e,c){void 0!=Object.defineProperty?(c={enumerable:void 0!=c?c:!0,configurable:!0},d&&(c.get=d),e&&(c.set=e),Object.defineProperty(a,b,c)):(d&&void 0!=a.__defineGetter__&&a.__defineGetter__(b,d),e&&void 0!=a.__defineSetter__&&a.__defineSetter__(b,e))};b.rndString=function(){return Math.random()+"_"+Date.now()};b.formatData=function(a){var b=[],d;for(d in a){var e=a[d],c=typeof e;
"string"!=c&&"number"!=c&&"boolean"!=c||b.push(d+"="+encodeURIComponent(e))}return b.join("&")};b.webGLEnabled=function(){if(l.WebGLRenderingContext)for(var a=document.createElement("canvas"),b=["webgl","experimental-webgl","moz-webgl","webkit-3d"],d=!1,e=0;e<b.length;e++)try{if((d=a.getContext(b[e]))&&"function"==typeof d.getParameter)return!0}catch(z){}return!1};b.isMobile=function(){if("undefined"===typeof b.isMobileDevice){var a=!1,m=navigator.userAgent||navigator.vendor||l.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(m)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(m.substr(0,
4)))a=!0;b.isMobileDevice=a}return b.isMobileDevice};b.isAndroid=function(){"undefined"===typeof b.isAndroidDevice&&(b.isAndroidDevice=/(android)/i.test(navigator.userAgent));return b.isAndroidDevice};b.isiOS=function(){"undefined"===typeof b.isiOSDevice&&(b.isiOSDevice=/iPhone|iPod|iPad/.test(navigator.userAgent));return b.isiOSDevice};b.isSlow=function(){return 1024>Math.max(l.screen.width,l.screen.height)*(l.devicePixelRatio||1)};b.startRemoteDebug=function(a){};b.isWebKit=function(){return/WebKit/.test(navigator.userAgent)};
b.getOS=function(){if(navigator&&"string"==typeof navigator.appVersion)return-1!=navigator.appVersion.toLowerCase().indexOf("android")?"android":-1!=navigator.appVersion.toLowerCase().indexOf("mac")&&/iPad|iPhone|iPod/.test(navigator.userAgent)?"ios":-1!=navigator.appVersion.toLowerCase().indexOf("win")?"windows":-1!=navigator.appVersion.toLowerCase().indexOf("mac")?"mac":-1!=navigator.appVersion.toLowerCase().indexOf("x11")?"unix":-1!=navigator.appVersion.toLowerCase().indexOf("web0s")||-1!=navigator.appVersion.toLowerCase().indexOf("webos")?
"webos":-1!=navigator.appVersion.toLowerCase().indexOf("linux")?"linux":null};b.getOSVersion=function(){var a=navigator.userAgent.toLowerCase().split(" "),b=a.indexOf("os");return-1!=b?(a=a[b+1].split("_"),{major:a[0],minor:a[1]}):{major:0,minor:0}};b.getChromeVersion=function(){var a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a?parseInt(a[2],10):!1};b.getBrowser=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("chrome")&&-1!=navigator.vendor.toLowerCase().indexOf("google")?
"chrome":-1!=navigator.userAgent.toLowerCase().indexOf("opera")?"opera":-1!=navigator.userAgent.toLowerCase().indexOf("firefox")?"firefox":-1!=navigator.userAgent.toLowerCase().indexOf("safari")&&-1!=navigator.vendor.toLowerCase().indexOf("apple")?"safari":-1!=navigator.userAgent.toLowerCase().indexOf("msie")||1==!!document.documentMode?"ie":null};b.isHighDensity=function(){var a=!1;try{a=l.matchMedia&&(l.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||
l.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||l.devicePixelRatio&&1.3<l.devicePixelRatio}catch(m){a=l.devicePixelRatio&&1.3<l.devicePixelRatio}return a};b.parseXML=function(a){return(l.DOMParser?function(a){return(new l.DOMParser).parseFromString(a,"text/xml")}:"undefined"!=typeof l.ActiveXObject&&new l.ActiveXObject("Microsoft.XMLDOM")?
function(a){var b=new l.ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b}:function(){return null})(a)};b.getChildByPath=function(a,m){if(a&&m&&(m=m.split("/"),0<m.length)){var d=m.shift().toLowerCase();a=a.children;for(var e=0;e<a.length;e++){var c=a[e];if(c.nodeName.toLowerCase()==d)return 0<m.length?b.getChildByPath(c,m.join("/")):c}}return null};b.isVideoElement=function(a){var b="",d="",e="",c="";a.canPlayType&&(b=""!==a.canPlayType('video/mp4; codecs="mp4v.20.8"'),d=""!==
(a.canPlayType('video/mp4; codecs="avc1.42E01E"')||a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),e=""!==a.canPlayType('video/ogg; codecs="theora"'),c=""!==a.canPlayType('video/webm; codecs="vp8, vorbis"'));return b||d||e||c};b.getElementById=function(a,m){a=a.childNodes;for(var d in a){var e=a[d];if(e.id==m)return e;e=b.getElementById(e,m);if(null!=e)return e}return null};b.getHostName=function(a){function b(a){if("undefined"==typeof a||null==a)return"";a=a.trimStr();if(""==a)return"";
if(-1<a.indexOf("://"))if(a=a.split("://"),-1<a[0].indexOf("/")||-1<a[0].indexOf(".")||-1<a[0].indexOf("?")||-1<a[0].indexOf("&"))if(a[0]=a[0].trimStr(),0==a[0].indexOf("//"))a=a[0].split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else return"";else a[1]=a[1].trimStr(),a=a[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else a=0==a.indexOf("//")?a.split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]:a.split("/")[0].trimStr().split("?")[0].split("&")[0];return a}
try{a=decodeURIComponent(a),a=decodeURIComponent(a),a=decodeURIComponent(a)}catch(d){try{"%"==a[a.length-1]?a=a.substring(0,a.length-1):"%"==a[a.length-2]&&(a=a.substring(0,a.length-2)),a=decodeURIComponent(a),a=decodeURIComponent(a),a=decodeURIComponent(a)}catch(e){}}String.prototype.trimStr=function(){return this.replace(/^\s+|\s+$/g,"")};return function(a){if("undefined"==typeof a||null==a)return"";a=a.trimStr();return""==a?"":b(a).split(":")[0]}(a)};b.getMD5=function(a,b,d){function e(a,g){var b=
(a&65535)+(g&65535);return(a>>16)+(g>>16)+(b>>16)<<16|b&65535}function m(a,g,b,m,d,c){a=e(e(g,a),e(m,c));return e(a<<d|a>>>32-d,b)}function c(a,g,b,e,d,c,t){return m(g&b|~g&e,a,g,d,c,t)}function q(a,g,b,e,d,c,t){return m(g&e|b&~e,a,g,d,c,t)}function t(a,g,b,e,d,c,t){return m(b^(g|~e),a,g,d,c,t)}function n(a,g){a[g>>5]|=128<<g%32;a[(g+64>>>9<<4)+14]=g;var b=1732584193,d=-271733879,f=-1732584194,n=271733878;for(g=0;g<a.length;g+=16){var u=b;var D=d;var C=f;var z=n;b=c(b,d,f,n,a[g],7,-680876936);n=c(n,
b,d,f,a[g+1],12,-389564586);f=c(f,n,b,d,a[g+2],17,606105819);d=c(d,f,n,b,a[g+3],22,-1044525330);b=c(b,d,f,n,a[g+4],7,-176418897);n=c(n,b,d,f,a[g+5],12,1200080426);f=c(f,n,b,d,a[g+6],17,-1473231341);d=c(d,f,n,b,a[g+7],22,-45705983);b=c(b,d,f,n,a[g+8],7,1770035416);n=c(n,b,d,f,a[g+9],12,-1958414417);f=c(f,n,b,d,a[g+10],17,-42063);d=c(d,f,n,b,a[g+11],22,-1990404162);b=c(b,d,f,n,a[g+12],7,1804603682);n=c(n,b,d,f,a[g+13],12,-40341101);f=c(f,n,b,d,a[g+14],17,-1502002290);d=c(d,f,n,b,a[g+15],22,1236535329);
b=q(b,d,f,n,a[g+1],5,-165796510);n=q(n,b,d,f,a[g+6],9,-1069501632);f=q(f,n,b,d,a[g+11],14,643717713);d=q(d,f,n,b,a[g],20,-373897302);b=q(b,d,f,n,a[g+5],5,-701558691);n=q(n,b,d,f,a[g+10],9,38016083);f=q(f,n,b,d,a[g+15],14,-660478335);d=q(d,f,n,b,a[g+4],20,-405537848);b=q(b,d,f,n,a[g+9],5,568446438);n=q(n,b,d,f,a[g+14],9,-1019803690);f=q(f,n,b,d,a[g+3],14,-187363961);d=q(d,f,n,b,a[g+8],20,1163531501);b=q(b,d,f,n,a[g+13],5,-1444681467);n=q(n,b,d,f,a[g+2],9,-51403784);f=q(f,n,b,d,a[g+7],14,1735328473);
d=q(d,f,n,b,a[g+12],20,-1926607734);b=m(d^f^n,b,d,a[g+5],4,-378558);n=m(b^d^f,n,b,a[g+8],11,-2022574463);f=m(n^b^d,f,n,a[g+11],16,1839030562);d=m(f^n^b,d,f,a[g+14],23,-35309556);b=m(d^f^n,b,d,a[g+1],4,-1530992060);n=m(b^d^f,n,b,a[g+4],11,1272893353);f=m(n^b^d,f,n,a[g+7],16,-155497632);d=m(f^n^b,d,f,a[g+10],23,-1094730640);b=m(d^f^n,b,d,a[g+13],4,681279174);n=m(b^d^f,n,b,a[g],11,-358537222);f=m(n^b^d,f,n,a[g+3],16,-722521979);d=m(f^n^b,d,f,a[g+6],23,76029189);b=m(d^f^n,b,d,a[g+9],4,-640364487);n=m(b^
d^f,n,b,a[g+12],11,-421815835);f=m(n^b^d,f,n,a[g+15],16,530742520);d=m(f^n^b,d,f,a[g+2],23,-995338651);b=t(b,d,f,n,a[g],6,-198630844);n=t(n,b,d,f,a[g+7],10,1126891415);f=t(f,n,b,d,a[g+14],15,-1416354905);d=t(d,f,n,b,a[g+5],21,-57434055);b=t(b,d,f,n,a[g+12],6,1700485571);n=t(n,b,d,f,a[g+3],10,-1894986606);f=t(f,n,b,d,a[g+10],15,-1051523);d=t(d,f,n,b,a[g+1],21,-2054922799);b=t(b,d,f,n,a[g+8],6,1873313359);n=t(n,b,d,f,a[g+15],10,-30611744);f=t(f,n,b,d,a[g+6],15,-1560198380);d=t(d,f,n,b,a[g+13],21,1309151649);
b=t(b,d,f,n,a[g+4],6,-145523070);n=t(n,b,d,f,a[g+11],10,-1120210379);f=t(f,n,b,d,a[g+2],15,718787259);d=t(d,f,n,b,a[g+9],21,-343485551);b=e(b,u);d=e(d,D);f=e(f,C);n=e(n,z)}return[b,d,f,n]}function v(a){var g,b="";for(g=0;g<32*a.length;g+=8)b+=String.fromCharCode(a[g>>5]>>>g%32&255);return b}function C(a){var g,b=[];b[(a.length>>2)-1]=void 0;for(g=0;g<b.length;g+=1)b[g]=0;for(g=0;g<8*a.length;g+=8)b[g>>5]|=(a.charCodeAt(g/8)&255)<<g%32;return b}function B(a){return v(n(C(a),8*a.length))}function u(a){var g=
"",b;for(b=0;b<a.length;b+=1){var d=a.charCodeAt(b);g+="0123456789abcdef".charAt(d>>>4&15)+"0123456789abcdef".charAt(d&15)}return g}function g(a,g){a=unescape(encodeURIComponent(a));var b=unescape(encodeURIComponent(g)),d=C(a),e=[];g=[];e[15]=g[15]=void 0;16<d.length&&(d=n(d,8*a.length));for(a=0;16>a;a+=1)e[a]=d[a]^909522486,g[a]=d[a]^1549556828;a=n(e.concat(C(b)),512+8*b.length);return v(n(g.concat(a),640))}return b?d?g(b,a):u(g(b,a)):d?B(unescape(encodeURIComponent(a))):u(B(unescape(encodeURIComponent(a))))};
b.getSHA1=function(a){var b={hash:function(a){a=unescape(encodeURIComponent(a));var e=[1518500249,1859775393,2400959708,3395469782];a+=String.fromCharCode(128);for(var d=Math.ceil((a.length/4+2)/16),f=Array(d),c=0;c<d;c++){f[c]=Array(16);for(var m=0;16>m;m++)f[c][m]=a.charCodeAt(64*c+4*m)<<24|a.charCodeAt(64*c+4*m+1)<<16|a.charCodeAt(64*c+4*m+2)<<8|a.charCodeAt(64*c+4*m+3)}f[d-1][14]=8*(a.length-1)/Math.pow(2,32);f[d-1][14]=Math.floor(f[d-1][14]);f[d-1][15]=8*(a.length-1)&4294967295;a=1732584193;
m=4023233417;var n=2562383102,q=271733878,C=3285377520,B=Array(80);for(c=0;c<d;c++){for(var u=0;16>u;u++)B[u]=f[c][u];for(u=16;80>u;u++)B[u]=b.ROTL(B[u-3]^B[u-8]^B[u-14]^B[u-16],1);var g=a;var D=m;var l=n;var k=q;var x=C;for(u=0;80>u;u++){var r=Math.floor(u/20);r=b.ROTL(g,5)+b.f(r,D,l,k)+x+e[r]+B[u]&4294967295;x=k;k=l;l=b.ROTL(D,30);D=g;g=r}a=a+g&4294967295;m=m+D&4294967295;n=n+l&4294967295;q=q+k&4294967295;C=C+x&4294967295}return b.toHexStr(a)+b.toHexStr(m)+b.toHexStr(n)+b.toHexStr(q)+b.toHexStr(C)},
f:function(a,b,c,f){switch(a){case 0:return b&c^~b&f;case 1:return b^c^f;case 2:return b&c^b&f^c&f;case 3:return b^c^f}},ROTL:function(a,b){return a<<b|a>>>32-b},toHexStr:function(a){for(var b="",d,f=7;0<=f;f--)d=a>>>4*f&15,b+=d.toString(16);return b}};return b.hash(a)};b.joinObject=function(a){var b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(d+"="+a[d]);return b.join("&")};b.getProtocol=function(){if("undefined"!==typeof b.protocol)return b.protocol;if("http:"==l.location.protocol||"https:"==l.location.protocol)b.protocol=
b.baseProtocol=l.location.protocol,b.topWindow=l;else{var a=l;var c=a.location.protocol;var d=0;try{for(;"http:"!=c&&"https:"!=c&&15>d&&a!==a.parent;)a=a.parent,c=a.location.protocol,d++}catch(e){}"http:"==c||"https:"==c?(b.protocol=c,b.topWindow=a):b.protocol="https:";b.baseProtocol=c}return b.protocol};b.getTopWindow=function(){this.topWindow||this.getProtocol();return this.topWindow};b.httpsReplace=function(a){"https:"==b.getProtocol()&&(-1==a.indexOf("hwdata1.aniview.com")&&(a=a.replace("data1.ani-view.com",
"gbdl.hs.llnwd.net/v1"),a=a.replace("data1.aniview.com","aniview.hs.llnwd.net/d1")),a=a.replace(/^http:\/\//i,"https://"));return a};b.getTrueDomain=function(){function a(a){try{if(!l.location.ancestorOrigins)return;for(var b=0,d=l.location.ancestorOrigins.length;d>b;b++)a.call(null,l.location.ancestorOrigins[b],b)}catch(t){}return[]}function c(a){var b=[];do try{var d=d?d.parent:l;a.call(null,d,b)}catch(t){return b.push({referrer:null,location:null,isTop:!1}),b}while(d!==l.top);return b}function d(){var b=
null;try{var d=c(function(a,b){try{b.push({referrer:a.document.referrer||null,location:a.location.href||null,isTop:a===l.top})}catch(v){b.push({referrer:null,location:null,isTop:a===l.top})}});a(function(a,b){d[b].ancestor=a});b="";for(var e=d.length-1;0<=e&&(b=d[e].location,!b&&0<e&&(b=d[e-1].referrer,b||(b=d[e-1].ancestor)),!b);e--);}catch(t){}return b}try{var e=d();if("string"===typeof e)try{e=b.getAmpUrl(e)}catch(z){}return e}catch(z){return null}};b.getAmpUrl=function(a){if("string"===typeof a){var b=
a.indexOf("/amp/");if(0<b&&40>b){var d=a.indexOf("google.");0<d&&d<b&&(a="https://"+a.substring(b+5,500))}return a}};b.logLevels={none:0,defaultLevel:1,error:2,info:4,debug:5};b.logLevel=b.logLevels.none;b.writeLog=function(a,b,d){if(a<=this.logLevel)try{d?console.log(b,d):console.log(b)}catch(e){}};b.reportDuduPixel=function(a,b,d){};b.setFSState=function(a,b){b=b?a.requestFullscreen||a.webkitRequestFullscreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen:a.exitFullscreen||
a.webkitExitFullscreen||a.webkitCancelFullScreen||a.mozCancelFullScreen||a.msExitFullscreen;if("function"!==typeof b)return!1;b.call(a);return!0};b.getFSElement=function(a){return a.fullscreenElement||a.webkitFullscreenElement||a.webkitCurrentFullScreenElement||a.mozFullScreenElement||a.msFullscreenElement};b.getFSEvent=function(){var a=document;return a.exitFullscreen?"fullscreenchange":a.webkitExitFullscreen?"webkitfullscreenchange":a.webkitCancelFullScreen?"webkitfullscreenchange":a.mozCancelFullScreen?
"mozfullscreenchange":a.msExitFullscreen?"MSFullscreenChange":null};b.getVideoSignature=function(a,b){a=a.replace(/\https/g,"http");var d=a.toUpperCase();if(-1<d.search(".MP4")||-1<d.search(".FLV")||-1<d.search(".3GP")||-1<d.search(".WMV")||-1<d.search(".WEBM")){if(-1<a.search("/videoplayback/")&&-1<a.search("/id/")&&-1<a.search("/itag/")&&-1<a.search("/source/")&&-1<a.search("/ip/")){var e=a.search("ip/");a=a.substr(0,e)}e=a.indexOf("90minContentId");-1<e&&((a=a.substring(e+15,e+100))&&2<a.length&&
(e=a.indexOf("&"),-1<e&&(a=a.substring(0,e))),a="http://90min.com/"+a+"/"+a+"/"+a+"/"+a);"string"===typeof b&&2<b.length&&(a=b);if(-1<a.indexOf("track.eyeviewads.com")){var c="";e=a.indexOf("madid=");-1<e&&(e+=6,b=a.substring(e,e+100),e=b.indexOf("&"),-1<e&&(c=b.substring(0,e)),c&&2<c.length&&(a="http://track.eyeviewads.com/madid/"+c+"/"+c+"/"+c+"/"+c+"/"+c))}-1<a.indexOf("eyeviewads")?(b="",-1<d.search(".MP4")?b=".mp4":-1<d.search(".FLV")?b=".flv":-1<d.search(".3GP")&&(b=".3gp"),a=a.split(b),a=a[0]+
b):-1<a.indexOf("?")&&(a=a.split("?"),a=a[0]);-1<a.indexOf("toboads.com/vast2/agw.php")&&(b="zzzzzzz",-1<d.search(".MP4")?b=".MP4":-1<d.search(".FLV")?b=".FLV":-1<d.search(".WEBM")?b=".WEBM":-1<d.search(".3GP")&&(b=".3GP"),"zzzzzzz"!=b&&(a=d.split(b),a=a[0]+b))}else-1<a.indexOf("/www.youtube.com/get_video?")&&(c="",e=a.indexOf("video_id="),-1<e&&(e+=9,b=a.substring(e,e+100),e=b.indexOf("&"),-1<e&&(c=b.substring(0,e)),c&&2<c.length&&(a="http://www.youtube.com/video_id/"+c+"/"+c+"/"+c+"/"+c))),-1<a.indexOf("web.sundaysky.com/create_video")&&
(c="",e=a.indexOf("create_video?id="),-1<e&&(e+=16,b=a.substring(e,e+100),e=b.indexOf("&"),-1<e&&(c=b.substring(0,e)),c&&2<c.length&&(a="http://web.sundaysky.com/create_video/video_id/"+c+"/"+c+"/"+c+"/"+c)));d=a;b=0;e="";for(a=0;a<d.length;a++)c=d.charCodeAt(a)*a,b+=c,0==a%13&&(e+=b.toString(),b=0);e+=b.toString();return e+="_"+d.length};b.getSlotSize=function(a){a=a.getBoundingClientRect();a={width:a.width,height:a.height};var b=l.AV_player.config.width,d=l.AV_player.config.height;a.width=b>a.width?
b:a.width;a.height=d>a.height?d:a.height;return a};var q=function(){function a(){var a=k.getVieabilityInfo(q.el,q.wnd),b=a.vertical.value*a.horizontal.value;return{inView:b>e,ratio:b,state:a.vertical.state}}function c(){var b=a();d&&d(b.inView,b.ratio,b.state)}var d=null,e=.5,q=null,f=!1,k=this;this.checkViewability=function(){c()};this.start=function(a,n,m){if(f)return!1;a:{var t=null,B=l;b&&"function"===typeof b.getViewability&&"function"===typeof b.getUrlParameters&&(B=parent);try{if(t=B.frameElement)for(var u,
g=B;g!==l.top;){u=t.ownerDocument;g=u.defaultView||u.parentWindow;if(g===l.top){var D=g;var v=t;break}t=g.frameElement}}catch(R){f=!0;q=null;break a}if(null==t){v="object"==typeof a?a:B.document.getElementById(a);if(!v){f=!0;q=null;break a}D=B}q={el:v,wnd:D}}if(!q)return!1;m&&(e=m);n&&(q.wnd.addEventListener("resize",c,!0),q.wnd.addEventListener("scroll",c,!0),d=n,setTimeout(c,10));return!0};this.stop=function(){d&&(q.wnd.removeEventListener("resize",c,!0),q.wnd.removeEventListener("scroll",c,!0),
d=null)};this.get=function(b,d){return!f&&q?a():{inView:!1,ratio:0,state:"UNKNOWN"}};this.getHorizontalViewability=function(a,b){b=b.innerWidth;var d=a.getBoundingClientRect().left;a=a.getBoundingClientRect().right;var e=a-d;return d>b?{value:0,state:"OUT_RIGHT"}:0>=a?{value:0,state:"OUT_LEFT"}:0<=d&&a<=b?{value:1,state:"IN_HVIEW"}:0>d&&a>b?{value:b/e,state:"LR_TRUNC"}:0>d&&a<=b?{value:a/e,state:"L_TRUNC"}:0<=d&&a>b?{value:(b-d)/e,state:"R_TRUNC"}:{value:0,state:"OUT"}};this.getVerticalViewability=
function(a,b){b=b.innerHeight;var d=a.getBoundingClientRect().top;a=a.getBoundingClientRect().bottom;var e=a-d;return d>b?{value:0,state:"OUT_BOTTOM"}:0>=a?{value:0,state:"OUT_TOP"}:0<=d&&a<=b?{value:1,state:"IN_VVIEW"}:0>d&&a>b?{value:b/e,state:"BT_TRUNC"}:0>d&&a<=b?{value:a/e,state:"T_TRUNC"}:0<=d&&a>b?{value:(b-d)/e,state:"B_TRUNC"}:{value:0,state:"OUT"}};this.getVieabilityInfo=function(a,b){return{vertical:k.getVerticalViewability(a,b),horizontal:k.getHorizontalViewability(a,b)}}};b.getViewability=
function(a){if(this.lastViewabilityCheck&&100>Date.now()-this.lastViewabilityCheck)return this.lastViewability;a||(a=l.AV_player.config.slot);b.viewability||(b.viewability=new q,b.viewability.start(a,void 0,void 0));if(this.lastViewability=this.viewability.get())a=Math.floor(100*this.lastViewability.ratio),"UNKNOWN"==this.lastViewability.state&&(a=-1),this.lastViewability.perc=a;this.lastViewabilityCheck=Date.now();return this.lastViewability};b.getViewabilityPerc=function(a){var b=-1;try{var d=this.getViewability(a);
d&&(b=d.perc)}catch(e){}return b};b.flashInstalled=function(){if("undefined"===typeof this.isFlashInstalled)try{this.isFlashInstalled=1==("undefined"!==typeof navigator.plugins&&"object"===typeof navigator.plugins["Shockwave Flash"]||l.ActiveXObject&&!1!==new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(a){this.isFlashInstalled=!1}return this.isFlashInstalled};b.createCORSRequest=function(a,b,d){var e=new XMLHttpRequest;"withCredentials"in e?(e.open(a,b,!0),1==d&&(e.withCredentials=!0)):
"undefined"!=typeof XDomainRequest?(e=new XDomainRequest,e.open(a,b)):e=null;return e};b.trackingBuffer={};b.trackingBufferSize=12;b.trackingBufferTimeout=5;b.bufferTrackingPixel=function(a,m,d,e){if("5ad59b84073ef41a4d606890"===l.AV_player.config.networkid)return this.topBufferTrackingPixel(a,m,d,e);this.trackingBuffer[a]||(this.trackingBuffer[a]={timer:0,data:[]});d&&this.trackingBuffer[a].data.push(d);e||this.trackingBuffer[a].data.length>=b.trackingBufferSize?c(a,m):1==this.trackingBuffer[a].data.length&&
(this.trackingBuffer[a].timer=setTimeout(function(){b.trackingBuffer[a].timer=0;c(a,m)},1E3*b.trackingBufferTimeout))};b.initTrackingBuffer=function(a){if(!this.initTrackingBufferDone&&(this.initTrackingBufferDone=!0,1==a&&(a=this.getTopWnd()))){"undefined"===typeof a.storageAni&&(a.storageAni={});"undefined"===typeof a.storageAni.trk&&(a.storageAni.trk={});for(var c=Date.now().toString();a.storageAni.trk[c];)c=(Date.now()+1).toString();a.storageAni.trk[c]={trackingBuffer:{},trackingBufferSize:12,
trackingBufferTimeout:5};try{var d=document.createElement("script"),e=r.toString()+k.toString();e=e.replace(/(\r\n|\n|\r)/gm,"");e=e.replace("function "+r.name,"function av_trk_post"+c);e=e.replace("function "+k.name,"function av_trk_buffer"+c);e=e.replace("postTrackingPixelsProto","av_trk_post"+c);e=e.replace("postTrackingPixelsProto","av_trk_post"+c);d.innerText=e;a.document.body.appendChild(d);b.topBufferTrackingPixelImpl=a["av_trk_buffer"+c];b.topBufferTrackingPixelTrk=a.storageAni.trk[c]}catch(z){}}return"function"===
typeof b.topBufferTrackingPixelImpl&&!!b.topBufferTrackingPixelTrk};b.topBufferTrackingPixel=function(a,c,d,e){this.initTrackingBuffer(1);this.topBufferTrackingPixelImpl&&this.topBufferTrackingPixelImpl(a,c,d,e,b.topBufferTrackingPixelTrk,b.getTopWnd())};b.findAdServerName=function(a,b){function d(a){a||(a="");return a.trim().toLowerCase()}function e(a,b,d,e){a=a.indexOf(b);return a>d&&a<e?!0:!1}try{a=d(a);b=[{n:"3rdp1",t:"b.measuread.com/tl.js",s:0,e:11}];for(var c=0;c<b.length;c++)if(e(a,b[c].t,
b[c].s,b[c].e))return b[c].n}catch(f){}return""};b.isAutoSound=function(a){return a.autosound&&!b.isMobile()||a.advideoslot&&a.autosound};b.vcmgr={init:function(a){a.av_evts||(a.av_evts=[],a.av_evtscnt=1,a.av_orig_addEventListener=a.addEventListener,a.av_orig_removeEventListener=a.removeEventListener);a.addEventListener=function(a,b,e){"function"===typeof b&&(b.av_evtid=this.av_evtscnt++,this.av_evts.push({evt:a,func:b,opt:e}));return this.av_orig_addEventListener.apply(this,arguments)};a.removeEventListener=
function(a,b,e){if("function"===typeof b&&b.av_evtid)for(var d=0;d<this.av_evts.length;d++)if(b.av_evtid==this.av_evts[d].func.av_evtid){this.av_evts.splice(d,1);break}return this.av_orig_removeEventListener.apply(this,arguments)}},clean:function(a){if(a&&a.av_evts){for(var b=0;b<a.av_evts.length;b++)try{a.av_orig_removeEventListener.call(a,a.av_evts[b].evt,a.av_evts[b].func,a.av_evts[b].opt)}catch(d){}a.av_evts.length=0}},reset:function(a){a&&a.av_evts&&(this.clean(a),a.av_evts=null,a.av_evtscnt=
0,a.av_orig_addEventListener&&(a.addEventListener=a.av_orig_addEventListener,a.av_orig_addEventListener=null),a.av_orig_removeEventListener&&(a.removeEventListener=a.av_orig_removeEventListener,a.av_orig_removeEventListener=null))}};b.getTopWnd=function(a){if(this.topWnd)return this.topWnd;var b=a||l;try{for(;b.frameElement;)try{b.frameElement.getBoundingClientRect()&&(b=b.frameElement.ownerDocument.defaultView||b.frameElement.ownerDocument.parentWindow)}catch(d){break}}catch(d){}return this.topWnd=
b||a};b.preventDefaults=function(a){a||(a=l.event);a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};b.initScrollIntoViewHandler=function(a,b){function d(a,b){a&&b&&!a.Element.prototype.av_OrigScrollIntoView&&(a.Element.prototype.av_OrigScrollIntoView=a.Element.prototype.scrollIntoView,a.Element.prototype.scrollIntoView=function(){for(var a=this;a&&a.parentNode&&a!==a.parentNode;){if(a===b)return;a=a.parentNode}return this.av_OrigScrollIntoView.apply(this,arguments)})}if(!a.AV_handleScrollIntoView)try{var e=
document.createElement("script");e.innerText=d.toString();e.innerText=e.innerText.replace(/(\r\n|\n|\r)/gm,"");var c="av_sciv_hndlr"+Date.now();e.innerText=e.innerText.replace("function "+d.name,"function "+c);a.document.body.appendChild(e);a[c](a,b)}catch(f){}};b._consent={consentData:"",gdprApplies:!1,hasGlobalScope:!1,success:!1};b.getConsent=function(){var a=this;if(!this._consentReq){this._consentReq=!0;try{top&&"function"===typeof top.__cmp&&top.__cmp("getConsentData",null,function(b){b&&b.consentData&&
"string"===typeof b.consentData&&1<b.consentData.length&&(a._consent={consentData:b.consentData,gdprApplies:b.gdprApplies,hasGlobalScope:b.hasGlobalScope,success:!0})})}catch(m){}}return this._consent};b.checkNativeVideo=function(a){var b=document.createElement("video");b.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";
b.setAttribute("playsinline",!0);b.setAttribute("webkit-playsinline",!0);b.style.display="none";b.muted=!0;b=b.play();var d=!1;b?(b.then(function(){d=!0;a(!0)}).catch(function(b){d=!0;a(!1)}),setTimeout(function(){d||a(!1)},1E3)):a(!1)}})(window);
(function(l){function c(a){return a&&a.complete&&0<a.width&&0<a.height}function r(a,b){function d(a){var b,d=0,c="";for(b=0;b<a.length;b++){var g=a.charCodeAt(b)*b;d+=g;0==b%13&&(c+=d.toString(),d=0)}c+=d.toString();return c+="_"+a.length}a=a.replace(/\https/g,"http");var c=a.toUpperCase();if(-1<c.search(".SWF")||-1<c.search(".MP4")||-1<c.search(".FLV")||-1<c.search(".3GP")||-1<c.search(".WMV")||-1<c.search(".WEBM")){var e="";if(0==a.trim().indexOf("data:"))return a=d("http://pixel.adsafeprotected.com/IASVideo.js?1234");
-1<a.search("/videoplayback/")&&-1<a.search("/id/")&&-1<a.search("/itag/")&&-1<a.search("/source/")&&-1<a.search("/ip/")&&(e=a.search("ip/"),a=a.substr(0,e));if(-1<a.search("rtr.innovid.com/d/")&&-1<a.search("/media/")){e=a.search("rtr.innovid.com/d/")+18;e=a.substr(e,e+50);var n=e.search("/");-1<n&&(e=e.substr(0,n)+"/",a="https://rtr.innovid.com/d/"+e+e+e+e+e)}e=a.indexOf("90minContentId");-1<e&&((a=a.substring(e+15,e+100))&&2<a.length&&(e=a.indexOf("&"),-1<e&&(a=a.substring(0,e))),a="http://90min.com/"+
a+"/"+a+"/"+a+"/"+a);"string"===typeof b&&2<b.length&&(a=b);-1<a.indexOf("track.eyeviewads.com")&&(n="",e=a.indexOf("madid="),-1<e&&(e+=6,b=a.substring(e,e+100),e=b.indexOf("&"),-1<e&&(n=b.substring(0,e)),n&&2<n.length&&(a="http://track.eyeviewads.com/madid/"+n+"/"+n+"/"+n+"/"+n+"/"+n)));-1<a.indexOf("eyeviewads")?(b="",-1<c.search(".MP4")?b=".mp4":-1<c.search(".FLV")?b=".flv":-1<c.search(".3GP")&&(b=".3gp"),a=a.split(b),a=a[0]+b):-1<a.indexOf("?")&&(a=a.split("?"),a=a[0]);-1<a.indexOf("toboads.com/vast2/agw.php")&&
(b="zzzzzzz",-1<c.search(".MP4")?b=".MP4":-1<c.search(".FLV")?b=".FLV":-1<c.search(".WEBM")?b=".WEBM":-1<c.search(".3GP")&&(b=".3GP"),"zzzzzzz"!=b&&(a=c.split(b),a=a[0]+b));a=d(a)}else{-1<a.indexOf("/www.youtube.com/get_video?")&&(n="",e=a.indexOf("video_id="),-1<e&&(e+=9,b=a.substring(e,e+100),e=b.indexOf("&"),-1<e&&(n=b.substring(0,e)),n&&2<n.length&&(a="http://www.youtube.com/video_id/"+n+"/"+n+"/"+n+"/"+n)));-1<a.indexOf("/create_video")&&(n="",e=a.indexOf("create_video?id="),-1<e&&(e+=16,b=a.substring(e,
e+100),e=b.indexOf("&"),-1<e&&(n=b.substring(0,e)),n&&2<n.length&&(a="http://web.sundaysky.com/create_video/video_id/"+n+"/"+n+"/"+n+"/"+n)));if(0==a.trim().indexOf("data:")||-1<a.indexOf(".js?")||-1<a.indexOf("/js/vpaid/")||-1<a.indexOf("/moatwrapper.js#")||a.indexOf(".js")==a.length-3)a="http://pixel.adsafeprotected.com/IASVideo.js?1234";-1<a.indexOf("vam.imposium.com/redirect")&&(c=a.indexOf("?"),-1<c&&(a=a.substring(0,c)));c=a.indexOf("ad.doubleclick.net/ddm");-1<c&&11>c&&-1<a.indexOf("=text/xml")&&
(a="http://pixel.adsafeprotected.com/IASVideo.js?1234");a=d(a);1E3<a.length&&(a=d(a))}return a}function k(a,d,c,q,m){var e;var f=(new Date).getTime();l.AV_player.config.adfoldermode?a=q.trim()+"/id.txt":(q=l.AV_player.config.keydomain,m&&(q="cdn3.aniview.com"),a=Utils.httpsReplace("http://"+q+"/")+d+"/"+a+"/id.txt?cb="+f);var C=b("GET",a,0);C.onload=function(){200==C.status?""!=C.responseText?(e=JSON.parse(C.responseText),e.error?1==e.error||2==e.error||3==e.error?c.failure(e):c.success(e):c.success(e)):
c.failure({error:0}):403==C.status||404==C.status?c.failure(null):c.failure({error:0})};C.onerror=function(){403==C.status||404==C.status?c.failure(null):c.failure({error:0})};C.send()}function b(a,b,d){var c=new XMLHttpRequest;"withCredentials"in c?(c.open(a,b,!0),1==d&&(c.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open(a,b)):c=null;return c}function q(b,d){var c=null,e=[];for(c in d){var q=c.substring(0,4);if("get_"==q||"set_"==q){var n=c.substring(4);if(-1==
e.indexOf(n)){e.push(n);q=d["get_"+n];var m=d["set_"+n];if("nodeName"==n||"tagName"==n)try{a(b,n,q,m)}catch(C){}else a(b,n,q,m)}}else b[c]=d[c]}}function a(a,b,d,c,q){void 0!=Object.defineProperty?(q={enumerable:void 0!=q?q:!0,configurable:!0},d&&(q.get=d),c&&(q.set=c),Object.defineProperty(a,b,q)):(d&&void 0!=a.__defineGetter__&&a.__defineGetter__(b,d),c&&void 0!=a.__defineSetter__&&a.__defineSetter__(b,c))}var m=l.AniviewImagePlayer={};m.createAniviewVideoTag=function(a){return Utils.isMobile()?
m.isVideoSupported(a)?m.createMobileVideoTag():m.createTag():document.createElement("video")};m.isVideoSupported=function(a){if(a||l.AV_player&&l.AV_player.config&&l.AV_player.config.nativevideo){if(Utils.isiOS()){if(10<=Utils.getOSVersion().major)return!0}else if(Utils.isAndroid()&&53<=Utils.getChromeVersion())return!0;if(l.AV_player&&l.AV_player.config&&(a||l.AV_player.config.nativevideo)&&l.AV_player.config.nativetest)return!0}return!1};m.createMobileVideoTag=function(){var a=document.createElement("video");
a.setAttribute("muted",!0);a.setAttribute("playsinline",!0);a.setAttribute("webkit-playsinline",!0);a.origPlay=a.play;a.play=function(){a.fullScreenRequested||(a.setAttribute("muted",!0),a.setAttribute("playsinline",!0),a.setAttribute("webkit-playsinline",!0));this.pauseState=!1;return a.origPlay.call(a)};a.origPause=a.pause;a.pause=function(){this.pauseState=!0;this.pauseStateTimer&&(clearInterval(this.pauseStateTimer),this.pauseStateTimer=0);return a.origPause.call(a)};a.audioReady=!0;Utils.isiOS()&&
(a.addEventListener("webkitbeginfullscreen",function(){a.fullScreenRequested||"function"!==typeof a.webkitExitFullscreen||a.webkitExitFullscreen()}),a.addEventListener("webkitendfullscreen",function(){a.setAttribute("playsinline",!0);a.setAttribute("webkit-playsinline",!0)}),a.resize=function(b,d,c){"fullscreen"==c&&Utils.isiOS()&&((b=a.paused)||a.pause(),a.removeAttribute("playsinline"),a.removeAttribute("webkit-playsinline"),a.fullScreenRequested=!0,b||a.play())});return a};m.createTag=function(a){function b(a){if("string"!==
typeof a)return!1;a=a.trim();return 0==a.indexOf("data:")||0==a.indexOf("about:")?!1:!0}function e(){var a=null,g=x.children;if(g&&0<g.length&&(!x.src||""==x.src)){var d="";for(a=0;a<g.length;a++)g[a].src&&(-1<g[a].src.indexOf("wmv")||-1<g[a].src.indexOf("webm")||-1<g[a].src.indexOf("mp4")||-1<g[a].src.indexOf("flv")||-1<g[a].src.indexOf("3gpp"))&&b(g[a].src)&&(d=g[a].src,a=g.length);a=d}a&&""!=a||b(x.getAttribute("src"))&&(a=x.getAttribute("src"));a&&""!=a||(a=x.src);a&&b(a)&&(x.src=a)}function m(){return l.AV_player.config.hd&&
F&&"true"==String(F.HD).toLowerCase()}function t(a){Utils.writeLog(Utils.logLevels.debug,"Video Player event: "+x.asid+":"+a);var b="on"+a;if("function"===typeof x[b])x[b]();b=document.createEvent("HTMLEvents");b.initEvent(a,!0,!0);x.dispatchEvent(b)}function n(a,g){if(null!=G&&""!=G&&b(G))if(fa++,30<fa)t("encodeerror");else{L=F=null;h=!1;W=!0;H=0;V=T;E.pause();E.src="";Y&&(N=Y);try{O.getContext("2d").clearRect(0,0,O.width,O.height)}catch(Ba){console.error(Ba)}"string"===typeof G&&"//"==G.trim().substring(0,
2)&&(G="http:"+G.trim());if(!a&&!g&&"string"===typeof G){var d=G.trim();a=d.indexOf("//r.mradx.net/r/");if(-1<a&&8>a)if(d=d.replace("https://","http://"),0==d.indexOf("//")&&(d="http:"+d),ya==d&&sa)g=sa;else{var c=!1,e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===this.readyState&&!c){if(200===this.status)try{var a=JSON.parse(this.responseText);a.etag||(a.etag=a.ETag);var b=a.etag;if("string"===typeof b&&5<b.length){ya=d;sa=b+b+b;n(!1,sa);c=!0;return}}catch(ta){}n(!0);c=!0}};e.open("GET",
"https://cross.aniview.com/api/video/proxy?type=1&url="+encodeURIComponent(d),!0);e.send();setTimeout(function(){c||(c=!0,n(!0),e.abort())},2500);return}}var f=r(G,g);t("waiting");x.VIDEO_FOLDER_ID=function(a,b){var g=1;ka=!0;oa="http://data3.aniview.com/";if(l.AV_player.config.forcenewcdn||l.AV_player.config.newcdn)oa="http://data4.aniview.com/",pa=!0;if("56425b19181f4650718b456c"==a)return"115252";if("55b88d67181f465d3e8b4567"==a)return"41751";for(a=0;a<b.length;a++)g+=b.charCodeAt(a);switch(g%
27){case 1:case 4:case 7:case 10:case 13:case 16:case 19:return"20181";case 2:case 5:case 8:case 11:case 14:case 17:case 20:return"20182";case 3:case 6:case 9:case 12:case 15:case 18:case 21:return"20183";case 22:case 23:case 24:case 25:case 26:case 27:case 0:return"20184"}return"20152"}(l.AV_player.config.publisherid,f);l.AV_player.config.cdnurl1&&(oa=l.AV_player.config.cdnurl1);k(f,x.VIDEO_FOLDER_ID,{success:function(a){F=a;P=m()?{width:512,height:288}:{width:300,height:167};aa=1;t("loadstart");
t("durationchange");t("loadedmetadata");a=l.AV_player.config.publisherid;var b="a";"Content"==x.asid&&(b="c");L=[];for(var g=Utils.httpsReplace(oa),d=0;d<F.total;d++){var c=g+"videos/resources/"+x.VIDEO_FOLDER_ID+"/"+F.id+"/"+(m()?"hd/":"")+"img"+d+".ani";l.AV_player.config.adfoldermode?c=x.src.trim()+"/"+(m()?l.AV_player.config.hdgeneric?"generic/":"hd/":"")+"img"+d+".ani":ka&&(c=Utils.httpsReplace(g)+x.VIDEO_FOLDER_ID+"/"+f+"/"+(m()?l.AV_player.config.hdgeneric?"generic/":"hd/":"")+"img"+(d+1)+
".ani?pid="+a+"&type="+b);L.push({url:c,image:null})}C();d=g+"videos/resources/"+x.VIDEO_FOLDER_ID+"/"+F.id+"/"+F.id+".mp3";l.AV_player.config.adfoldermode?d=x.src.trim()+"/"+F.id+".mp3":ka&&(d=Utils.httpsReplace(g)+x.VIDEO_FOLDER_ID+"/"+F.id+"/"+F.id+".mp3?pid="+a+"&type="+b);E.oncanplaythrough=function(){h||404==this.status||(h=!0,x.audioReady=!0);t("durationchange");t("progress")};if(!ka||ka&&0<F.Mp3Size)E.src=d;a=new XMLHttpRequest;a.open("GET",d,!0);a.onload=function(a){h||404==this.status||
(h=!0,x.audioReady=!0,t("progress"))};(!ka||ka&&0<F.Mp3Size)&&a.send(null);U&&x.play()},failure:function(a){a&&null!=a.error?0==a.error?setTimeout(n,1E3):t("encodeerror"):ba?setTimeout(n,1E3):(ba=!0,v(f))}},x.src,pa)}}function v(a){if("string"===typeof G&&1<G.trim().length){var b=encodeURIComponent(G),g=l.AV_player.config.adddomain;pa&&(g="add2.aniview.com");b="videoURL="+b+"&xchangePartner="+x.VIDEO_FOLDER_ID+"&ADID="+a+"&vast=";var d=new XMLHttpRequest;a=Utils.httpsReplace("http://"+g)+"/cdnorigin/prod/addVideo?pubid="+
AV_player.config.publisherid+"&ADID="+a+"&cid="+AV_player.config.channelid+"&asid="+x.asid+"&v=2";d.open("POST",a,!0);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.onload=function(){200==d.status&&setTimeout(n,1E3)};d.send(b)}}function C(){if(L&&L.length){var a=Math.floor(H),b=Math.floor(a+4);b>L.length&&(b=L.length);for(;a<b;){var g=L[a];g.image||(g.image=document.createElement("img"),a==L.length-1&&(g.image.av_lastImage=!0),g.image.onload=function(){this.onload=null;this.av_lastImage&&
t("durationchange");la||(la=!0,aa=4,t("canplay"),t("canplaythrough"),t("loadeddata"));t("progress")},g.image.src=g.url);a++}}}function B(){var a=0==I?x.clientWidth:I,b=0==ma?x.clientHeight:ma;a=Math.floor(a);b=Math.floor(b);var g=!1;O.width!=a&&(O.width=a,g=!0);O.height!=b&&(O.height=b,g=!0);g&&t("resize")}function u(a){H!=a&&(H=a,0>H?H=0:H>x.duration&&(H=x.duration),p&&(E.currentTime=H))}function g(a){if(L&&L.length){var b=Math.floor(H);a=Math.floor(b+a);a>L.length&&(a=L.length);for(;b<a;){if(!c(L[b].image))return!1;
b++}return!0}return!1}function D(){return{x:5,y:O.height-5-20,width:O.width-10,height:20}}function M(a){var b=H;N||(b+=.4);if(L&&L.length&&P){var g=Math.floor(b);if(null!=L[g]){var d=L[g].image;if(c(d)&&(l.AV_player.config.hdgeneric&&!ua&&(P.width=d.width,P.height=d.height/10,ua=!0),b=Math.round(10*(b-g)),g=g+"_"+b,X!=g||a)&&(X=g,b<Math.round(d.height/P.height))){g=Math.min(O.width/P.width,O.height/P.height);a=P.width*g;g*=P.height;1==l.AV_player.config.videoscale&&F.width&&F.height&&(g=Math.min(O.width/
F.width,O.height/F.height),a=F.width*g,g*=F.height);if(1==l.AV_player.config.fullframe||za)a=l.AV_player.config.width,g=l.AV_player.config.height;O.width<O.height&&(a=O.width,g=O.height);try{0==va&&(va=!0,t("play"),t("playing")),O.getContext("2d").drawImage(d,0,P.height*b,P.width,P.height-1,.5*(O.width-a),.5*(O.height-g),a,g)}catch(ra){console.error(ra)}}}}}function R(){E.loop=J;E.playbackRate=V}a||(a="");var x=document.createElement("div");x.addEventListener("mousedown",function(a){if(y&&0<x.duration){var b=
a.pageX-x.offsetLeft;a=a.pageY-x.offsetTop;var g=D();g.x<b&&b<g.x+g.width&&g.y<a&&a<g.y+g.height&&(b=(b-g.x)/g.width,0>b?b=0:1<b&&(b=1),x.currentTime=b*x.duration)}});var G=null,A=1,N=!0,Y=!1,H=0,aa=0,ha=0,X=null,W=!0,U=!1,I=0,ma=0,ia=0,K=0,T=1,V=1,J=!1,Q=null,F=null,h=!1,p=!1,L=null,na=Date.now(),fa=0,ba=!1,y=!1,ca=0,S=!1,la=!1,P=null,ua=!1,ja=0,wa=0,va=!1,da=!1;x.__id=Date.now();var qa=!1,ea=!1,za=!1,xa=!1,ka=!1,oa=l.AV_player&&l.AV_player.config.cdnurl,pa=!1,sa,ya,E=document.createElement("audio"),
Z=document.createElement("img"),O=document.createElement("canvas"),Ca=setInterval(e,250);q(x,{startAd:function(){qa=!0},load:function(){e();null==x.src||""==x.src||ea||(ea=!0,fa=0,ba=!1,S=!0,la=!1,P=null,ua=!1,n())},init:function(a){za=a||!1;G=null;A=1;N=!0;Y=!1;ha=aa=H=0;X=null;W=!0;U=!1;K=ia=ma=I=0;V=T=1;J=!1;F=Q=null;p=h=!1;E.pause();E.src="";L=null;na=Date.now();fa=0;y=ba=!1;ca=0;la=S=!1;P=null;ja&&clearTimeout(ja);wa=ja=0;pa=xa=ea=qa=da=va=!1},play:function(){e();null!=x.src&&""!=x.src&&(qa?
W&&(Utils.writeLog(Utils.logLevels.debug,"Video Player play command: "+this.asid),W=!1,H>=this.duration&&(H=0),p&&h&&!N&&E.play(),1==va&&(t("play"),t("playing")),this.enterFrame=function(){var a=Date.now(),b=a-na;N&&(b=100);B();R();C();b*=.001;if(0<x.duration){if(!W){var h;S?(h=g(4))&&(S=!1):(h=g(1))||(S=!0);p&&!N?h?(E.paused&&!E.ended&&E.play(),E.currentTimeLast&&(E.currentTimeLast==E.currentTime&&(wa+=b),E.currentTimeLast<E.currentTime&&(wa=0)),E.currentTimeLast=E.currentTime,H=E.currentTime+wa,
H>x.duration&&(H=x.duration)):E.paused||E.pause():(h&&(H+=b*V,H=Math.round(100*H)/100),p&&N&&(E.currentTime=H-.4))}!W&&H>=x.duration&&(J?(u(0),x.play()):(u(x.duration),t("timeupdate"),da=!0,t("ended"),x.pause()));if(W&&0==H&&Z.src){if(c(Z)){var e=Math.min(O.width/Z.width,O.height/Z.height),f=Z.width*e;e*=Z.height;try{O.getContext("2d").drawImage(Z,0,0,Z.width,Z.height,.5*(O.width-f),.5*(O.height-e),f,e)}catch(ta){console.error(ta)}}}else if(M(),y&&0<x.duration){h=D();try{f=O.getContext("2d");f.fillStyle=
"#999999";f.fillRect(h.x,h.y,h.width,h.height);for(var n=0;n<x.buffered.length;n++){e=x.buffered.begin(n)/x.duration;var q=x.buffered.end(n)/x.duration;0>e?e=0:1<e&&(e=1);0>q?q=0:1<q&&(q=1);f.fillStyle="#dddddd";f.fillRect(h.x+h.width*e,h.y,h.width*(q-e),h.height/2)}var m=x.currentTime/x.duration;0>m?m=0:1<m&&(m=1);f.fillStyle="#dd0000";f.fillRect(h.x,h.y+h.height/2,h.width*m,h.height/2)}catch(ta){console.error(ta)}}ca+=b;xa||0!=H||(xa=!0,t("timeupdate"));.3<ca&&(ca=0,ha!=H&&(ha=H,t("timeupdate")))}na=
a;W||(N?ja=setTimeout(x.enterFrame,96):d(x.enterFrame))},x.canvasAppended||(x.appendChild(O),x.canvasAppended=!0),setTimeout(function(){x.enterFrame()},1)):Utils.writeLog(Utils.logLevels.debug,"Video play called before startAd, delaying: "+this.asid))},pause:function(){W||(Utils.writeLog(Utils.logLevels.debug,"Video Player pause command: "+this.asid),W=!0,p&&E.pause(),0<ja&&(clearTimeout(ja),ja=0),t("pause"))},addTextTrack:function(a,b,g){return null},canPlayType:function(a){switch(a){case "video/mp4":case "video/webm":case "video/x-flv":case "video/3gpp":case "video/x-ms-wmv":a=
"probably";break;default:a=""}return a},get_buffered:function(){var a=[];if(L&&L.length)for(var b=null,g=0;g<L.length;g++)c(L[g].image)?(b||(b={},b.begin=g,a.push(b)),b.end=g+1):b=null;return{start:function(b){return b<a.length?a[b].begin:0},end:function(b){return b<a.length?a[b].end:0},length:a.length}},get_videoWidth:function(){return ia},get_videoHeight:function(){return K},get_audioTracks:function(){return{begin:function(a){return 0},end:function(a){return h?E.duration:0},length:h?1:0}},get_poster:function(){return Z.src},
set_poster:function(a){null==a&&(a="");Z.src!=a&&(Z.src=a)},get_autoplay:function(){return U},set_autoplay:function(a){U=a},get_controller:function(){return null},get_controls:function(){return y},set_controls:function(a){y=a},get_crossOrigin:function(){return null},get_currentSrc:function(){return G},get_currentTime:function(){return H},set_currentTime:function(a){u(a);a!=x.duration&&(da=!1);t("seeking");t("seeked")},get_defaultMuted:function(){return Y},set_defaultMuted:function(a){Y=a},get_defaultPlaybackRate:function(){return T},
set_defaultPlaybackRate:function(a){T=a},get_duration:function(){if(F){var a=0;if(L&&L.length){var b=L[L.length-1].image;c(b)&&P&&(b=Math.round(b.height/P.height),0<b&&(a=b/10))}this&&1==this.av_opt_adnxs&&(a=1);return F.total-1+a}return 0},get_ended:function(){return da},get_error:function(){return null},get_loop:function(){return J},set_loop:function(a){J=a},get_mediaGroup:function(){return{length:0}},get_volume:function(){return A},set_volume:function(a){1E-5>a&&(a=0);0>a?a=0:1<a&&(a=1);E.volume=
A=a;N=0<a?!1:!0;R();l.AV_player.config.nosndrewind&&(p=!0);!h||p||N||da||(p=!0,this.currentTime=0,this.pause(),this.play());p&&(N?(E.paused||E.pause(),H=E.currentTime+.4):E.paused&&(E.currentTime=Math.floor(10*(H-.4))/10,W||da||E.play()));t("volumechange")},get_muted:function(){return N},set_muted:function(a){N=a;R();l.AV_player.config.nosndrewind&&(p=!0);!h||p||N||da||(p=!0,this.currentTime=0,this.pause(),this.play());p&&(N?(E.paused||E.pause(),H=E.currentTime+.4):E.paused&&(E.currentTime=H-.4,W||
da||E.play()))},get_networkState:function(){return 0},get_paused:function(){return W},get_playbackRate:function(){return V},set_playbackRate:function(a){V!=a&&(V=a,t("ratechange"))},get_played:function(){return 0==H?{length:0}:{start:function(a){if(0==a)return 0},end:function(a){if(0==a)return H},length:1}},get_preload:function(){return"auto"},set_preload:function(a){},get_readyState:function(){return aa},get_seekable:function(){return{length:0}},get_seeking:function(){return!1},get_src:function(){return G},
set_src:function(a){G!=a&&(Utils.writeLog(Utils.logLevels.debug,"Video Player set src: "+this.asid+":"+a),G=a,null!=G&&""!=G?(clearInterval(Ca),ea=!1,this.load()):ea=!1)},get_startDate:function(){return Q},get_textTracks:function(){return{length:0}},get_videoTracks:function(){var a=this;return{begin:function(a){return 0},end:function(b){return a.duration},length:0<this.duration?1:0}},get_width:function(){return I},set_width:function(a){I=a},get_height:function(){return ma},set_height:function(a){ma=
a},get_nodeName:function(){return"VIDEO"},get_tagName:function(){return"VIDEO"}});x.resize=function(a,b,g){try{x.paused&&(B(),M(!0))}catch(Ea){}};return x};m.replaceTag=function(a){if(a&&a.parentNode){var b=this.createTag();b.id=a.id;b.volume=a.volume;b.muted=a.muted;b.autoplay=a.autoplay;b.controls=a.controls;b.loop=a.loop;b.poster=a.poster;b.style.cssText=a.style.cssText;b.src=a.src;a.parentNode.insertBefore(b,a);a.parentNode.removeChild(a);return b}return a};var d=function(){return l.requestAnimationFrame||
l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||function(a){l.setTimeout(a,1E3/60)}}()})(window);
(function(l){function c(b,a){"56d404b3181f467b5a8b4567"!==l.AV_player.config.publisherid?b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))||(b.className+=" "+a):b.classList.add(a)}function r(b,a){"56d404b3181f467b5a8b4567"!==l.AV_player.config.publisherid?b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))&&(b.className=b.className.replace(new RegExp("(\\s|^)"+a+"(\\s|$)")," ")):b.classList.remove(a)}var k=Utils.isMobile(),b=l.AnivewPlayerGUI=function(b){this.config=b;l.AV_PlayerGui=this;if(null==
b)throw Error("AnivewPlayerGUI: not found 'config'");if(null==b.container)throw Error("AnivewPlayerGUI: not found 'config.container'");this.container=b.container;this.slotDoc=this.container.ownerDocument;this.gui=Utils.getElementById(this.container,"gui");this.slot=Utils.getElementById(this.container,"slot");this.videoslot=Utils.getElementById(this.container,"videoslot");this.preloader=Utils.getElementById(this.container,"preloader");this.timelineProgress=Utils.getElementById(this.container,"timeline-progress");
this.timelineBuffer=Utils.getElementById(this.container,"timeline-buffer");this.playPause=Utils.getElementById(this.container,"play-pause");this.bigPlay=Utils.getElementById(this.container,"big-play");this.fullscreen=Utils.getElementById(this.container,"fullscreen");this.sound=Utils.getElementById(this.container,"sound");this.timer=Utils.getElementById(this.container,"timer");this.skip=Utils.getElementById(this.container,"skip-btn");this.close=Utils.getElementById(this.container,"close-btn");this.share=
Utils.getElementById(this.container,"share");this.phone=Utils.getElementById(this.container,"phone");this.phoneNum=Utils.getElementById(this.container,"phone-num");this.aniview=Utils.getElementById(this.container,"aniview-credit");this.timeline=Utils.getElementById(this.container,"timeline");this.timelineProgress=Utils.getElementById(this.container,"timeline-progress");this.timelineMoveto=Utils.getElementById(this.container,"timeline-moveto");this.timelineBuffer=Utils.getElementById(this.container,
"timeline-buffer");this.buttons=Utils.getElementById(this.container,"buttons");0<this.config.skipTimer&&(this.skipTimerInitValue=this.config.skipTimer);this.init();this.showPreloader(this.config.showpreloader)};b.VERSION="1.0.2";b.prototype.config=null;b.prototype.lastframe=!1;b.prototype.container=null;b.prototype.player=null;b.prototype.paused=!1;b.prototype.muted=!1;b.prototype.videoslot=null;b.prototype.preloader=null;b.prototype.timelineProgress=null;b.prototype.timelineBuffer=null;b.prototype.playPause=
null;b.prototype.bigPlay=null;b.prototype.fullscreen=null;b.prototype.sound=null;b.prototype.skip=null;b.prototype.close=null;b.prototype.share=null;b.prototype.phone=null;b.prototype.timer=null;b.prototype.aniview=null;b.prototype.timeline=null;b.prototype.timelineProgress=null;b.prototype.timelineBuffer=null;b.prototype.buttons=null;b.prototype.endTimer=0;b.prototype.showPreloader=function(b){b=this.config.showpreloader&&b;this.preloader&&(this.preloader.style.display=b?"block":"none")};b.prototype.dispose=
function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null);this.skipTimeoutId&&(clearInterval(this.skipTimeoutId),this.skipTimeoutId=null);this.preloaderTimeoutId&&(clearInterval(this.preloaderTimeoutId),this.preloaderTimeoutId=null);for(var b in this)this.hasOwnProperty(b)&&(this[b]=null)};b.prototype.startSkipTimer=function(b,a){this.config.skipTimer=b;(this.config.skip||this.config.close)&&this.checkSkipTimer(a)};b.prototype.init=function(){var b=this;this.container.className=
"";this.bigPlay.style.display="none";this.config.phone&&(this.phoneNum.textContent=this.config.phone);this.config.hideControls&&c(this.container,"hide-controls");Utils.isMobile()||c(this.container,"desktop");null==this.config.responsive&&(this.config.responsive=!0);null!=this.config.width&&null!=this.config.height&&(this.config.responsive=!1);this.config.responsive&&c(this.container,"responsive");Utils.isMobile()&&Utils.isHighDensity()&&c(this.container,"two-x");this.config.skip&&this.config.skipText&&
(this.skip.textContent=this.config.skipText);this.config.lastframe&&(this.lastframe=this.config.lastframe);this.config.timelineMode?c(this.timeline,"av-"+this.config.timelineMode):c(this.timeline,"av-bottom");this.playPause.onclick=function(){b.changed();b.player&&b.player.ready&&(b.player.userPaused=b.paused?!1:!0);b.playPauseClick()};this.sound.onclick=function(){b.soundClick()};this.fullscreen.onclick=function(){b.fullscreenClick()};this.share.onclick=function(){b.shareClick()};this.phone.onclick=
function(){b.phoneClick()};this.close.onclick=function(){b.closeClick()};this.skip.onclick=function(){b.skipClick()};this.aniview.onclick=function(){b.aniviewClick()};this.timeline.onclick=function(a){b.timelineClick(a)};this.timeline.onmousemove=function(a){b.timelineMouseMove(a)};this.update();this.intervalId=setInterval(function(){b.update()},70)};b.prototype.timelineMouseMove=function(b){this.changed();var a=this.getVideo();this.config.timelineChange&&a&&0<a.duration&&(b=b.pageX-a.offsetLeft,
a=this.timeline.getBoundingClientRect(),b=(b-a.left)/a.width,0>b?b=0:1<b&&(b=1),this.setValue(this.timelineMoveto,b))};b.prototype.timelineClick=function(b){this.changed();var a=this.getVideo();if(this.config.timelineChange&&a&&0<a.duration){b=b.pageX-a.offsetLeft;var c=this.timeline.getBoundingClientRect();b=(b-c.left)/c.width;0>b?b=0:1<b&&(b=1);a.currentTime=b*a.duration}};b.prototype.getVideo=function(){var b=this.findVideo(this.videoslot);b||(b=this.findVideo(this.slot));return b};b.prototype.findVideo=
function(b){var a=null,c;for(c in b.childNodes)if(a=b.childNodes[c],a=0<a.duration&&null!=a.canPlayType?a:this.findVideo(a))break;return a};b.prototype.setPlayer=function(b,a,c){this.changed();null==b&&this.player&&"AVcontent"==this.player.id||("undefined"===typeof a&&(a=!0),this.player=b,this.ad=c,this.paused=!1,this.muted=a,this.skipTimerStarted=!1)};b.prototype.getPlayer=function(){return this.player};b.prototype.getDuration=function(){try{return this.vidReady&&this.player&&this.player.ready?this.player.adDuration:
0}catch(q){return 0}};b.prototype.getCurrentTime=function(){try{return this.vidReady&&this.player&&this.player.ready?this.getDuration()-this.player.adRemainingTime:0}catch(q){return 0}};b.prototype.getRemainingTime=function(){try{return this.vidReady&&this.player&&this.player.ready?this.player.adRemainingTime:0}catch(q){return 0}};b.prototype.checkSkipTimer=function(b){var a=this;this.skipTimerStarted=!0;0<this.config.skipTimer&&(this.timer.textContent=this.config.skipTimer,this.paused||0>=this.getCurrentTime()?
this.skipTimeoutId=setTimeout(function(){a.checkSkipTimer(b)},100):(this.config.skipTimer--,0==this.config.skipTimer&&"function"===typeof b&&b(),this.skipTimeoutId=setTimeout(function(){a.checkSkipTimer(b)},1E3)))};b.prototype.aniviewClick=function(){l.AV_player.config.logoclick&&l.open("https://www.aniview.com/?utm_source=av-player")};b.prototype.closeClick=function(){this.changed();var b=l.AV_player.config.closeevent;try{l.AV_player.stopAd=!0;if("function"===typeof l.AV_FlashOpen.onAdClosed)l.AV_FlashOpen.onAdClosed(!b);
!b&&this.player&&this.player.ready&&this.player.pauseAd()}catch(a){}b||null==this.container.parentNode||this.container.parentNode.removeChild(this.container)};b.prototype.skipClick=function(){this.changed();try{if(this.player&&this.player.ready&&(this.player.skipping=!0,l.AV_player.config.onevideoelement||(this.player.adVolume=0),this.player.pauseAd(),this.player.adSkippableState?this.player.skipAd():this.player.stopAd(),"function"===typeof l.AV_FlashOpen.onAdSkipped))l.AV_FlashOpen.onAdSkipped();
this.skipTimerStarted=!1}catch(q){}};b.prototype.phoneClick=function(){l.location.href="tel://"+this.config.phone};b.prototype.shareClick=function(){};b.prototype.playClick=function(){this.changed();try{this.player&&this.player.ready&&(this.player.resumeAd(),this.paused=!1)}catch(q){}};b.prototype.pauseClick=function(){this.changed();try{this.player&&this.player.ready&&(this.player.pauseAd(),this.paused=!0)}catch(q){}};b.prototype.playPauseClick=function(){this.changed();try{this.player&&this.player.ready&&
(this.paused?(this.player.resumeAd(),this.paused=!1):(this.player.pauseAd(),this.paused=!0))}catch(q){}};b.prototype.soundClick=function(){this.changed();try{this.player&&this.player.ready&&(this.muted?(this.ad&&(this.ad.sndEnabled=!0,this.ad.player&&(this.ad.player.sndEnabled=!0)),this.player.adVolume=1,this.player.volume=1,this.player.muted=!1,"function"===typeof this.player.setContentVolume&&this.player.setContentVolume(1),this.muted=!1):(l.AV_player.config.autosound=!1,this.player.adVolume=0,
this.player.volume=0,"function"===typeof this.player.setContentVolume&&this.player.setContentVolume(0),this.muted=!0))}catch(q){}};b.prototype.setValue=function(b,a){0>a?a=0:1<a&&(a=1);b.style.width=100*a+"%"};b.prototype.fullscreenClick=function(){this.changed();if(l.AV_player.config.contentplayer){if(l.AV_player.thePlayer&&"function"===typeof l.AV_player.thePlayer.onFullScreenRequest)l.AV_player.thePlayer.onFullScreenRequest(!this.isFullscreen())}else if(!this.isFullscreen()&&l.AV_player.thePlayer&&
"function"===typeof l.AV_player.thePlayer.resizeAd)l.AV_player.thePlayer.resizeAd(0,0,"fullscreen");else{var b=this.isFullscreen()&&this.isFullscreen().ownerDocument;b.exitFullscreen?b.exitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.webkitExitFullscreen?b.webkitExitFullscreen():b.msExitFullscreen&&b.msExitFullscreen()}};b.prototype.isFullscreen=function(){return this.slotDoc.fullScreenElement||this.slotDoc.mozFullScreenElement||this.slotDoc.webkitFullscreenElement||this.slotDoc.msFullscreenElement};
b.prototype.getBuffer=function(b){return b+.1};b.prototype.controls=function(b){b?r(this.container,"hide-controls"):c(this.container,"hide-controls")};b.prototype.changed=function(){this.guiChanged=!0;this.guiCnt=0};b.prototype.update=function(){var b=this.player&&(0<this.player.duration&&null!=this.player.canPlayType||"Content"==this.player.asid),a=this.getDuration(),c=this.getCurrentTime(),d=this.getRemainingTime();this.vidReady=b||this.player&&this.player.__private__&&this.player.__private__.player&&
this.player.__private__.player.impressionSet;"loaded"!=this.videoslot.className&&0<this.getBuffer(c)&&(this.videoslot.className="loaded");this.paused?(this.endTimer=0,this.playPause.className=1<a&&c>=a||this.player&&this.player.replay?"replay":"play"):this.vidReady&&this.player&&1<a&&0<=d&&(c>=a||this.player.replay)?(this.endTimer++,100<this.endTimer&&(this.playPause.className="replay",this.paused=!0)):this.playPause.className="pause";this.sound.firstChild.className=this.muted?"off":"on";if(this.isFullscreen())this.fullscreen.className=
"on","full"!=l.AV_player.config.fsmode&&(this.container.style.position="absolute",this.container.style.left="0px",this.container.style.top="0px",this.container.style.width=screen.width+"px",this.container.style.height=screen.height+"px");else{this.fullscreen.className="off";this.container.style.position="";this.container.style.left="";this.container.style.top="";var e=0,z=0;this.config.responsive?(e=this.container.clientWidth,z=this.container.clientHeight):(this.config.width&&(e=this.config.width),
this.config.height&&(z=this.config.height));10<e/z&&(z=Math.round(e/10));this.container.style.width=e?e+"px":"";this.container.style.height=z?z+"px":""}this.videoslot.style.width=""==this.container.style.width?""+this.container.clientWidth+"px":this.container.style.width;this.videoslot.style.height=""==this.container.style.height?""+this.container.clientHeight+"px":this.container.style.height;e=!1;!k&&(.1<c||this.player&&0<d)?e=!0:this.player&&"function"===typeof this.player.isAudioReady?e=this.player.isAudioReady():
1<c&&(e=!0);this.fullscreen.style.display=this.config.fullscreen?"inline":"none";this.share.style.display=this.config.share?"inline":"none";this.phone.style.display=this.config.phone?"inline":"none";this.sound.style.display=this.config.sound&&e?"inline":"none";this.playPause.style.display=this.config.playPause?"inline":"none";this.aniview.style.display=this.config.logo?"inline":"none";d=0<this.config.skipTimer;this.skip.style.display=!b&&!d&&this.config.skip&&this.skipTimerStarted?"inline":"none";
this.close.style.display=this.config.close?"inline":"none";this.timer.style.display=!b&&d&&(this.config.close||this.config.skip)&&this.skipTimerInitValue!=this.config.skipTimer?"inline":"none";"none"!=this.timer.style.display&&"none"!=this.close.style.display&&(this.timer.style.left=""+(this.close.clientWidth+2)+"px");this.setValue(this.timelineProgress,c/a);this.setValue(this.timelineBuffer,this.getBuffer(c)/a)};b.prototype.resize=function(b,a){this.config.width=b;this.config.height=a;this.container.style.width=
""+b+"px";this.container.style.height=""+a+"px";if(150>a){b=a/150;this.playPause.style.webkitTransform=this.playPause.style.transform="scale("+b+","+b+")";this.sound.style.webkitTransform=this.sound.style.transform="scale("+b+","+b+")";if(a=this.buttons.querySelector("#left"))a.style.left=""+Math.floor(13*b)+"px",a.style.bottom=""+Math.floor(11*b)+"px";if(a=this.buttons.querySelector("#right"))a.style.right=""+Math.floor(13*b)+"px",a.style.bottom=""+Math.floor(11*b)+"px";this.timeline&&"overlay"==
this.config.timelineMode&&(this.timeline.style.bottom=""+Math.floor(50*b)+"px");this.config.skip&&(this.skip.style.bottom=""+Math.floor(60*b)+"px",this.skip.style.height=""+Math.floor(32*b)+"px",this.skip.style.fontSize=""+Math.floor(14*b)+"px",this.skip.style.lineHeight=""+Math.floor(32*b)+"px",this.skip.style.padding="0 0")}else{this.playPause.style.webkitTransform=this.playPause.style.transform="";this.sound.style.webkitTransform=this.sound.style.transform="";if(a=this.buttons.querySelector("#left"))a.style.left=
"",a.style.bottom="";if(a=this.buttons.querySelector("#right"))a.style.right="",a.style.bottom="";this.timeline&&"overlay"==this.config.timelineMode&&(this.timeline.style.bottom="");this.config.skip&&(this.skip.style.bottom="",this.skip.style.height="",this.skip.style.fontSize="",this.skip.style.lineHeight="",this.skip.style.padding="")}};b.prototype.showTimeline=function(b){if(b){b="av-"+this.config.timelineMode;var a="av-hidden"}else a="av-"+this.config.timelineMode,b="av-hidden";r(this.timeline,
a);c(this.timeline,b)}})(window);
(function(l){"object"===typeof exports&&"undefined"!==typeof module?module.exports=l():"function"===typeof define&&define.amd?define([],l):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).AV_VASTPlayer=l()})(function(){return function c(r,k,b){function q(d,e){if(!k[d]){if(!r[d]){var m="function"==typeof require&&require;if(!e&&m)return m(d,!0);if(a)return a(d,!0);e=Error("Cannot find module '"+d+"'");throw e.code="MODULE_NOT_FOUND",e;}e=k[d]=
{exports:{}};r[d][0].call(e.exports,function(a){var b=r[d][1][a];return q(b?b:a)},e,e.exports,c,r,k,b)}return k[d].exports}for(var a="function"==typeof require&&require,m=0;m<b.length;m++)q(b[m]);return q}({1:[function(c,r,k){r.exports=c("./lib/AV_VASTPlayer")},{"./lib/AV_VASTPlayer":5}],2:[function(c,r,k){function b(a,b,c){b.on(a,function(){for(var b=[],d=arguments.length;d--;)b[d]=arguments[d];c.emit.apply(c,[a].concat(b))})}function q(a,d,c){c.forEach(function(c){0<d.listeners(c).length&&b(c,a,
d)});d.on("newListener",function(e){-1<c.indexOf(e)&&1>d.listeners(e).length&&b(e,a,d)})}function a(a){this.events=a.slice();this.__private__={target:null,source:null}}a.prototype.from=function(a){this.__private__.source=a;this.__private__.target&&q(a,this.__private__.target,this.events);return this};a.prototype.to=function(a){this.__private__.target=a;this.__private__.source&&q(this.__private__.source,a,this.events);return this};r.exports=a},{}],3:[function(c,r,k){function b(b){var d=this;q.call(this,
Math.floor(b.duration||0));this.video=b;[a.PLAYING,a.PAUSE,a.TIMEUPDATE,a.ENDED].forEach(function(c){return b.addEventListener(c,function(){return d.tick(c==a.ENDED)},!1)})}var q=c("./VideoTracker");k=c("util").inherits;var a=c("./enums/HTML_MEDIA_EVENTS");k(b,q);b.prototype._getState=function(){return{playing:!this.video.paused,currentTime:this.video.currentTime}};r.exports=b},{"./VideoTracker":7,"./enums/HTML_MEDIA_EVENTS":8,util:25}],4:[function(c,r,k){function b(a){return a}function q(a,b,c,f,
m){try{(a||[]).forEach(function(a){try{if(2==a.t||3==a.t){var d=document.createElement(2==a.t?"script":"iframe");d.src=a.uri;m&&m.appendChild(d)}else{d=window;if("complete"==c&&"1"==f)try{d=parent}catch(v){}(new d.Image).src=b(a.uri)}}catch(v){}})}catch(t){}}function a(a,c){this.pixels=a.reduce(function(a,b){(a[b.event]||(a[b.event]=[])).push({uri:b.uri,t:b.t?b.t:1});return a},{});this.__private__={mapper:c||b}}var m=c("./enums/VPAID_EVENTS");a.prototype.track=function(a){function c(b){if(!v)try{v=
a.adDuration,(!v||0>=v)&&b&&(v=a.adRemainingTime),0>v&&(v=0)}catch(B){v=0}return v}function d(a,c,d){function g(a){return t((c||b)(a))}return function(){d&&!d(arguments)||q(k[a],g,a,this&&this.tgt,this&&this.container)}}function f(a){a=a.replace("[AV_VIEWABILITY]",Utils.getViewabilityPerc(window.AV_player.config.slot));return a.replace("[AV_ADDURATION]",c(!0))}var k=this.pixels,t=this.__private__.mapper,n=0;try{n=a.adVolume}catch(C){}var v=0;a.fireType=function(a){d(a,function(a){return a.replace("[AV_VIEWABILITY]",
Utils.getViewabilityPerc(window.AV_player.config.slot))})()};a.on(m.AdSkipped,d("skip"));a.on(m.AdStarted,d("creativeView"));a.on(m.AdVolumeChange,d("unmute",null,function(){try{return 0===n&&0<a.adVolume}catch(C){}}));a.on(m.AdVolumeChange,d("mute",null,function(){try{return 0<n&&0===a.adVolume}catch(C){}}));a.once(m.AdImpression,d("impression",function(a){return f(a)},function(){a.impEvtSent=!0;c();return!0}));a.on(m.AdVideoStart,d("start",null,function(){try{if(a.stickyImpression&&!a.impEvtSent){var b=
d("impression");b&&b();a.impEvtSent=!0}}catch(B){}return!0}));a.on(m.AdVideoFirstQuartile,d("firstQuartile",function(a){return f(a)}));a.on(m.AdVideoMidpoint,d("midpoint",function(a){return f(a)}));a.on(m.AdVideoThirdQuartile,d("thirdQuartile",function(a){return f(a)}));a.on(m.AdVideoComplete,d("complete",function(a){return f(a)}));a.on(m.AdClickThru,d("clickThrough",null,function(a){return a&&3<=a.length&&1==a[2]&&!a[0]?!1:!0}));a.on(m.AdUserAcceptInvitation,d("acceptInvitationLinear"));a.on(m.AdUserMinimize,
d("collapse"));a.on(m.AdUserClose,d("closeLinear"));a.on(m.AdPaused,d("pause"));a.on(m.AdPlaying,d("resume"));a.on(m.AdError,d("error",function(a){return a.replace(/\[ERRORCODE\]/g,901)}));a.on(m.AdVolumeChange,function(){try{n=a.adVolume}catch(C){}})};r.exports=a},{"./enums/VPAID_EVENTS":10}],5:[function(c,r,k){function b(){var a={},c=arguments.length,d,e;for(d=0;d<c;d++){var f=arguments[d]||{};for(e in f){var n=f[e];void 0===a[e]&&(a[e]=n);"object"===typeof n&&(a[e]=b(a[e],n))}}return a}function q(a){return a}
function a(){return Error("AV_VASTPlayer not ready.")}function m(b){return function(){var g=this,c=this.__private__.player;return this.ready?c[b].apply(c,arguments).then(function(){return g}):B.reject(a())}}function d(b){return{get:function(){if(!this.ready)throw a();return this.__private__.player[b]},set:function(g){if(!this.ready)throw a();return this.__private__.player[b]=g}}}function e(a,c,d){var g=this;z.call(this);this.__private__={container:a,config:b(d,{vast:{resolveWrappers:!0,maxRedirects:8,
withCredentials:!0},tracking:{mapper:q}}),vast:null,ready:!1,player:null};this.on(v.AdClickThru,function(a,b,d){a=a||g.vast.get("ads[0].creatives[0].videoClicks.clickThrough");d&&a&&!c&&window.open(a)})}var z=c("events").EventEmitter;k=c("util").inherits;var f=c("vastacular").VAST,w=c("./players/JavaScriptVPAID");c("./players/FlashVPAID");var t=c("./players/HTMLVideo"),n=c("./enums/MIME"),v=c("./enums/VPAID_EVENTS"),C=c("./EventProxy"),B=c("lie"),u=c("./PixelReporter");k(e,z);Object.defineProperties(e.prototype,
{container:{get:function(){return this.__private__.container}},config:{get:function(){return this.__private__.config}},vast:{get:function(){return this.__private__.vast}},ready:{get:function(){return this.__private__.ready}},adRemainingTime:d("adRemainingTime"),adDuration:d("adDuration"),adVolume:d("adVolume"),adSkippableState:d("adSkippableState")});e.prototype.dispatchTrackingPixel=function(a){var b=document.createElement("img");b.src=a+"&cb="+Date.now();b.style.display="none";b.style.width="1";
document.body.appendChild(b)};e.prototype.mergeTrackers=function(a,b,c,d,e){function g(a){return a.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"")}d=d?"&cpm="+d:"";e="&vt="+e;if(b)for(var f=0;f<b.length;f++)"click"==b[f].e&&(b[f].e="clickThrough"),a.push({event:b[f].e,t:b[f].t?b[f].t:1,uri:b[f].url});if(c.trackers)for(f=0;f<c.trackers.length;f++)"click"==c.trackers[f].e&&(c.trackers[f].e="clickThrough"),a.push({event:c.trackers[f].e,t:c.trackers[f].t?c.trackers[f].t:1,uri:c.trackers[f].url});b="&cb="+
Date.now();c.impressionTrackingPixel&&a.push({event:"impression",uri:g(c.impressionTrackingPixel)+"&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+d+e+b});c.trackingPixel&&(d=g(c.trackingPixel),a.push({event:"clickThrough",uri:d+"click"+e+b}),a.push({event:"firstQuartile",uri:d+"firstQuartile&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+e+b}),a.push({event:"midpoint",uri:d+"midpoint&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+e+b}),a.push({event:"thirdQuartile",uri:d+"thirdQuartile&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+
e+b}),a.push({event:"complete",uri:d+"complete&ad=[AV_ADDURATION]&vi=[AV_VIEWABILITY]"+e+b}),a.push({event:"start",uri:d+"start"+e+b}),a.push({event:"pause",uri:d+"pause"+e+b}),a.push({event:"resume",uri:d+"resume"+e+b}),a.push({event:"mute",uri:d+"mute"+e+b}),a.push({event:"unmute",uri:d+"unmute"+e+b}),a.push({event:"close",uri:d+"close"+e+b}),a.push({event:"creativeView",uri:d+"creativeView"+e+b}),a.push({event:"fullscreen",uri:d+"fullscreen"+e+b}),a.push({event:"sec3",uri:d+"sec3&vi=[AV_VIEWABILITY]"+
e+b}),a.push({event:"sec10",uri:d+"sec10&vi=[AV_VIEWABILITY]"+e+b}),c.playerSettings&&0<c.playerSettings.vit&&a.push({event:"adViImpression",uri:d+"adViImpression&vit="+c.playerSettings.vit+"&vi=[AV_VIEWABILITY]"+e+b}));return a};e.prototype.load=function(a,b,c,d,e){var g=this,m=this.config.vast,B=this,D=a.fixedUrl||a.url,q="vast";!a.playerSettings||1!=a.playerSettings.nc&&"1"!=a.playerSettings.nc||(m.withCredentials=!1);c=c||[];var k=[];if("undefined"===typeof b||null==b||"undefined"===typeof b.js)b=
{vpaidPriority:"js",swf:!0,js:!0,html5:!0};a.type=a.type.toLowerCase();"vastxml"==a.type&&(D=a.vastxml);"pl"==a.type&&(D=a.template);var z=b.vpaidPriority;a.vpp&&(1==a.vpp?z="js":2==a.vpp?z="swf":3==a.vpp&&(z="jsomp4"));return f.fetch(D,m,a.clickThroughUrl,a.type,function(a,b){k="object"===typeof b?b.raw:k},a).then(function(d){var f=function(){var a=d.filter("ads[0].creatives[0].mediaFiles",function(a){return("video/mp4"===a.type||"video/webm"===a.type||(Utils.isMobile()?"video/x-flv"===a.type:!1)||
"video/3gpp"===a.type||"video/x-ms-wmv"===a.type)&&a.uri&&"rtmp"!=a.uri.substring(0,4)}),c=d.filter("ads[0].creatives[0].mediaFiles",function(a){return(a.type===n.JAVASCRIPT||a.type===n.XJAVASCRIPT||a.type===n.TXTJAVASCRIPT)&&"string"===typeof a.apiFramework&&"VPAID"==a.apiFramework.toUpperCase()}),e=[];b.nljs&&(e=d.filter("ads[0].creatives[0].ads[0].resources",function(a){return mediaFile.type===n.JAVASCRIPT||mediaFile.type===n.XJAVASCRIPT||mediaFile.type===n.TXTJAVASCRIPT}));if(b.js&&"jsomp4"==
z&&0<c.length)return q="vpaid",{player:new w(g.container),mediaFiles:c};if(b.html5&&0<a.length)return{player:new t(g.container),mediaFiles:a};if(b.js&&0<c.length)return q="vpaid",{player:new w(g.container),mediaFiles:c};if(b.nljs&&0<e.length)return e[0].uri=e[0].data,{player:new w(g.container),mediaFiles:e};throw TypeError("no valid media");}(),m=d.get("ads[0].creatives[0].parameters"),D=[].concat(d.map("ads[0].impressions",function(a){return{event:"impression",uri:a.uri}}),d.map("ads[0].errors",
function(a){return{event:"error",uri:a}}),d.get("ads[0].creatives[0].trackingEvents"),d.map("ads[0].creatives[0].videoClicks.clickTrackings",function(a){return{event:"clickThrough",uri:a}}));"s2s"==a.type&&(a.asid=d.get("ads[0].extensions[0].extension[0].tag.data.tags[0].asid"),a.priority=d.get("ads[0].extensions[0].extension[0].tag.data.tags[0].priority"));var k=d.get("ads[0].extensions[0].extension[0].type"),M="";"aniview"==k&&(M=d.get("ads[0].extensions[0].extension[0].cpm")||"");if("pb"==a.type&&
!M)try{var x=d.get("ads[0].extensions");if(x&&x.length&&0<x.length)for(var r=0;r<x.length;r++)if(k=d.get("ads[0].extensions["+r+"].extension[0].type"),M="","aniview"==k){M=d.get("ads[0].extensions["+r+"].extension[0].cpm")||"";break}}catch(V){}M&&(g.bidCpm=M);D=g.mergeTrackers(D,c,a,M,q);k=f.player;f=f.mediaFiles;M=new C(v);k.reporter=new u(D,g.config.tracking.mapper);k.timeouts.loadTimeout=a.loadTimeout||k.timeouts.loadTimeout;k.timeouts.initAdTimeout=a.initAdTimeout||a.tagTimeout;k.timeouts.startAdTimeout=
a.startAdTimeout||a.tagTimeout;k.tgt=e;M.from(k).to(g);g.__private__.vast=d;g.__private__.player=k;g.emit("AdBid",k,f,m,B,a,q);k.dispatchWaterfallApiEvent("bid",k.asid,{vast:d.raw})}).then(function(){g.__private__.ready=!0;g.emit("ready");return g}).catch(function(b){"function"===typeof d&&d("vasterror",a.asid,{vast:k,message:"object"===typeof b?b.message:""});g.emit("error",b);throw b;})};e.prototype.startAd=m("startAd");e.prototype.stopAd=m("stopAd");e.prototype.pauseAd=m("pauseAd");e.prototype.resumeAd=
m("resumeAd");e.prototype.skipAd=m("skipAd");e.prototype.getAdSkippableState=m("getAdSkippableState");e.prototype.seekAd=m("seekAd");r.exports=e},{"./EventProxy":2,"./PixelReporter":4,"./enums/MIME":9,"./enums/VPAID_EVENTS":10,"./players/FlashVPAID":12,"./players/HTMLVideo":13,"./players/JavaScriptVPAID":14,events:18,lie:26,util:25,vastacular:30}],6:[function(c,r,k){function b(b){b=""+b;var a=b.split(".").map(parseFloat);this.string=b;this.major=a[0];this.minor=a[1];this.patch=a[2];Object.freeze(this)}
b.prototype.toString=function(){return this.string};r.exports=b},{}],7:[function(c,r,k){function b(a,b){b.fired[a]||(b.fired[a]=!0,b.emit(a))}function q(b){a.apply(this,arguments);Infinity===b&&(b=30);this.duration=b;this.seconds=Array.apply([],Array(b)).map(function(){return!1});this.fired=[m.AdVideoStart,m.AdVideoFirstQuartile,m.AdVideoMidpoint,m.AdVideoThirdQuartile,m.AdVideoComplete].reduce(function(a,b){a[b]=!1;return a},{})}var a=c("events").EventEmitter;k=c("util").inherits;var m=c("./enums/VPAID_EVENTS");
k(q,a);q.prototype.tick=function(a){function d(a){return c.currentTime>=q[a-1]?!0:!1}var c=this._getState(),f=Math.round(c.currentTime)-1,q=[1,2,3,4].map(function(a){return 10>this.duration||4==a?Math.floor(this.video.duration/4*a*10)/10:Math.floor(this.duration/4*a)},this);-1<f&&(this.seconds[f]=!0);d(1)&&b(m.AdVideoFirstQuartile,this);d(2)&&b(m.AdVideoMidpoint,this);d(3)&&b(m.AdVideoThirdQuartile,this);(d(4)||a)&&b(m.AdVideoComplete,this)};r.exports=q},{"./enums/VPAID_EVENTS":10,events:18,util:25}],
8:[function(c,r,k){c="abort canplay canplaythrough durationchange emptied encrypted ended error interruptbegin interruptend loadeddata loadedmetadata loadstart mozaudioavailable pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");c.forEach(function(b){this[b.toUpperCase()]=b},c);Object.freeze(c);r.exports=c},{}],9:[function(c,r,k){c={JAVASCRIPT:"application/javascript",XJAVASCRIPT:"application/x-javascript",TXTJAVASCRIPT:"text/javascript",
FLASH:"application/x-shockwave-flash"};Object.freeze(c);r.exports=c},{}],10:[function(c,r,k){var b="AdLoaded AdStarted AdStopped AdSkipped AdSkippableStateChange AdSizeChange AdLinearChange AdDurationChange AdExpandedChange AdRemainingTimeChange AdVolumeChange AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdInteraction AdUserAcceptInvitation AdUserMinimize AdUserClose AdPaused AdPlaying AdLog AdBid AdError".split(" ");b.forEach(function(c){b[c]=
c});Object.freeze(b);r.exports=b},{}],11:[function(c,r,k){var b=c("./window"),q=document.createElement("video"),a=AniviewImagePlayer.createAniviewVideoTag(),m=c("./enums/MIME");k.isDesktop=!/Android|Silk|Mobile|PlayBook/.test(b.navigator.userAgent);k.canPlay=function(c){var d=b.navigator.mimeTypes,k=b.ActiveXObject;switch(c){case m.FLASH:try{return new k("ShockwaveFlash.ShockwaveFlash"),2}catch(f){return d&&d[m.FLASH]?2:0}case m.JAVASCRIPT:case m.XJAVASCRIPT:case m.TXTJAVASCRIPT:return 2;default:d=
a;if(window.Utils&&!window.Utils.isMobile()||window.AV_player&&window.AV_player.config&&window.AV_player.config.nativevideo)d=q;if(d.canPlayType)switch(d.canPlayType(c)){case "probably":return 2;case "maybe":return 1}}return 0};Object.freeze(k)},{"./enums/MIME":9,"./window":17}],12:[function(c,r,k){function b(a,b){}k=c("./VPAID");var q=c("util").inherits;c("lie");c("../uuid");c("querystring");c("../enums/VPAID_EVENTS");c("../VPAIDVersion");c("VPAID_ERRORS");q(b,k);b.prototype.load=function(a,b,d,
c){};b.prototype.start=function(){};r.exports=b},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../uuid":16,"./VPAID":15,lie:26,querystring:23,util:25,VPAID_ERRORS:48}],13:[function(c,r,k){function b(a,b,g){return a.addEventListener(b,g,!1)}function q(a,c,g){return b(a,c,function M(){a.removeEventListener(c,M,!1);return g.apply(this,arguments)})}function a(a,b){function g(){return Error("The <video> has not been loaded.")}return function(){if(!this.video){if(b)return z.reject(g());throw g();}return a.apply(this,
arguments)}}function m(a,b){var g=b.width;a=a.map(function(a){return{mediaFile:a,playability:f(a.type)}}).filter(function(a){return 0<a.playability}).sort(w("-playability","-mediaFile.bitrate"));b=a.map(function(a){return Math.abs(g-(a.mediaFile.width?a.mediaFile.width:300))});a=a[b.indexOf(Math.min.apply(Math,b))];return!a||1>a.playability?null:a.mediaFile}function d(a){this.container=a;this.video=null;this.dispatchWaterfallApiEvent=function(){};this.timeouts={loadTimeout:5E3,initAdTimeout:2E4,startAdTimeout:2E4};
this.__private__={hasPlayed:!1}}k=c("events").EventEmitter;var e=c("util").inherits,z=c("lie"),f=c("../environment").canPlay,w=c("sort-by"),t=c("../enums/VPAID_EVENTS"),n=c("../enums/HTML_MEDIA_EVENTS"),v=c("../HTMLVideoTracker"),C=c("../EventProxy");e(d,k);Object.defineProperties(d.prototype,{adRemainingTime:{get:a(function(){return this.video.duration-this.video.currentTime})},adDuration:{get:a(function(){return this.video.duration})},adVolume:{get:a(function(){return this.video.muted?0:this.video.volume}),
set:a(function(a){this.video.volume=a;this.video.muted=0>=a})},adSkippableState:{get:a(function(){return!0})}});d.prototype.load=function(a,c,g,d,e,f,k,r){var u=this,D=g&&g.vast&&g.vast.get("ads[0].creatives[0].videoClicks.clickThrough"),B=!1;D&&"string"==typeof D&&(D=D.trim(),B=2<D.length);return new z(function(g,c){Utils.vcmgr.clean(f);var d;Utils.isMobile()&&r&&"string"===typeof r.url&&0<r.url.indexOf("rocket10.adspirit.net")&&(d=!0);var e=f?f:AniviewImagePlayer.createAniviewVideoTag(d);u.video=
e;var k=m(a,u.container.getBoundingClientRect());!d&&Utils.isMobile()&&k&&"string"===typeof k.uri&&0<k.uri.indexOf("r.mradx.net")&&(e=f?f:AniviewImagePlayer.createAniviewVideoTag(!0),u.video=e);u.container.style.top="0px";e.asid=u.asid;if(!k)return c(Error("There are no playable <MediaFile>s."));window.AV_player.config.noinlinevideo||(e.setAttribute("webkit-playsinline",!0),e.setAttribute("playsinline",!0));Utils.isMobile()||f||(e.muted=!0,e.volume=0);e.preload="auto";e.style.display="none";e.style.visibility=
"hidden";e.style.width="100%";e.style.height="100%";e.style.objectFit="contain";q(e,n.LOADEDMETADATA,function(){var a=new v(e);(new C(t)).from(a).to(u);u.video=e;g(u);u.emit(t.AdLoaded);b(e,n.DURATIONCHANGE,function(){u.emit(t.AdDurationChange)});b(e,n.VOLUMECHANGE,function(){u.emit(t.AdVolumeChange)})});q(e,"encodeerror",function(){var a=e.error;u.emit(t.AdError,t.mediaPlayError);c(a)});q(e,"error",function(){var a=e.error,b="";a&&a.message&&(b=a.message);u.emit(t.AdError,b);c(a)});q(e,n.PLAYING,
function(){e.style.visibility="visible";u.__private__.hasPlayed=!0;u.emit(t.AdImpression);u.emit(t.AdVideoStart)});q(e,n.ENDED,function(){});B&&(d=e,f&&Utils.isiOS()&&(d=document.createElement("div"),d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.style.width="100%",d.style.height="100%",d.style.zIndex="1",u.container.appendChild(d)),Utils.isMobile()||(d.style.cursor="pointer"),b(d,"click",function(){u.emit(t.AdClickThru,D,null,!0)}));f&&(f.isContent=!0);u.container.appendChild(e);
e.src=k.uri;e.load()})};d.prototype.startAd=a(function(){var a=this,b=this.video;return this.__private__.hasPlayed?z.reject(Error("The ad has already been started.")):new z(function(g){q(b,n.PLAYING,function(){g(a);a.emit(t.AdStarted)});b.style.display="block";return b.play()})},!0);d.prototype.start=function(){this.startAdCalled=!0;"function"===typeof this.video.startAd&&this.video.startAd();try{this.video.isContent||(this.adVolume=0)}catch(B){}this.startAd()};d.prototype.stopAd=a(function(){this.emit(t.AdStopped);
return z.resolve(this)},!0);d.prototype.skipAd=a(function(){this.emit(t.AdSkipped);return z.resolve(this)},!0);d.prototype.pauseAd=a(function(){var a=this,b=this.video;return this.video.paused?z.resolve(this):new z(function(g){q(b,n.PAUSE,function(){g(a);a.emit(t.AdPaused)});return b.pause()})},!0);d.prototype.resumeAd=a(function(){var a=this,b=this.video;return this.__private__.hasPlayed?this.video.paused?new z(function(g){q(b,n.PLAY,function(){g(a);a.emit(t.AdPlaying)});return b.play()}):z.resolve(this):
z.reject(Error("The ad has not been started yet."))},!0);d.prototype.resizeAd=a(function(a,b,g){this.video.style.width=""+a+"px";this.video.width=a;this.video.style.height=""+b+"px";this.video.height=b},!0);d.prototype.seekAd=a(function(a){this.video.currentTime=a},!0);r.exports=d},{"../EventProxy":2,"../HTMLVideoTracker":3,"../enums/HTML_MEDIA_EVENTS":8,"../enums/VPAID_EVENTS":10,"../environment":11,events:18,lie:26,"sort-by":28,util:25}],14:[function(c,r,k){function b(){q.apply(this,arguments);
this.stateError=e.vpaidGeneralError;this.dispatchWaterfallApiEvent=function(){};this.frame=null;this.timeouts={loadTimeout:1E4,initAdTimeout:2E4,startAdTimeout:2E4};this.subscriptions=[]}k=c("util").inherits;var q=c("./VPAID"),a=c("lie"),m=c("../enums/VPAID_EVENTS");c("../environment");var d=c("../VPAIDVersion"),e=c("VPAID_ERRORS"),z=function(a){function b(b){c[b]=function(){return a[b].apply(a,arguments)}}function d(){a.setAdVolume(0);setTimeout(function(){a.setAdVolume(0);a.startAd();a.setAdVolume(0)},
10)}for(var c=this,e=new window.AVEvtMgr,f="handshakeVersion getAdLinear stopAd getAdVolume setAdVolume resizeAd pauseAd resumeAd expandAd getAdExpanded getAdSkippableState collapseAd skipAd getAdWidth getAdHeight getSkippableRemainingTime getAdRemainingTime getAdDuration getAdCompanions getIcons getAdIcons".split(" "),m=0;m<f.length;m++)b(f[m]);var u=null;this.initAd=function(){u=arguments;setTimeout(function(){e.dispatch("AdLoaded")},10)};this.startAd=function(){u&&(a.subscribe(d,"AdLoaded"),a.initAd.apply(a,
u))};this.subscribe=function(b,d,c){"AdLoaded"==d?e.subscribe(b,d,c):a.subscribe(b,d,c)};this.unsubscribe=function(b,c){"AdLoaded"==c?(e.unsubscribe(b,c),a.unsubscribe(d,"AdLoaded")):a.unsubscribe(b,c)}};k(b,q);b.prototype.load=function(b,c,t,n,q,C,B,u){var g=this,f=this.uri=b[0].uri,v=b[0].bitrate;g.trackingPixel=n;g.tagType=B;var k=0;if(u&&u.playerSettings){if(u.playerSettings.impOn&&u.playerSettings.impOn==m.AdVideoStart)var r=u.playerSettings.impOn;u.playerSettings.vpm&&(k=u.playerSettings.vpm)}return new a(function(a,
b){function n(a,b){function d(){!g.sndEnabled&&!c&&!this.muted&&0<this.volume&&(c=!0,this.volume=0,c=!1)}var c=!1;a.volume=0;if(b)for(b=0;b<Q.length;b++)if(Q[b].el===a)return;Q.push({el:a,listener:d,evt:"volumechange"});a.addEventListener("volumechange",d)}function D(a){if("function"===typeof a.querySelectorAll&&!Utils.isMobile()&&!window.AV_player.config.autosound){a=a.querySelectorAll("video");for(var b=0;b<a.length;b++)n(a[b],!0)}}function B(){F&&(clearInterval(F),F=0)}function M(a){window.AV_player.config.autosound||
(F=setInterval(function(){if(g.sndEnabled)B();else if("function"===typeof a.getElementsByTagName&&!Utils.isMobile())for(var b=a.getElementsByTagName("embed"),d=0;d<b.length;d++)if(b[d]&&"string"===typeof b[d].src&&-1<b[d].src.indexOf("//redir.adap.tv/redir/client/VPAIDLoader.swf"))try{b[d].__adaptv___vpaidloader___set_adVolume(0)}catch(fa){}},150))}function x(a){a.origAppendChild=a.appendChild;a.appendChild=function(b){if("IFRAME"==b.nodeName&&"string"===typeof b.src&&0==b.src.indexOf("http")&&-1==
b.src.indexOf("ads.pubmatic.com")){var g=b.src;g=g.replace("http://","aniph/http___");g=g.replace("https://","aniph/https___");g="https://urlhandler.aniview.com/api/"+g+(-1==g.indexOf("?")?"?":"&")+"urlhandler=;urlhandler";b.src=g}"DIV"==b.nodeName&&x(b);return a.origAppendChild.call(a,b)}}function w(a,b,d,c){function h(a,d){if(b&&b[d]&&b[d].list){for(var h=c.getHostName(a),e=!1,f=0;f<b[d].list.length;f++)if(-1<h.indexOf(b[d].list[f])){e=!0;break}if(e){if("function"===typeof b[d].callback)try{b[d].callback(a,
d,g.asid)}catch(pa){}if(b[d].track)try{var n=encodeURIComponent(a);for(f=0;f<b[d].track.length;f++){var u=b[d].track[f].replace("AVC_BLKURL",n);(new Image).src=u}}catch(pa){}c.writeLog(c.logLevels.defaultLevel,"URL blocked: "+d+":"+a);return!0}if(-1<a.indexOf("/mad_united.js"))return!0}return!1}function e(a){return a&&"SCRIPT"==a.nodeName&&"string"===typeof a.src?h(a.src.toLowerCase(),"script"):!1}function f(){try{this.contentWindow.cav_fl_set||(this.contentWindow.cav_fl_set=!0,this.contentWindow.Element.prototype.scrollIntoView=
function(){Utils.writeLog(Utils.logLevels.debug,"scrollIntoView inner vpaid overwritten "+g.asid)},w(this.contentWindow,b))}catch(da){}}c||(c=Utils);if(b){if(b.script&&b.script.list){var u=a.Element.prototype.appendChild,m=a.Element.prototype.insertBefore,C=function(a){try{if(e(a))return null}catch(qa){}return u.apply(this,arguments)},t=function(a,b){try{if(e(a))return null}catch(ea){}return m.apply(this,arguments)};try{a.Element.prototype.appendChild=C,a.Element.prototype.insertBefore=t}catch(da){}}if(b.vast&&
b.vast.list){var D=a.XMLHttpRequest.prototype.open;C=function(a,g,d,c,e){try{"string"===typeof g&&h(g,"vast")&&(arguments[1]=b.vast.redirUrl||"https://play.aniview.com/block.txt")}catch(ka){}return D.apply(this,arguments)};try{a.XMLHttpRequest.prototype.open=C}catch(da){}}if(d)return}if(!d){if(window.AV_player.config.customwndopen){var q=a.open;a.open=function(b){if(arguments&&0<arguments.length&&"string"===typeof arguments[0]){var g="&";-1==arguments[0].indexOf("?")&&(g="?");arguments[0]+=g+"avclickopt=aniview.com"}q.apply(a,
arguments)}}var p=a.document.createElement;a.document.createElement=function(b,g){g=p.call(a.document,b,g);"string"===typeof b&&("VIDEO"!=b.toUpperCase()||Utils.isMobile()||window.AV_player.config.autosound||n(g),"IFRAME"==b.toUpperCase()&&(g.addEventListener("load",f),Q.push({el:g,listener:f,evt:"load"})));return g}}}function R(a,b){var g=window.AV_player.slotWindow;if(b&&g&&!g.AV_startIframeListener)try{var d=document.createElement("script");d.innerText=w.toString();d.innerText=d.innerText.replace(/(\r\n|\n|\r)/gm,
"");d.innerText=d.innerText.replace("function "+w.name,"function AV_startIframeListener");g.document.body.appendChild(d);var c=JSON.parse(JSON.stringify(b));g.AV_startIframeListener(g,c,!0,Utils)}catch(y){}w(a,b)}function G(){try{I="pl"!=u.type||1!=u.platform&&3!=u.platform?A.contentWindow.getVPAIDAd():new window[1==u.platform?"AVSpotXSDK":"AVImaSDK"](A.contentWindow),window.AV_player.config.hideconsole&&"object"===typeof A.contentWindow.console&&(A.contentWindow.console.log=function(){})}catch(S){if("function"===
typeof this.onerror)this.onerror();return}t.opt2&&(I=new z(I));if(Utils.isMobile()&&-1<f.trim().toLowerCase().indexOf("b.measuread.com/tl.js")&&(A.style.display="none",I=new z(I),Utils.isAndroid())){var C=K.addEventListener;K.addEventListener=function(a,b){if("click"==a&&"function"===typeof b){var g=b.toString().indexOf(".style.background");-1<g&&20>g&&setTimeout(function(){"function"===typeof K.click&&K.click()},10)}C.apply(K,arguments)}}var q=Utils.getSlotSize(K),k=g.vpaidVersion=new d(I.handshakeVersion("2.0"));
clearTimeout(g.timeouts.loadTimer);g.timeouts.loadTimer=0;if(2<k.major)return b(Error("VPAID version "+k+" is not supported."));A.contentWindow.addEventListener("resize",function(){if(!window.AV_player.isFullScreen){var a=Utils.getSlotSize(K);g.resizeAd(a.width,a.height,"normal")}},!1);m.forEach(function(a){var b=function(){try{Utils.writeLog(Utils.logLevels.debug,"JSVpaid event "+a+":"+g.asid);for(var b=Array(arguments.length),d=arguments.length;d--;)b[d]=arguments[d];if(a==m.AdUserClose)return g.emit.apply(g,
[m.AdSkipped].concat(b));if(r){if("AdImpression"==a)return;a==r&&g.emit.apply(g,[m.AdImpression].concat(b))}return g.emit.apply(g,[a].concat(b))}catch(ja){}};g.subscriptions.push({event:a,func:b});return I.subscribe(b,a)});g.once(m.AdLoaded,function(){g.fireTrackingPixel(g.trackingPixel+m.AdLoaded+"&ti="+(Date.now()-g.timeouts.initAdTime),!1,!0,m.AdLoaded,Date.now()-g.timeouts.initAdTime);g.dispatchWaterfallApiEvent(m.AdLoaded,g.asid);g.timeouts.startAdTime=Date.now();g.frame&&(g.slot.style.width=
"100%",g.slot.style.height="100%");!window.AV_player.config.noifsnd||Utils.isMobile()||window.AV_player.config.autosound||D(g.slot);A.style.opacity="1";g.api=I;clearTimeout(g.timeouts.initAdTimer);g.timeouts.initAdTimer=0;a(g);if(0==f.trim().indexOf("https://b.measuread.com"))try{g.startAdCalled||(0==window.AV_player.config.autoplay&&(setTimeout(function(){g.startAdCalled||g.pauseAd();g.adVolume=0},10),setTimeout(function(){g.startAdCalled||g.pauseAd()},250),setTimeout(function(){g.startAdCalled||
g.pauseAd()},1E3)),g.pauseAd(),g.adVolume=0)}catch(S){}});if(t.opt2)try{var w=window.atob("ZnVuY3Rpb24gaW5pdFBhcnNlKCl7dmFyIG9yaWdQYXJzZT13aW5kb3cuSlNPTi5wYXJzZTt3aW5kb3cuSlNPTi5wYXJzZT1mdW5jdGlvbigpe3ZhciByZXNKc29uPW9yaWdQYXJzZS5hcHBseSh3aW5kb3cuSlNPTixhcmd1bWVudHMpO3RyeXtpZihyZXNKc29uJiZyZXNKc29uLnNpdGUmJnJlc0pzb24uc2l0ZS5idHBzKSByZXNKc29uLnNpdGUuYnRwcz1mYWxzZTt9Y2F0Y2goZXhwKXt9OyByZXR1cm4gcmVzSnNvbjt9fQ=="),G=document.createElement("script");G.innerText=w;g.frame.contentWindow.document.body.appendChild(G);
g.frame.contentWindow.initParse()}catch(S){g.frame.contentWindow.debuggeron=!0}g.once(m.AdError,function(a){g.stateError!=e.noError&&g.fireTrackingPixel(g.trackingPixel+g.stateError,!1,!1,g.stateError);g.dispatchWaterfallApiEvent(g.stateError,g.asid,{msg:a});g.cleanup(Error(a))});g.once(m.AdStarted,function(a){g.adStarted=!0});g.once(m.AdStopped,g.cleanup);k={slot:K,videoSlot:J,videoSlotCanAutoPlay:!0};-1<f.indexOf(".adap.tv")&&window.navigator&&window.navigator.userAgent.toLowerCase().match(/(ipad|iphone|ipod)/g)&&
(k.clickSlot=K);-1<f.indexOf(".adap.tv")&&window.navigator&&window.navigator.userAgent.toLowerCase().match(/(android)/g)&&(k.clickSlot=K,k.slot=null);if(-1<f.indexOf(".videologygroup.com/admanager/sbs/vpaidjs")&&Utils.isMobile()){if("function"===typeof I.setAdVolume){var W=I.setAdVolume;I.setAdVolume=function(a){0==a&&(a=1E-10);W.call(I,a)}}A.style.display="none";A.contentWindow.sbh5api&&"function"===typeof A.contentWindow.sbh5api.validateVideoSlot&&(A.contentWindow.sbh5api.validateVideoSlot=function(){return!0})}-1<
f.indexOf(".stickyadstv.com/mustang")&&(k.slot=null,""!=k.videoSlot.src&&(k.videoSlot.src=""),k.poster=!0,g.once(m.AdImpression,function(a){g.stickyImpression=!0}),J.parentNode.removeChild(J),A.contentWindow.document.body.appendChild(J),Utils.isMobile()&&(k.maxDelta=1E6));-1<f.indexOf("acdn.adnxs.com")&&(Utils.isiOS()&&(k.videoSlot.av_opt_adnxs=!0),A.style.display="none");(h||!Utils.isMobile()&&!window.AV_player.config.autosound||window.AV_player.config.customwndopen||window.AV_player.config.antihjck)&&
R(A.contentWindow,h);!window.AV_player.config.noifsnd||Utils.isMobile()||window.AV_player.config.autosound||"58a5addb28a0612d3529bc5e"==window.AV_player.config.publisherid||(x(K),g.on(m.AdVideoStart,function(){D(K)}),g.once(m.AdImpression,function(){setTimeout(function(){B();g.stopSRScan()},3E3);D(K)}));window.AV_player.config.autosound||n(J);g.timeouts.initAdTimer=setTimeout(function(){g.stateError=e.noError;g.fireTrackingPixel(g.trackingPixel+e.vpaidInitAdTimeout,!1,!1,e.vpaidInitAdTimeout);Utils.writeLog(Utils.logLevels.debug,
"JSVpaid initAd timeout:"+g.asid);g.dispatchWaterfallApiEvent(e.vpaidInitAdTimeout,g.asid);g.emit(m.AdError,e.vpaidInitAdTimeout)},g.timeouts.initAdTimeout);g.stateError=e.vpaidInitAdError;Utils.writeLog(Utils.logLevels.debug,"JSVpaid command initAd: "+g.asid);g.timeouts.initAdTime=Date.now();g.fireTrackingPixel(g.trackingPixel+"initAd",!0,!1,"initAd");K.parentNode.origAppendChild=K.parentNode.appendChild;K.parentNode.appendChild=function(a){return a===K?K:K.parentNode.origAppendChild.call(K.parentNode,
a)};!window.AV_player.config.noifsnd||Utils.isMobile()||window.AV_player.config.autosound||M(g.slot);Utils.vcmgr.clean(k.videoSlot);g.ima&&(k.imaWindow=window,k.imaLang=window.AV_player.config.imalang,k.imaAutoplay=window.AV_player.config.imaautoplay,k.imaMuted=window.AV_player.config.imamuted,k.imaiOSSkip=window.AV_player.config.imaiosskip,k.imaVpaidMode=window.AV_player.config.imavpaidmode);window.AV_player.config.usevslot&&window.AV_player.config.videoslot&&(k.videoSlot=window.AV_player.config.videoslot,
window.AV_player.config.slot&&(k.slot=window.AV_player.config.slot),window.AV_player.playerSlot&&(window.AV_player.playerSlot.style.display="none"));try{I.initAd(q.width,q.height,"normal",v,{AdParameters:c},k),g.dispatchWaterfallApiEvent("initAd",g.asid)}catch(S){g.stateError=e.noError,g.fireTrackingPixel(g.trackingPixel+e.vpaidInitAdError,!1,!1,e.vpaidInitAdError),Utils.writeLog(Utils.logLevels.debug,"JSVpaid initAd exception:"+g.asid),g.dispatchWaterfallApiEvent(e.vpaidInitAdError,g.asid),g.emit(m.AdError,
e.vpaidInitAdError)}try{if(t.opt2&&g.frame.contentWindow.topWindowWithAccess&&g.frame.contentWindow.topWindowWithAccess.lkqd&&g.frame.contentWindow.topWindowWithAccess.lkqd.instances&&0<g.frame.contentWindow.topWindowWithAccess.lkqd.instances.length){var U=g.frame.contentWindow.topWindowWithAccess.lkqd.instances;for(q=0;q<U.length;q++)U[q].stop=Date.now()}}catch(S){}}var I,A=document.createElement("iframe"),ia=document.createElement("script"),K=q||document.createElement("div"),T=!1;if(Utils.isMobile()){var V=
f.indexOf(".sascdn.com/");-1<V&&20>V&&(T=!0);V=f.indexOf("//connect.facebook.net");-1<V&&20>V&&(T=!0);"5b72ebe6073ef476ef19d56a"==u.nasid&&(T=!0);"string"===typeof u.url&&0<u.url.indexOf("rocket10.adspirit.net")&&(T=!0)}var J=C||AniviewImagePlayer.createAniviewVideoTag(T),Q=[];g.vids=Q;K.style.width="100%";K.style.height="100%";g.slot=K;g.video=J;J.asid=g.asid;Utils.isMobile()||window.AV_player.config.autosound||(J.muted=!0,J.volume=0);"function"===typeof K.scrollIntoView&&(K.scrollIntoView=function(){},
J.scrollIntoView=function(){},A.scrollIntoView=function(){});var F=0;g.stopSRScan=function(){g.srinterval&&(clearInterval(g.srinterval),g.srinterval=0);g.sndInterval&&(clearInterval(g.sndInterval),g.sndInterval=0)};var h=null;window.AV_player.waterfall&&window.AV_player.waterfall.data&&window.AV_player.waterfall.data.block&&(h=window.AV_player.waterfall.data.block);g.cleanup=function(a){if(g.frame)try{for(var d=0;d<Q.length;d++)Q[d].el.removeEventListener(Q[d].evt,Q[d].listener);Q=[];A.contentWindow.Element.prototype.scrollIntoView=
A.contentWindow.Element.prototype.scrollIntoViewOrig}catch(na){}g.cleanupSubscriptions();g.api=null;g.cleanTimers();B();g.stopSRScan();a&&b(a)};g.cleanupSubscriptions=function(){try{I&&g.subscriptions.forEach(function(a){I.unsubscribe(a.func,a.event)})}catch(p){}g.subscriptions=[]};A.src="about:blank";1==k&&(A.src="javascript:false");A.style.width="100%";A.style.height="100%";A.style.display="block";A.style.opacity="0";A.style.position="absolute";A.style.top="0px";A.style.border="none";A.scrolling=
"no";window.AV_player.config.noinlinevideo||(J.setAttribute("webkit-playsinline","true"),J.setAttribute("playsinline","true"));J.style.display="block";J.style.width="100%";J.style.height="100%";J.style.objectFit="contain";J.style.position="absolute";J.style.top="0px";q?A.style.display="none":(g.container.style.top="",g.container.appendChild(K),K.appendChild(J));!u||"pl"!=u.type||3!=u.platform&&6!=u.platform||(g.ima=!0,A.style.display="none");g.frame=A;Utils.writeLog(Utils.logLevels.debug,"JSVpaid command loadIframe: "+
g.asid);4<f.indexOf("//r.mradx.net/")||1==k?g.container.appendChild(A):K.appendChild(A);A.contentWindow.document.open().write('<body onload="window.avCallback();">');A.contentWindow.avCallback=function(){ia.src=f;ia.onload=G;ia.onerror=function(){g.fireTrackingPixel(g.trackingPixel+e.vpaidLoadError,!1,!1,e.vpaidLoadError);Utils.writeLog(Utils.logLevels.debug,"JSVpaid load Error:"+g.asid);g.dispatchWaterfallApiEvent(e.vpaidLoadError,g.asid);g.emit(m.AdError,e.vpaidLoadError)};Utils.writeLog(Utils.logLevels.debug,
"JSVpaid command loadScript: "+g.asid);A.contentWindow.Element.prototype.scrollIntoViewOrig=A.contentWindow.Element.prototype.scrollIntoView;A.contentWindow.Element.prototype.scrollIntoView=function(){Utils.writeLog(Utils.logLevels.debug,"scrollIntoView overwritten "+g.asid)};1==k&&A.contentWindow.document.body.appendChild(K);"pl"!=u.type||1!=u.platform&&3!=u.platform?A.contentWindow.document.body.appendChild(ia):setTimeout(G,10);A.contentWindow.document.body.style.margin="0"};A.contentWindow.document.close();
A.contentDocument.body.addEventListener("click",function(){Utils.writeLog(Utils.logLevels.debug,"Iframe clicked:"+g.asid);var a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!0);J.dispatchEvent(a)});g.timeouts.loadTimer=setTimeout(function(){g.stateError=e.noError;g.fireTrackingPixel(g.trackingPixel+e.vpaidLoadTimeout,!1,!1,e.vpaidLoadTimeout);Utils.writeLog(Utils.logLevels.debug,"JSVpaid load timeout:"+g.asid);g.dispatchWaterfallApiEvent(e.vpaidLoadTimeout,g.asid);g.emit(m.AdError,e.vpaidLoadTimeout)},
g.timeouts.loadTimeout)})};b.prototype.start=function(){var a=this;a.startAdCalled=!0;a.stateError=e.vpaidStartAdError;var b=m.AdImpression;a.stickyImpression&&(b=m.AdVideoStart);a.once(b,function(){a.fireTrackingPixel(a.trackingPixel+m.AdImpression+"&ti="+(Date.now()-a.timeouts.startAdTime),!1,!0,m.AdImpression,Date.now()-a.timeouts.startAdTime);clearTimeout(a.timeouts.startAdTimer);a.timeouts.startAdTimer=0;a.stateError=e.vpaidPlayError;a.sndInterval&&(clearInterval(a.sndInterval),a.sndInterval=
0);try{if(a.video&&(a.ima||""==a.video.src||""==a.video.getAttribute("src"))&&2<a.slot.children.length&&(a.video.style.zIndex="-1",a.frame.style.zIndex="-1"),a.slot){for(var b=a.slot.getElementsByTagName("iframe"),d=0;d<b.length&&b[d];d++){var c=b[d].getAttribute("src");"string"===typeof c&&"<img"==c.substring(0,4)&&(b[d].src="about:blank",b[d].style.display="none")}for(d=0;d<a.vids.length;d++)a.vids[d]&&a.vids[d].el&&"IFRAME"===a.vids[d].el.nodeName&&(c=a.vids[d].el.getAttribute("src"),"string"===
typeof c&&"<img"==c.substring(0,4)&&(a.vids[d].el.src="about:blank",a.vids[d].el.style.display="none"))}}catch(C){}});a.timeouts.startAdTimer=setTimeout(function(){a.stateError=e.noError;a.fireTrackingPixel(a.trackingPixel+e.vpaidStartAdTimeout,!1,!1,e.vpaidStartAdTimeout);Utils.writeLog(Utils.logLevels.debug,"JSVpaid startAd timeout:"+a.asid);a.dispatchWaterfallApiEvent(e.vpaidStartAdTimeout,a.asid);a.stopAd();a.emit(m.AdError,e.vpaidStartAdTimeout)},a.timeouts.startAdTimeout);a.video.addEventListener("encodeerror",
function(){"googima"!=a.tagType&&a.emit(m.AdError,e.mediaPlayError)},!1);Utils.writeLog(Utils.logLevels.debug,"JSVpaid command startAd: "+a.asid);a.timeouts.startAdTime=Date.now();a.fireTrackingPixel(a.trackingPixel+"startAd",!0,!1,"startAd");try{window.AV_player.config.autosound||(a.adVolume=0)}catch(t){}window.AV_player.config.noifsnd&&!Utils.isMobile()&&!window.AV_player.config.autosound&&-1<this.uri.indexOf("streamrail.com")&&(a.srinterval=setInterval(function(){var b;try{a.sndEnabled?a.stopSRScan():
(b=a.api._waterfallManager)&&(b=b._currentIntegrator)&&(b=b.tech)&&(b=b.vpaidHTMLClient)&&(b=b._adUnit)&&(b=b._creative)&&(b=b._waterfallManager)&&(b=b._currentIntegrator)&&(b=b.tech)&&(b=b.vpaidHTMLClient)&&(b=b._adUnit)&&(b=b._creative)&&(b.setAdVolume(0)||0<b.getAdVolume()&&(b.setAdVolume(1E-5)||b.setAdVolume(0)))}catch(n){}},150));Utils.isMobile()||window.AV_player.config.autosound||a.sndEnabled||window.AV_player.config.sndblkmode&&!(4<window.AV_player.config.sndblkmode)||(a.sndInterval=setInterval(function(){try{a.sndEnabled?
a.stopSRScan():a.adVolume=0}catch(t){}},150));"function"===typeof a.video.startAd&&a.video.startAd();a.adStarted?a.resumeAd():a.startAd();a.dispatchWaterfallApiEvent("startAd",a.asid)};b.prototype.setAdVolumeExt=function(a){this.video.muted=!(0<a)};r.exports=b},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../environment":11,"./VPAID":15,lie:26,util:25,VPAID_ERRORS:48}],15:[function(c,r,k){function b(a,b){return function(){function d(){"function"===typeof q[a+"Ext"]&&q[a+"Ext"].apply(q,c);return e[a].apply(e,
c)}var c=arguments,e=this.api,q=this;if(!b){if(!e)throw Error("Ad has not been loaded.");return d()}return new m(function(a,c){if(!e)return c(Error("Ad has not been loaded."));q.once(b,function(){a(q)});return d()})}}function q(a){this.container=a;this.vpaidVersion=this.api=null;this.fireVpaidEvents=window.AV_player.config.tmf.vpaid}k=c("util").inherits;var a=c("events").EventEmitter,m=c("lie");c=c("../enums/VPAID_EVENTS");k(q,a);Object.defineProperties(q.prototype,{adLinear:{get:b("getAdLinear")},
adWidth:{get:b("getAdWidth")},adHeight:{get:b("getAdHeight")},adExpanded:{get:b("getAdExpanded")},adSkippableState:{get:b("getAdSkippableState")},adRemainingTime:{get:b("getAdRemainingTime")},adDuration:{get:b("getAdDuration")},adVolume:{get:b("getAdVolume"),set:b("setAdVolume")},adCompanions:{get:b("getAdCompanions")},adIcons:{get:b("getAdIcons")}});q.prototype.cleanTimers=function(){this.timeouts.loadTimer&&clearTimeout(this.timeouts.loadTimer);this.timeouts.initAdTimer&&clearTimeout(this.timeouts.initAdTimer);
this.timeouts.startAdTimer&&clearTimeout(this.timeouts.startAdTimer);this.timeouts.startAdTimer=this.timeouts.initAdTimer=this.timeouts.loadTimer=0};q.prototype.load=function(){throw Error("VPAID subclass must implement load() method.");};q.prototype.resizeAd=b("resizeAd",c.AdSizeChange);q.prototype.startAd=b("startAd",c.AdStarted);q.prototype.stopAd=b("stopAd",c.AdStopped);q.prototype.pauseAd=b("pauseAd",c.AdPaused);q.prototype.resumeAd=b("resumeAd",c.AdPlaying);q.prototype.expandAd=b("expandAd",
c.AdExpandedChange);q.prototype.collapseAd=b("collapseAd",c.AdExpandedChange);q.prototype.skipAd=b("skipAd",c.AdSkipped);q.prototype.seekAd=function(a){return!1};q.prototype.fireTrackingPixel=function(a,b,c,f,m){(this.fireVpaidEvents||c)&&50<a.length&&(c="",b&&(c="&vi="+Utils.getViewabilityPerc()),window.AV_player.config.postevt?this.asTrackingInfo&&this.asTrackingInfo.base&&this.asTrackingInfo.params&&(a="",m&&(a="&ti="+m),Utils.bufferTrackingPixel("vpaid",this.asTrackingInfo.base,this.asTrackingInfo.params+
"&e="+f+a+c+"&vt=vpaid",!1)):(new Image).src=a+c+"&vt=vpaid&cb="+Date.now())};r.exports=q},{"../enums/VPAID_EVENTS":10,events:18,lie:26,util:25}],16:[function(c,r,k){r.exports=function(b){for(var c="";b--;)c+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return c}},{}],17:[function(c,r,k){r.exports=window},{}],18:[function(c,r,k){function b(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function q(a){return"function"===
typeof a}function a(a){return"object"===typeof a&&null!==a}r.exports=b;b.EventEmitter=b;b.prototype._events=void 0;b.prototype._maxListeners=void 0;b.defaultMaxListeners=50;b.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};b.prototype.emit=function(b){var d;this._events||(this._events={});if("error"===b&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){var c=arguments[1];
if(c instanceof Error)throw c;throw TypeError('Uncaught, unspecified "error" event.');}var m=this._events[b];if(void 0===m)return!1;if(q(m))switch(arguments.length){case 1:m.call(this);break;case 2:m.call(this,arguments[1]);break;case 3:m.call(this,arguments[1],arguments[2]);break;default:c=arguments.length;var f=Array(c-1);for(d=1;d<c;d++)f[d-1]=arguments[d];m.apply(this,f)}else if(a(m)){c=arguments.length;f=Array(c-1);for(d=1;d<c;d++)f[d-1]=arguments[d];m=m.slice();c=m.length;for(d=0;d<c;d++)m[d].apply(this,
f)}return!0};b.prototype.addListener=function(c,d){if(!q(d))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",c,q(d.listener)?d.listener:d);this._events[c]?a(this._events[c])?this._events[c].push(d):this._events[c]=[this._events[c],d]:this._events[c]=d;a(this._events[c])&&!this._events[c].warned&&(d=void 0!==this._maxListeners?this._maxListeners:b.defaultMaxListeners)&&0<d&&this._events[c].length>d&&(this._events[c].warned=
!0,console.log("warning: EventEmitter maxListeners passed %d listeners added. ",this._events[c].length));return this};b.prototype.on=b.prototype.addListener;b.prototype.once=function(a,b){function c(){this.removeListener(a,c);d||(d=!0,b.apply(this,arguments))}if(!q(b))throw TypeError("listener must be a function");var d=!1;c.listener=b;this.on(a,c);return this};b.prototype.removeListener=function(b,c){if(!q(c))throw TypeError("listener must be a function");if(!this._events||!this._events[b])return this;
var d=this._events[b];var m=d.length;var f=-1;if(d===c||q(d.listener)&&d.listener===c)delete this._events[b],this._events.removeListener&&this.emit("removeListener",b,c);else if(a(d)){for(;0<m--;)if(d[m]===c||d[m].listener&&d[m].listener===c){f=m;break}if(0>f)return this;1===d.length?(d.length=0,delete this._events[b]):d.splice(f,1);this._events.removeListener&&this.emit("removeListener",b,c)}return this};b.prototype.removeAllListeners=function(a){if(!this._events)return this;if(!this._events.removeListener)return 0===
arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events={};return this}var b=this._events[a];if(q(b))this.removeListener(a,b);else for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];return this};b.prototype.listeners=function(a){return this._events&&this._events[a]?q(this._events[a])?[this._events[a]]:this._events[a].slice():
[]};b.listenerCount=function(a,b){return a._events&&a._events[b]?q(a._events[b])?1:a._events[b].length:0}},{}],19:[function(c,r,k){r.exports="function"===typeof Object.create?function(b,c){b.super_=c;b.prototype=Object.create(c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}})}:function(b,c){b.super_=c;var a=function(){};a.prototype=c.prototype;b.prototype=new a;b.prototype.constructor=b}},{}],20:[function(c,r,k){function b(){e=!1;z.length?d=z.concat(d):f=-1;d.length&&q()}
function q(){if(!e){var a=setTimeout(b);e=!0;for(var c=d.length;c;){z=d;for(d=[];++f<c;)z&&z[f].run();f=-1;c=d.length}z=null;e=!1;clearTimeout(a)}}function a(a,b){this.fun=a;this.array=b}function m(){}c=r.exports={};var d=[],e=!1,z,f=-1;c.nextTick=function(b){var c=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)c[f-1]=arguments[f];d.push(new a(b,c));1!==d.length||e||setTimeout(q,0)};a.prototype.run=function(){this.fun.apply(null,this.array)};c.title="browser";c.browser=
!0;c.env={};c.argv=[];c.version="";c.versions={};c.on=m;c.addListener=m;c.once=m;c.off=m;c.removeListener=m;c.removeAllListeners=m;c.emit=m;c.binding=function(a){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(a){throw Error("process.chdir is not supported");};c.umask=function(){return 0}},{}],21:[function(c,r,k){r.exports=function(c,a,m,d){m=m||"=";var e={};if("string"!==typeof c||0===c.length)return e;var k=/\+/g;c=c.split(a||"&");a=1E3;d&&"number"===
typeof d.maxKeys&&(a=d.maxKeys);d=c.length;0<a&&d>a&&(d=a);for(a=0;a<d;++a){var f=c[a].replace(k,"%20"),q=f.indexOf(m);if(0<=q){var t=f.substr(0,q);f=f.substr(q+1)}else t=f,f="";t=decodeURIComponent(t);f=decodeURIComponent(f);Object.prototype.hasOwnProperty.call(e,t)?b(e[t])?e[t].push(f):e[t]=[e[t],f]:e[t]=f}return e};var b=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}},{}],22:[function(c,r,k){function b(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],
d));return c}var q=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};r.exports=function(c,e,k,f){e=e||"&";k=k||"=";null===c&&(c=void 0);return"object"===typeof c?b(m(c),function(d){var f=encodeURIComponent(q(d))+k;return a(c[d])?b(c[d],function(a){return f+encodeURIComponent(q(a))}).join(e):f+encodeURIComponent(q(c[d]))}).join(e):f?encodeURIComponent(q(f))+k+encodeURIComponent(q(c)):""};var a=Array.isArray||
function(a){return"[object Array]"===Object.prototype.toString.call(a)},m=Object.keys||function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],23:[function(c,r,k){k.decode=k.parse=c("./decode");k.encode=k.stringify=c("./encode")},{"./decode":21,"./encode":22}],24:[function(c,r,k){r.exports=function(b){return b&&"object"===typeof b&&"function"===typeof b.copy&&"function"===typeof b.fill&&"function"===typeof b.readUInt8}},{}],25:[function(c,r,k){(function(b,
q){function a(a,b){var c={seen:[],stylize:d};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.colors=arguments[3]);B(b)?c.showHidden=b:b&&k._extend(c,b);D(c.showHidden)&&(c.showHidden=!1);D(c.depth)&&(c.depth=2);D(c.colors)&&(c.colors=!1);D(c.customInspect)&&(c.customInspect=!0);c.colors&&(c.stylize=m);return r(c,a,c.depth)}function m(b,c){return(c=a.styles[c])?"\u001b["+a.colors[c][0]+"m"+b+"\u001b["+a.colors[c][1]+"m":b}function d(a,b){return a}function e(a){var b={};a.forEach(function(a,
c){b[a]=!0});return b}function r(a,b,c){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==k.inspect&&(!b.constructor||b.constructor.prototype!==b)){var d=b.inspect(c,a);g(d)||(d=r(a,d,c));return d}if(d=f(a,b))return d;var u=Object.keys(b),m=e(u);a.showHidden&&(u=Object.getOwnPropertyNames(b));if(G(b)&&(0<=u.indexOf("message")||0<=u.indexOf("description")))return w(b);if(0===u.length){if(A(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(M(b))return a.stylize(RegExp.prototype.toString.call(b),
"regexp");if(x(b))return a.stylize(Date.prototype.toString.call(b),"date");if(G(b))return w(b)}d="";var D=!1,q=["{","}"];C(b)&&(D=!0,q=["[","]"]);A(b)&&(d=" [Function"+(b.name?": "+b.name:"")+"]");M(b)&&(d=" "+RegExp.prototype.toString.call(b));x(b)&&(d=" "+Date.prototype.toUTCString.call(b));G(b)&&(d=" "+w(b));if(0===u.length&&(!D||0==b.length))return q[0]+d+q[1];if(0>c)return M(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);u=D?t(a,b,c,m,
u):u.map(function(g){return n(a,b,c,m,g,D)});a.seen.pop();return v(u,d,q)}function f(a,b){if(D(b))return a.stylize("undefined","undefined");if(g(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.stylize(b,"string");if(u(b))return a.stylize(""+b,"number");if(B(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function w(a){return"["+Error.prototype.toString.call(a)+"]"}function t(a,b,c,g,d){for(var e=[],f=0,u=b.length;f<
u;++f)Object.prototype.hasOwnProperty.call(b,String(f))?e.push(n(a,b,c,g,String(f),!0)):e.push("");d.forEach(function(d){d.match(/^\d+$/)||e.push(n(a,b,c,g,d,!0))});return e}function n(a,b,c,g,d,e){var f,n;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?n=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(n=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(g,d)||(f="["+d+"]");n||(0>a.seen.indexOf(b.value)?(n=null===c?r(a,b.value,null):
r(a,b.value,c-1),-1<n.indexOf("\n")&&(n=e?n.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+n.split("\n").map(function(a){return"   "+a}).join("\n"))):n=a.stylize("[Circular]","special"));if(D(f)){if(e&&d.match(/^\d+$/))return n;f=JSON.stringify(""+d);f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=a.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=a.stylize(f,"string"))}return f+": "+n}function v(a,b,c){var g=0;return 60<
a.reduce(function(a,b){g++;0<=b.indexOf("\n")&&g++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function C(a){return Array.isArray(a)}function B(a){return"boolean"===typeof a}function u(a){return"number"===typeof a}function g(a){return"string"===typeof a}function D(a){return void 0===a}function M(a){return R(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function R(a){return"object"===typeof a&&
null!==a}function x(a){return R(a)&&"[object Date]"===Object.prototype.toString.call(a)}function G(a){return R(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function A(a){return"function"===typeof a}function N(a){return 10>a?"0"+a.toString(10):a.toString(10)}function Y(){var a=new Date,b=[N(a.getHours()),N(a.getMinutes()),N(a.getSeconds())].join(":");return[a.getDate(),X[a.getMonth()],b].join(" ")}var H=/%[sdj%]/g;k.format=function(b){if(!g(b)){for(var c=[],d=0;d<
arguments.length;d++)c.push(a(arguments[d]));return c.join(" ")}d=1;var e=arguments,f=e.length;c=String(b).replace(H,function(a){if("%%"===a)return"%";if(d>=f)return a;switch(a){case "%s":return String(e[d++]);case "%d":return Number(e[d++]);case "%j":try{return JSON.stringify(e[d++])}catch(V){return"[Circular]"}default:return a}});for(var n=e[d];d<f;n=e[++d])c=null!==n&&R(n)?c+(" "+a(n)):c+(" "+n);return c};k.deprecate=function(a,c){if(D(q.process))return function(){return k.deprecate(a,c).apply(this,
arguments)};if(!0===b.noDeprecation)return a;var g=!1;return function(){if(!g){if(b.throwDeprecation)throw Error(c);b.traceDeprecation?console.trace(c):console.error(c);g=!0}return a.apply(this,arguments)}};var aa={},ha;k.debuglog=function(a){D(ha)&&(ha=b.env.NODE_DEBUG||"");a=a.toUpperCase();if(!aa[a])if((new RegExp("\\b"+a+"\\b","i")).test(ha)){var c=b.pid;aa[a]=function(){var b=k.format.apply(k,arguments);console.error("%s %d: %s",a,c,b)}}else aa[a]=function(){};return aa[a]};k.inspect=a;a.colors=
{bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};k.isArray=C;k.isBoolean=B;k.isNull=function(a){return null===a};k.isNullOrUndefined=function(a){return null==a};k.isNumber=u;k.isString=g;k.isSymbol=function(a){return"symbol"===typeof a};
k.isUndefined=D;k.isRegExp=M;k.isObject=R;k.isDate=x;k.isError=G;k.isFunction=A;k.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};k.isBuffer=c("./support/isBuffer");var X="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");k.log=function(){console.log("%s - %s",Y(),k.format.apply(k,arguments))};k.inherits=c("inherits");k._extend=function(a,b){if(!b||!R(b))return a;for(var c=Object.keys(b),
g=c.length;g--;)a[c[g]]=b[c[g]];return a}}).call(this,c("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":24,_process:20,inherits:19}],26:[function(c,r,k){function b(){}function q(a){if("function"!==typeof a)throw new TypeError("resolver must be a function");this.state=v;this.queue=[];this.outcome=void 0;a!==b&&e(this,a)}function a(a,b,c){this.promise=a;"function"===typeof b&&(this.onFulfilled=b,this.callFulfilled=
this.otherCallFulfilled);"function"===typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function m(a,b,c){f(function(){try{var g=b(c)}catch(D){return w.reject(a,D)}g===a?w.reject(a,new TypeError("Cannot resolve promise with itself")):w.resolve(a,g)})}function d(a){var b=a&&a.then;if(a&&"object"===typeof a&&"function"===typeof b)return function(){b.apply(a,arguments)}}function e(a,b){function c(b){d||(d=!0,w.reject(a,b))}function g(b){d||(d=!0,w.resolve(a,b))}var d=!1,e=z(function(){b(g,
c)});"error"===e.status&&c(e.value)}function z(a,b){var c={};try{c.value=a(b),c.status="success"}catch(g){c.status="error",c.value=g}return c}var f=c("immediate"),w={},t=["REJECTED"],n=["FULFILLED"],v=["PENDING"];r.exports=k=q;q.prototype["catch"]=function(a){return this.then(null,a)};q.prototype.then=function(c,d){if("function"!==typeof c&&this.state===n||"function"!==typeof d&&this.state===t)return this;var e=new this.constructor(b);this.state!==v?m(e,this.state===n?c:d,this.outcome):this.queue.push(new a(e,
c,d));return e};a.prototype.callFulfilled=function(a){w.resolve(this.promise,a)};a.prototype.otherCallFulfilled=function(a){m(this.promise,this.onFulfilled,a)};a.prototype.callRejected=function(a){w.reject(this.promise,a)};a.prototype.otherCallRejected=function(a){m(this.promise,this.onRejected,a)};w.resolve=function(a,b){var c=z(d,b);if("error"===c.status)return w.reject(a,c.value);if(c=c.value)e(a,c);else{a.state=n;a.outcome=b;c=-1;for(var g=a.queue.length;++c<g;)a.queue[c].callFulfilled(b)}return a};
w.reject=function(a,b){a.state=t;a.outcome=b;for(var c=-1,g=a.queue.length;++c<g;)a.queue[c].callRejected(b);return a};k.resolve=function(a){return a instanceof this?a:w.resolve(new this(b),a)};k.reject=function(a){var c=new this(b);return w.reject(c,a)};k.all=function(a){function c(a,b){d.resolve(a).then(function(a){f[b]=a;++n!==g||e||(e=!0,w.resolve(k,f))},function(a){e||(e=!0,w.reject(k,a))})}var d=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));
var g=a.length,e=!1;if(!g)return this.resolve([]);for(var f=Array(g),n=0,m=-1,k=new this(b);++m<g;)c(a[m],m);return k};k.race=function(a){function c(a){d.resolve(a).then(function(a){e||(e=!0,w.resolve(n,a))},function(a){e||(e=!0,w.reject(n,a))})}var d=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var g=a.length,e=!1;if(!g)return this.resolve([]);for(var f=-1,n=new this(b);++f<g;)c(a[f]);return n}},{immediate:27}],27:[function(c,
r,k){(function(b){function c(){f=!0;for(var a,b,c=w.length;c;){b=w;w=[];for(a=-1;++a<c;)b[a]();c=w.length}f=!1}var a=b.MutationObserver||b.WebKitMutationObserver;if(a){var m=0;a=new a(c);var d=b.document.createTextNode("");a.observe(d,{characterData:!0});var e=function(){d.data=m=++m%2}}else if(b.setImmediate||"undefined"===typeof b.MessageChannel)e="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(){var a=b.document.createElement("script");a.onreadystatechange=function(){c();
a.onreadystatechange=null;a.parentNode.removeChild(a);a=null};b.document.documentElement.appendChild(a)}:function(){setTimeout(c,0)};else{var k=new b.MessageChannel;k.port1.onmessage=c;e=function(){k.port2.postMessage(0)}}var f,w=[];r.exports=function(a){1!==w.push(a)||f||e()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],28:[function(c,r,k){var b=c("object-path");var q=function(a){var c=1;"-"===a[0]&&(c=-1,a=a.substr(1));
return function(d,e){var m;b.get(d,a)<b.get(e,a)&&(m=-1);b.get(d,a)>b.get(e,a)&&(m=1);b.get(d,a)===b.get(e,a)&&(m=0);return m*c}};r.exports=function(){var a=arguments;return function(b,c){for(var d=a.length,m=0,f=0;0===m&&f<d;)m=q(a[f])(b,c),f++;return m}}},{"object-path":29}],29:[function(c,r,k){(function(b,c){"object"===typeof r&&"object"===typeof r.exports?r.exports=c():b.objectPath=c()})(this,function(){function b(a){if(!a)return!0;if(!m(a)||0!==a.length)for(var b in a)if(r.call(a,b))return!1;
return!0}function c(a){return"number"===typeof a||"[object Number]"===f.call(a)}function a(a){return"string"===typeof a||"[object String]"===f.call(a)}function m(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===f.call(a)}function d(a){var b=parseInt(a);return b.toString()===a?b:a}function e(f,m,k,q){c(m)&&(m=[m]);if(b(m))return f;if(a(m))return e(f,m.split("."),k,q);var n=d(m[0]);if(1===m.length)return m=f[n],void 0!==m&&q||(f[n]=k),m;void 0===f[n]&&(c(n)?f[n]=[]:f[n]=
{});return e(f[n],m.slice(1),k,q)}function k(e,f){c(f)&&(f=[f]);if(!b(e)){if(b(f))return e;if(a(f))return k(e,f.split("."));var n=d(f[0]),q=e[n];if(1===f.length)void 0!==q&&(m(e)?e.splice(n,1):delete e[n]);else if(void 0!==e[n])return k(e[n],f.slice(1));return e}}var f=Object.prototype.toString,r=Object.prototype.hasOwnProperty,t={ensureExists:function(a,b,c){return e(a,b,c,!0)},set:function(a,b,c,d){return e(a,b,c,d)},insert:function(a,b,c,d){var e=t.get(a,b);d=~~d;m(e)||(e=[],t.set(a,b,e));e.splice(d,
0,c)},empty:function(d,e){if(b(e))return d;if(!b(d)){var n,k;if(!(n=t.get(d,e)))return d;if(a(n))return t.set(d,e,"");if("boolean"===typeof n||"[object Boolean]"===f.call(n))return t.set(d,e,!1);if(c(n))return t.set(d,e,0);if(m(n))n.length=0;else if("object"===typeof n&&"[object Object]"===f.call(n))for(k in n)r.call(n,k)&&delete n[k];else return t.set(d,e,null)}},push:function(a,b){var c=t.get(a,b);m(c)||(c=[],t.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,
b,c){for(var d,e=0,g=b.length;e<g;e++)if(void 0!==(d=t.get(a,b[e])))return d;return c},get:function(e,f,m){c(f)&&(f=[f]);if(b(f))return e;if(b(e))return m;if(a(f))return t.get(e,f.split("."),m);var n=d(f[0]);return 1===f.length?void 0===e[n]?m:e[n]:t.get(e[n],f.slice(1),m)},del:function(a,b){return k(a,b)}};return t})},{}],30:[function(c,r,k){k.VAST=c("./lib/VAST")},{"./lib/VAST":31}],31:[function(c,r,k){function b(){}function q(a){d(a,this,!0);this.raw=[];this.ads.forEach(function(a){e({system:{version:null},
errors:[]},a);a.creatives.forEach(function(a){e({id:null,sequence:null,adID:null},a);v[a.type](a)});n[a.type](a)});this.__private__={wrappers:[],inlines:[]}}var a=c("lie"),m=c("superagent"),d=c("./utils/copy"),e=c("./utils/defaults"),z=c("./utils/extend"),f=c("./utils/nodeify_promise"),w=Array.prototype.push,t=c("./xml_from_vast"),n={inline:function(a){e({description:null,survey:null},a)},wrapper:function(){}},v={linear:function(a){e({trackingEvents:[],parameters:null,videoClicks:null},a);(a.mediaFiles||
[]).forEach(function(a){e({id:null,bitrate:null,scalable:null,maintainAspectRatio:null,apiFramework:null},a)})},companions:function(a){a.companions.forEach(function(a){e({expandedWidth:null,expandedHeight:null,apiFramework:null,trackingEvents:[],clickThrough:null,altText:null,parameters:null},a)})},nonLinear:function(a){e({trackingEvents:[]},a);a.ads.forEach(function(a){e({id:null,expandedWidth:null,expandedHeight:null,scalable:null,maintainAspectRatio:null,minSuggestedDuration:null,apiFramework:null,
clickThrough:null,parameters:null},a)})}};Object.defineProperties(q.prototype,{wrappers:{get:function(){var a=this.__private__.wrappers;a.length=0;w.apply(a,this.filter("ads",function(a){return"wrapper"===a.type}));return a}},inlines:{get:function(){var a=this.__private__.inlines;a.length=0;w.apply(a,this.filter("ads",function(a){return"inline"===a.type}));return a}}});q.prototype.get=function(a){return((a||"").match(/[^\[\]\.]+/g)||[]).reduce(function(a,b){return(a||void 0)&&a[b]},this)};q.prototype.set=
function(a,b){function c(a,b){switch(a.input.charAt(b)){case ".":return Object;case "[":return Array;case "]":return c(a,b+1);default:return null}}var d=function(){for(var b=/[^\[\]\.]+/g,d=[],g;g=b.exec(a);)d.push({token:g[0],type:c(g,g.index+g[0].length)});return d}(),e=d.pop();d=d.reduce(function(a,b){return a[b.token]||(a[b.token]=new b.type)},this);if(!a)throw Error("prop must be specified.");return d[e.token]=b};q.prototype.map=function(a,b){a=this.get(a)||[];var c=a.length,d=[];if(!(a instanceof
Array))return d;for(var e=0;e<c;e++)d.push(b.call(this,a[e],e,a));return d};q.prototype.filter=function(a,b){a=this.get(a)||[];var c=a.length,d=[];if(!(a instanceof Array))return d;for(var e=0;e<c;e++)b.call(this,a[e],e,a)&&d.push(a[e]);return d};q.prototype.find=function(a,b){a=this.get(a)||[];var c=a.length;if(a instanceof Array)for(var d=0;d<c;d++)if(b.call(this,a[d],d,a))return a[d]};q.prototype.toPOJO=function(){var a=JSON.parse(JSON.stringify(this));delete a.__private__;return a};q.prototype.copy=
function(){return new this.constructor(this.toPOJO())};q.prototype.resolveWrappers=function(b,c){function d(a,b){function c(a){return function(b){return b.type===a}}var d=function(a){return{linear:a.filter(c("linear")),companions:a.filter(c("companions")),nonLinear:a.filter(c("nonLinear"))}}(a.creatives);e(a.impressions,b.impressions);e(a.errors,b.errors);e(a.extensions,b.extensions);b.creatives.forEach(function(a){e(d[a.type].shift()||{},a)});w.apply(b.creatives,"wrapper"!==b.type?[]:["linear","companions",
"nonLinear"].reduce(function(a,b){return a.concat(d[b])},[]));return b}var g=isNaN(b)?Infinity:b,n="function"===typeof b?b:c,k=this.constructor,q=this,t=this;return 0===g?a.reject(Error("Too many redirects were made.")):f(a.all(this.map("wrappers",function(b){return a.resolve(m.get(b.vastAdTagURI)).then(function(a){t.raw.push(a.text);return{wrapper:b,response:k.pojoFromXML(a.text).ads}})})).then(function(a){var b=a.map(function(a){return a.wrapper}),c=a.map(function(a){return a.response});a=new k(z(q.toPOJO(),
{ads:q.map("ads",function(a){var g=b.indexOf(a),e=b[g];return(g=c[g])?g.map(d.bind(null,e)):[a]}).reduce(function(a,b){return a.concat(b)})}));a.raw=q.raw;return a}).then(function(a){return 0<a.get("wrappers.length")?a.resolveWrappers(g-1,n):a}),function(a,b){b||(b=t);n(a,b)})};q.prototype.toXML=function(){var a=this.validate();if(!a.valid)throw Error("VAST is invalid: "+a.reasons.join(", "));return t(this)};q.prototype.validate=function(){function a(a){g.get(a)||e.push(a+" is required")}function c(a){0<
g.get(a+".length")||e.push(a+" must contain at least one value")}function d(b,d){d.exists.map(b).forEach(a);d.atLeastOne.map(b).forEach(c)}var g=this,e=[],f={inline:function(a){var c={linear:function(a){d(a,{exists:["duration"],atLeastOne:["mediaFiles"]})},companions:function(a){g.get(a("companions")).forEach(function(b,c){d(function(b){return a("companions["+c+"]."+b)},{exists:[],atLeastOne:["resources"]})})},nonLinear:function(a){g.get(a("ads")).forEach(function(b,c){d(function(b){return a("ads["+
c+"]."+b)},{exists:[],atLeastOne:["resources"]})})}};d(a,{exists:["title"],atLeastOne:["creatives"]});g.get(a("creatives")).forEach(function(g,e){function f(b){return a("creatives["+e+"]."+b)}d(f,{exists:["type"],atLeastOne:[]});(c[g.type]||b)(f)})},wrapper:function(a){d(a,{exists:["vastAdTagURI"],atLeastOne:[]})}};d(function(a){return a},{exists:[],atLeastOne:["ads"]});this.get("ads").forEach(function(a,c){function g(a){return"ads["+c+"]."+a}d(g,{exists:["type","system.name"],atLeastOne:["impressions"]});
(f[a.type]||b)(g)});return{valid:0===e.length,reasons:0===e.length?null:e}};q.pojoFromXML=c("./pojo_from_xml");q.fetch=function(b,c,d,g,e,n){var k="object"===typeof c?c||{}:{},u=0;n&&n.playerSettings&&(n.playerSettings.cbtic=n.playerSettings.btic||0,u=n.playerSettings.bti||0);var q=this;if("video"==g||"vastxml"==g||"pl"==g)return c="","video"==g?c='<VAST version="2.0"><Ad id="aniview"><InLine><AdSystem>aniview</AdSystem><AdTitle>aniview</AdTitle><Creatives><Creative><Linear><Duration></Duration><VideoClicks><ClickThrough id="aniview"><![CDATA['+
d.trim()+']]\x3e</ClickThrough></VideoClicks><MediaFiles><MediaFile height="360" width="480" bitrate="527" type="video/mp4" delivery="progressive"><![CDATA['+b+"]]\x3e</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>":"pl"==g?(c=window.AV_player.config.basejsurl+"sdk/"+n.platform+".js",c='<VAST version="2.0"><Ad id="aniview"><InLine><AdSystem>aniview</AdSystem><AdTitle>aniview</AdTitle><Creatives><Creative><Linear><Duration></Duration><AdParameters><![CDATA['+decodeURIComponent(b)+
']]\x3e</AdParameters><MediaFiles><MediaFile height="360" width="480" type="application/javascript" apiFramework="VPAID"><![CDATA['+c+"]]\x3e</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>"):c=b,b=new q(q.pojoFromXML(c)),b.raw.push(c),k.resolveWrappers?b.resolveWrappers(k.maxRedirects,e):b;if("pb"==g)return b=m.prebid(function(b){try{var c=new AV_PrebidBase(n.platform);if(c.av_async){var d=!1;c.av.getRequest(n.template,function(a){if(!d){var g=(a=c.av.getVastResponse("",
a))&&a.vast?a.vast:"<VAST/>";a&&0<a.cpm&&n.playerSettings&&(n.playerSettings.cbtic=u*a.cpm);b(g);d=!0}});setTimeout(function(){d||(b("<VAST/>"),d=!0)},3E3)}else{var g=c.av.getRequest(n.template);"object"==typeof g&&"function"===typeof g.push&&0<g.length&&(g=g[0]);if(!g||"string"!==typeof g.url||6>g.url.trim().length)throw"prebid error "+n.platform;var q=g.url;if("GET"==g.method){g.avParams&&(q=q+"?"+g.avParams);var D=m.get(q).set(k.headers||{})}else D=m.post(q,g.data).set("Content-Type","text/plain"),
g.requestContentType&&(D.unset("Content-Type"),D.set({"Content-Type":"text/plain"}));return f(a.resolve(D).then(function(a){a=c.av.getVastResponse(a.text,g);b(a&&a.vast?a.vast:"<VAST/>")}).catch(function(){b("<VAST/>")}),e)}}catch(X){b("<VAST/>")}},function(){}),f(a.resolve(b).then(function(a){var b=new q(q.pojoFromXML(a.text,g));b.raw.push(a.text);return k.resolveWrappers?b.resolveWrappers(k.maxRedirects,e):b}),e);b=m.get(b).set(k.headers||{});"s2s"==g&&b.timeout(1600);c.withCredentials||(b._withCredentials=
!1);return f(a.resolve(b).then(function(a){var b=new q(q.pojoFromXML(a.text,g));b.raw.push(a.text);return k.resolveWrappers?b.resolveWrappers(k.maxRedirects,e):b}),e)};r.exports=q},{"./pojo_from_xml":32,"./utils/copy":34,"./utils/defaults":35,"./utils/extend":36,"./utils/nodeify_promise":37,"./xml_from_vast":44,lie:26,superagent:45}],32:[function(c,r,k){function b(a){return a[0]||{attributes:{}}}function q(a){return a.find("StaticResource,IFrameResource,HTMLResource").map(function(a){return{type:a.tag.replace(/Resource$/,
"").toLowerCase(),creativeType:a.attributes.creativeType,data:a.value}})}var a=c("./utils/parse_xml"),m=c("./utils/timestamp_to_seconds"),d=c("./utils/string_to_boolean"),e=c("./utils/extend"),z=c("./utils/trim_object"),f=c("./utils/numberify"),w={linear:function(a){var c=b(a.find("Duration")),e=a.find("Tracking"),n=b(a.find("AdParameters")),k=a.find("VideoClicks")[0];a=a.find("MediaFile");return{type:"linear",duration:m(c.value)||void 0,trackingEvents:e.map(function(a){return{event:a.attributes.event,
uri:a.value}}),parameters:n.value,videoClicks:k&&function(){var a=b(k.find("ClickThrough")),c=k.find("ClickTracking"),d=k.find("CustomClick");return{clickThrough:a.value,clickTrackings:c.map(function(a){return a.value}),customClicks:d.map(function(a){return{id:a.attributes.id,uri:a.value}})}}(),mediaFiles:a.map(function(a){var b=a.attributes;return{id:b.id,delivery:b.delivery,type:b.type,uri:a.value,bitrate:f(b.bitrate),width:f(b.width),height:f(b.height),scalable:d(b.scalable),maintainAspectRatio:d(b.maintainAspectRatio),
apiFramework:b.apiFramework}})}},companions:function(a){return{type:"companions",companions:a.find("Companion").map(function(a){var c=a.find("Tracking"),d=b(a.find("CompanionClickThrough")),e=b(a.find("AltText")),g=b(a.find("AdParameters"));return{id:a.attributes.id,width:f(a.attributes.width),height:f(a.attributes.height),expandedWidth:f(a.attributes.expandedWidth),expandedHeight:f(a.attributes.expandedHeight),apiFramework:a.attributes.apiFramework,resources:q(a),trackingEvents:c.map(function(a){return{event:a.attributes.event,
uri:a.value}}),clickThrough:d.value,altText:e.value,parameters:g.value}})}},nonLinear:function(a){var c=a.find("NonLinear");a=a.find("Tracking");return{type:"nonLinear",ads:c.map(function(a){var c=b(a.find("NonLinearClickThrough")),e=b(a.find("AdParameters"));return{id:a.attributes.id,width:f(a.attributes.width),height:f(a.attributes.height),expandedWidth:f(a.attributes.expandedWidth),expandedHeight:f(a.attributes.expandedHeight),scalable:d(a.attributes.scalable),maintainAspectRatio:d(a.attributes.maintainAspectRatio),
minSuggestedDuration:m(a.attributes.minSuggestedDuration)||void 0,apiFramework:a.attributes.apiFramework,resources:q(a),clickThrough:c.value,parameters:e.value}}),trackingEvents:a.map(function(a){return{event:a.attributes.event,uri:a.value}})}}},t={inline:function(a){var c=b(a.find("AdTitle")),d=b(a.find("Description"));a=b(a.find("Survey"));return{type:"inline",title:c.value,description:d.value,survey:a.value}},wrapper:function(a){return{type:"wrapper",vastAdTagURI:b(a.find("VASTAdTagURI")).value}}};
r.exports=function(c,d){c=a(c,d);return z({version:b(c("VAST")).attributes.version,ads:c("Ad").map(function(a){var c=b(a.find("Wrapper,InLine")).tag.toLowerCase(),d=b(a.find("AdSystem")),g=a.find("Error"),n=a.find("Impression"),m=a.find("Creative"),k=a.find("Extensions");return e({id:a.attributes.id,system:{name:d.value,version:d.attributes.version},errors:g.map(function(a){return a.value}),impressions:n.map(function(a){return{uri:a.value,id:a.attributes.id}}),creatives:m.map(function(a){var c=function(){switch(b(a.find("Linear,CompanionAds,NonLinearAds")).tag){case "Linear":return"linear";
case "CompanionAds":return"companions";case "NonLinearAds":return"nonLinear";default:return null}}();if(null!=c)return e({id:a.attributes.id,sequence:f(a.attributes.sequence),adID:a.attributes.AdID},w[c](a))}),extensions:k.map(function(a){try{return{extension:a.children().map(function(a){if("aniview"==a.attributes.type){var b={type:a.attributes.type};if("CPM"!=a.children()[0].tag)try{b.tag=JSON.parse(a.children()[0].value)}catch(N){}else b.cpm=a.children()[0].value;return b}})}}catch(G){}return null})},
t[c](a))})},!0)}},{"./utils/extend":36,"./utils/numberify":38,"./utils/parse_xml":39,"./utils/string_to_boolean":41,"./utils/timestamp_to_seconds":42,"./utils/trim_object":43}],33:[function(c,r,k){function b(a){return null!==a&&void 0!==a}function q(a){return void 0!==a?String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function a(a){for(var b="";a--;)b+=" ";return b}function m(a){return(void 0!==a?function(a){for(var b=[],c=
/]]\x3e/g,d=0,e,f;e=c.exec(a);)f=e.index+2,b.push(e.input.substring(d,f)),d=f;b.push(a.substring(d,a.length));return b}(String(a)):[""]).reduce(function(a,b){return a+"<![CDATA["+b+"]]\x3e"},"")}function d(a){return a.cdata?m(a.value):q(a.value)}function e(c,f,m){var k=c.tag,n=c.attributes||{},v=Object.keys(n),r=c.value,B=0<(c.children||[]).length;v=v.every(function(a){return b(n[a])})&&0<v.length;r=b(r)||B||v;v=a(f);var u="<"+k+Object.keys(n).reduce(function(a,c){return m&&!b(n[c])?a:a+" "+c+'="'+
q(n[c])+'"'},"")+">";k="</"+k+">";return!m||r||c.required?B?[v+u].concat(c.children.reduce(function(a,b){return a.concat(e(b,f+4,m))},[]),[v+k]):[v+u+d(c)+k]:[]}r.exports=function(a,b){return['<?xml version="1.0" encoding="UTF-8"?>'].concat(e(a,0,b)).join("\n")}},{}],34:[function(c,r,k){function b(b,c,m){return Object.keys(b).reduce(function(c,d){c[d]=m?a(b[d],null,!0):b[d];return c},c||{})}function q(b,c,k){c=c||[];m.apply(c,k?b.map(function(b){return a(b,null,!0)}):b);return c}function a(a,c,m){var d=
("object"===typeof c||null)&&c;c="boolean"===typeof c?c:m;return Object(a)!==a?a:a instanceof Array?q(a,d,c):b(a,d,c)}var m=Array.prototype.push;r.exports=a},{}],35:[function(c,r,k){function b(a){return Object(a)===a}function q(a){return a instanceof Array}var a=Array.prototype.push;r.exports=function d(c,k){return[c,k].every(q)?(a.apply(k,c.filter(function(a){return 0>k.indexOf(a)})),k):Object.keys(c).reduce(function(a,e){[c[e],a[e]].every(b)&&d(c[e],a[e]);e in a||(a[e]=c[e]);return a},k)}},{}],
36:[function(c,r,k){r.exports=function(){return Array.prototype.slice.call(arguments).reduce(function(b,c){return Object.keys(c||{}).reduce(function(a,b){a[b]=c[b];return a},b)},{})}},{}],37:[function(c,r,k){r.exports=function(b,c){if("function"!==typeof c)return b;b.then(function(a){c(null,a)},function(a){c(a)});return b}},{}],38:[function(c,r,k){r.exports=function(b){if(/string|number|boolean/.test(typeof b))return isNaN(b)?void 0:Number(b)}},{}],39:[function(c,r,k){function b(c){return{tag:c.tagName,
value:0<c.childElementCount?null:c.textContent,attributes:m.call(c.attributes,function(a,b){a[b.name]=b.value;return a},{}),find:function(a){return q.call(c.querySelectorAll(a),b)},children:function(){return a.call(c.childNodes,function(a){return a instanceof Element}).map(b)}}}var q=Array.prototype.map,a=Array.prototype.filter,m=Array.prototype.reduce,d=new DOMParser;r.exports=function(a,c){var e=d.parseFromString(a,"application/xml");try{if(e&&e.children){var m=e.getElementsByTagName("parsererror");
m&&0<m.length&&(a=a.replace(/[^A-Za-z 0-9 \.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,""),e=d.parseFromString(a,"application/xml"),"s2s"==c&&(m=e.getElementsByTagName("parsererror"))&&0<m.length&&(1<a.indexOf("<ClickThrough>")&&-1==a.indexOf("]]\x3e</ClickThrough>")&&(a=a.replace("</ClickThrough>","]]\x3e</ClickThrough>"),e=d.parseFromString(a,"application/xml")),1<a.indexOf("<AdParameters><?xml")&&(a=a.replace("<AdParameters><?xml","<AdParameters><![CDATA[<?xml"),a=a.replace("fig></AdParameters>",
"fig>]]\x3e </AdParameters>"),e=d.parseFromString(a,"application/xml"))))}}catch(t){}return function(a){return q.call(e.querySelectorAll(a),b)}}},{}],40:[function(c,r,k){function b(b){return(9<b?"":"0")+b.toString()}r.exports=function(c){return Number(c)!==c?null:[Math.floor(c/60/60),Math.floor(c/60%60),Math.floor(c%60%60)].map(b).join(":")}},{}],41:[function(c,r,k){r.exports=function(b){switch((b||"").toLowerCase()){case "true":return!0;case "false":return!1}}},{}],42:[function(c,r,k){r.exports=
function(b){return(b=(b||"").match(/^(\d\d):(\d\d):(\d\d)$/))&&b.slice(1,4).map(parseFloat).reduce(function(b,a,c){return b+a*Math.pow(60,Math.abs(c-2))},0)}},{}],43:[function(c,r,k){r.exports=function q(a,c){return Object(a)!==a?a:Object.keys(a).reduce(function(d,e){c&&a[e]instanceof Array?d[e]=a[e].filter(function(a){return void 0!==a}).map(function(a){return q(a,!0)}):c&&a[e]instanceof Object?d[e]=q(a[e],!0):void 0!==a[e]&&(d[e]=a[e]);return d},{})}},{}],44:[function(c,r,k){function b(a){return{tag:"TrackingEvents",
children:a.map(function(a){return{tag:"Tracking",attributes:{event:a.event},value:a.uri,cdata:!0}})}}function q(a){return a.map(function(a){a:{switch(a.type){case "static":var b="StaticResource";break a;case "iframe":b="IFrameResource";break a;case "html":b="HTMLResource";break a}b=void 0}return{tag:b,attributes:{creativeType:a.creativeType},value:a.data,cdata:!0}})}function a(a){return{tag:"AdParameters",value:a.parameters}}var m=c("./utils/seconds_to_timestamp"),d=c("./utils/compile_xml"),e={linear:function(c){return{tag:"Linear",
children:[{tag:"Duration",value:m(c.duration)},b(c.trackingEvents),a(c)].concat(c.videoClicks?[{tag:"VideoClicks",children:[{tag:"ClickThrough",value:c.videoClicks.clickThrough,cdata:!0}].concat(c.videoClicks.clickTrackings.map(function(a){return{tag:"ClickTracking",value:a,cdata:!0}}),c.videoClicks.customClicks.map(function(a){return{tag:"CustomClick",attributes:{id:a.id},value:a.uri,cdata:!0}}))}]:[],[{tag:"MediaFiles",children:c.mediaFiles.map(function(a){return{tag:"MediaFile",attributes:{id:a.id,
width:a.width,height:a.height,bitrate:a.bitrate,type:a.type,delivery:a.delivery,scalable:a.scalable,maintainAspectRatio:a.maintainAspectRatio,apiFramework:a.apiFramework},value:a.uri,cdata:!0}})}])}},companions:function(c){return{tag:"CompanionAds",children:c.companions.map(function(c){return{tag:"Companion",attributes:{id:c.id,width:c.width,height:c.height,expandedWidth:c.expandedWidth,expandedHeight:c.expandedHeight,apiFramework:c.apiFramework},children:q(c.resources).concat([b(c.trackingEvents),
{tag:"CompanionClickThrough",value:c.clickThrough,cdata:!0},{tag:"AltText",value:c.altText},a(c)])}})}},nonLinear:function(c){return{tag:"NonLinearAds",children:c.ads.map(function(b){return{tag:"NonLinear",attributes:{id:b.id,width:b.width,height:b.height,expandedWidth:b.expandedWidth,expandedHeight:b.expandedHeight,scalable:b.scalable,maintainAspectRatio:b.maintainAspectRatio,minSuggestedDuration:m(b.minSuggestedDuration),apiFramework:b.apiFramework},children:q(b.resources).concat([{tag:"NonLinearClickThrough",
value:b.clickThrough,cdata:!0},a(b)])}}).concat([b(c.trackingEvents)])}}};r.exports=function(a){return d({tag:"VAST",attributes:{version:a.get("version")},children:a.map("ads",function(a){var b={id:a.id};a:{switch(a.type){case "inline":var c="InLine";break a;case "wrapper":c="Wrapper";break a}c=void 0}return{tag:"Ad",attributes:b,children:[{tag:c,children:[{tag:"AdSystem",attributes:{version:a.system.version},value:a.system.name},{tag:"AdTitle",value:a.title},{tag:"Description",value:a.description},
{tag:"Survey",value:a.survey,cdata:!0},{tag:"VASTAdTagURI",value:a.vastAdTagURI,cdata:!0}].concat(a.errors.map(function(a){return{tag:"Error",value:a,cdata:!0}}),a.impressions.map(function(a){return{tag:"Impression",value:a.uri,cdata:!0,attributes:{id:a.id}}}),[{tag:"Creatives",children:a.creatives.map(function(a){return{tag:"Creative",attributes:{id:a.id,sequence:a.sequence,AdID:a.adID},children:[e[a.type](a)]}}),required:!0}])}]}})},!0)}},{"./utils/compile_xml":33,"./utils/seconds_to_timestamp":40}],
45:[function(c,r,k){function b(){}function q(a){switch({}.toString.call(a)){case "[object File]":case "[object Blob]":case "[object FormData]":return!0;default:return!1}}function a(){var a=this;this.readyState=this.status=0;this.responseText=this.utl=this.method="";this.aborted=!1;this.open=function(b,c){a.url=c};this.send=function(){if(!a.aborted){var b=window.AV_player.config.getvast(a.url);setTimeout(function(){a.responseText=b;a.readyState=4;a.status=200;a.onload()},10)}};this.abort=function(){a.aborted=
!0}}function m(a){if(a!==Object(a))return a;var b=[],c;for(c in a)null!=a[c]&&d(b,c,a[c]);return b.join("&")}function d(a,b,c){if(Array.isArray(c))return c.forEach(function(c){d(a,b,c)});a.push(encodeURIComponent(b)+"="+encodeURIComponent(c))}function e(a){var b={};a=a.split("&");for(var c,d=0,g=a.length;d<g;++d)c=a[d],c=c.split("="),b[decodeURIComponent(c[0])]=decodeURIComponent(c[1]);return b}function z(a){return C(a.split(/ *; */),function(a,b){var c=b.split(/ *= */);b=c.shift();c=c.shift();b&&
c&&(a[b]=c);return a},{})}function f(a,b){this.req=a;this.xhr=this.req.xhr;this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"===typeof this.xhr.responseType?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;if("function"==typeof this.xhr.getAllResponseHeaders){a=this.xhr.getAllResponseHeaders().split(/\r?\n/);b={};a.pop();for(var c=0,d=a.length;c<d;++c){var g=a[c];var e=g.indexOf(":");var f=g.slice(0,e).toLowerCase();e=u(g.slice(e+
1));b[f]=e}this.header=this.headers=b}else this.statusText="OK",this.header={};this.setStatusProperties("undefined"===typeof this.xhr.status?200:this.xhr.status);this.header["content-type"]="function"==typeof this.xhr.getResponseHeader?this.xhr.getResponseHeader("content-type"):this.xhr.contentType;this.setHeaderProperties(this.header);this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function w(a,b){var c=this;v.call(this);this._query=this._query||[];this.method=
a;this.url=b;this._withCredentials=!0;this.header={};this._header={};this.on("end",function(){var a=null,b=null;try{b=new f(c)}catch(A){return a=Error("Parser is unable to parse the response"),a.parse=!0,a.original=A,a.rawResponse=c.xhr&&c.xhr.responseText?c.xhr.responseText:null,c.callback(a)}c.emit("response",b);if(a||200<=b.status&&300>b.status)return c.callback(a,b);var d=Error(b.statusText||"Unsuccessful HTTP response");d.original=a;d.response=b;d.status=b.status;c.callback(d,b)})}function t(a,
b){return"function"==typeof a?new w(a,b):"function"==typeof b?(new w("GET",a)).end(b):1==arguments.length?new w("GET",a):new w(a,b)}function n(a,b){a=t("DELETE",a);b&&a.end(b);return a}var v=c("emitter"),C=c("reduce");var B="undefined"!==typeof window?window:"undefined"!==typeof self?self:this;t.getXHR=function(){if("function"===typeof window.AV_player.config.getvast)return new a;var b=new XMLHttpRequest;return"withCredentials"in b?b:"undefined"!=typeof XDomainRequest?new XDomainRequest:null};var u=
"".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};t.serializeObject=m;t.parseString=e;t.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};t.serialize={"application/x-www-form-urlencoded":m,"application/json":JSON.stringify};t.parse={"application/x-www-form-urlencoded":e,"application/json":JSON.parse};f.prototype.get=
function(a){return this.header[a.toLowerCase()]};f.prototype.setHeaderProperties=function(a){a=this.header["content-type"]||"";this.type=a.split(/ *; */).shift();a=z(a);for(var b in a)this[b]=a[b]};f.prototype.parseBody=function(a){var b=t.parse[this.type];return b&&a&&(a.length||a instanceof Object)?b(a):null};f.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=a/100|0;this.status=this.statusCode=a;this.statusType=b;this.info=1==b;this.ok=2==b;this.clientError=4==b;this.serverError=
5==b;this.error=4==b||5==b?this.toError():!1;this.accepted=202==a;this.noContent=204==a;this.badRequest=400==a;this.unauthorized=401==a;this.notAcceptable=406==a;this.notFound=404==a;this.forbidden=403==a};f.prototype.toError=function(){var a=this.req,b=a.method;a=a.url;var c=Error("cannot "+b+" "+a+" ("+this.status+")");c.status=this.status;c.method=b;c.url=a;return c};t.Response=f;v(w.prototype);w.prototype.use=function(a){a(this);return this};w.prototype.timeout=function(a){this._timeout=a;return this};
w.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};w.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("end"),this};w.prototype.set=function(a,b){if(a===Object(a)){for(var c in a)this.set(c,a[c]);return this}this._header[a.toLowerCase()]=b;this.header[a]=b;return this};w.prototype.unset=function(a){delete this._header[a.toLowerCase()];delete this.header[a];return this};w.prototype.getHeader=function(a){return this._header[a.toLowerCase()]};
w.prototype.type=function(a){this.set("Content-Type",t.types[a]||a);return this};w.prototype.parse=function(a){this._parser=a;return this};w.prototype.accept=function(a){this.set("Accept",t.types[a]||a);return this};w.prototype.auth=function(a,b){a=btoa(a+":"+b);this.set("Authorization","Basic "+a);return this};w.prototype.query=function(a){"string"!=typeof a&&(a=m(a));a&&this._query.push(a);return this};w.prototype.field=function(a,b){this._formData||(this._formData=new B.FormData);this._formData.append(a,
b);return this};w.prototype.attach=function(a,b,c){this._formData||(this._formData=new B.FormData);this._formData.append(a,b,c||b.name);return this};w.prototype.send=function(a){var b=a===Object(a),c=this.getHeader("Content-Type"),d;if(d=b)d=this._data,d=d===Object(d);if(d)for(var g in a)this._data[g]=a[g];else"string"==typeof a?(c||this.type("form"),c=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==c?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;if(!b||
q(a))return this;c||this.type("json");return this};w.prototype.callback=function(a,b){var c=this._callback;this.clearTimeout();c(a,b)};w.prototype.crossDomainError=function(){var a=Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");a.crossDomain=!0;a.status=this.status;a.method=this.method;a.url=this.url;this.callback(a)};w.prototype.timeoutError=function(){var a=this._timeout,b=Error("timeout of "+
a+"ms exceeded");b.timeout=a;this.callback(b)};w.prototype.withCredentials=function(){this._withCredentials=!0;return this};w.prototype.end=function(a){var c=this,d=this.xhr=t.getXHR(),g=this._query.join("&"),e=this._timeout||7E3,f=this._formData||this._data;if("function"===typeof this.method)c._callback=a||b,this.method(function(a){c.xhr={responseText:a,status:200,readyState:4};c.emit("end")});else{if(this.url){if(this.url&&-1<this.url.indexOf("ssp.lkqd.net")){if(window.lastLCall&&300>Date.now()-
window.lastLCall){setTimeout(function(){c.end(a)},300);return}window.lastLCall=Date.now()}this._callback=a||b;"undefined"!==typeof d.onreadystatechange?d.onreadystatechange=function(){if(4==d.readyState){try{var a=d.status}catch(H){a=0}if(0==a){if(c.timedout)return c.timeoutError();if(c.aborted)return;if(c._withCredentials){c._withCredentials=!1;setTimeout(function(){c.end.call(c,c._callback)},10);return}return c.crossDomainError()}c.emit("end")}}:(d.onprogress=function(){},d.ontimeout=function(){},
d.onload=function(){c.emit("end")});var m=function(a){0<a.total&&(a.percent=a.loaded/a.total*100);a.direction="download";c.emit("progress",a)};this.hasListeners("progress")&&(d.onprogress=m);try{d.upload&&this.hasListeners("progress")&&(d.upload.onprogress=m)}catch(Y){}e&&!this._timer&&(this._timer=setTimeout(function(){c.timedout=!0;c.abort()},e));g&&(g=t.serializeObject(g),this.url+=~this.url.indexOf("?")?"&"+g:"?"+g);d.open(this.method,this.url,!0);this._withCredentials&&(d.withCredentials=!0);
"GET"==this.method||"HEAD"==this.method||"string"==typeof f||q(f)||(g=this.getHeader("Content-Type"),e=this._parser||t.serialize[g?g.split(";")[0]:""],!e&&/[\/+]json\b/.test(g)&&(e=t.serialize["application/json"]),e&&(f=e(f)));for(var n in this.header)null!=this.header[n]&&d.setRequestHeader(n,this.header[n]);this.emit("request",this);d.send("undefined"!==typeof f?f:null);return this}c.abort()}};w.prototype.then=function(a,b){return this.end(function(c,d){c?b(c):a(d)})};t.Request=w;t.get=function(a,
b,c){a=t("GET",a);"function"==typeof b&&(c=b,b=null);b&&a.query(b);c&&a.end(c);return a};t.prebid=function(a,b){return t(a,b)};t.head=function(a,b,c){a=t("HEAD",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};t.del=n;t["delete"]=n;t.patch=function(a,b,c){a=t("PATCH",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};t.post=function(a,b,c){a=t("POST",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};t.put=function(a,b,c){a=t("PUT",
a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};r.exports=t},{emitter:46,reduce:47}],46:[function(c,r,k){function b(c){if(c){for(var a in b.prototype)c[a]=b.prototype[a];return c}}r.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(a);return this};b.prototype.once=function(b,a){function c(){this.off(b,c);a.apply(this,arguments)}c.fn=a;this.on(b,c);return this};b.prototype.off=
b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(b,a){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+b];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+b],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===a||d.fn===a){c.splice(e,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var a=[].slice.call(arguments,1),c=this._callbacks["$"+
b];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,a)}return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks["$"+b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],47:[function(c,r,k){r.exports=function(b,c,a){for(var m=0,d=b.length,e=3==arguments.length?a:b[m++];m<d;)e=c.call(null,e,b[m],++m,b);return e}},{}],48:[function(c,r,k){var b="noError mediaPlayError mediaTimeout vpaidGeneralError vpaidLoadError vpaidLoadTimeout vpaidInitAdError vpaidInitAdTimeout vpaidStartAdError vpaidStartAdTimeout vpaidPlayError mediaJsonError".split(" ");
b.forEach(function(c){b[c]=c});Object.freeze(b);r.exports=b},{}]},{},[1])(1)});
(function(l){l.AV_PrebidBase=function(c){var r=this.av={},k=this;c=AV_biddersFactory.specs[c];this.avGetFloor=function(){};if(c)for(var b in c)c.hasOwnProperty(b)&&(this[b]=c[b]);this.version="1.13.0";this.av.prepBid=function(b){b.uuid=r.getUuid();var a=b.bids;a.forEach(function(a){a.sizes=b.sizes;a.mediaTypes=b.mediaTypes;a.bidId||(a.bidId=r.getUuid());a.transactionId||(a.transactionId=r.getUuid())});return a};this.av.getRequest=function(b,a){"string"===typeof b&&(b=decodeURIComponent(b),b=JSON.parse(b));
var c={bidderCode:b.bids[0].bidder,auctionId:r.getUuid(),bidderRequestId:r.getUuid(),bids:b.bids,refererInfo:{referer:l.AV_biddersFactory.utils.getTopWindowReferrer()}},d=Utils.getConsent();d&&d.gdprApplies&&d.consentData&&(c.gdprConsent={gdprApplies:d.gdprApplies,consentString:d.consentData,vendorData:{hasGlobalScope:d.hasGlobalScope}});this.aniviewFloor=k.avGetFloor(b);b=k.buildRequests(r.prepBid(b),c,function(b){k.av_async&&a(b)});if(!k.av_async)return b&&"function"===typeof b.push&&b[0]&&(b=b[0]),
b&&b.data&&("object"===typeof b.data&&"POST"===b.method&&(b.data=JSON.stringify(b.data)),"string"===typeof b.data&&(b.data=b.data.replace("$prebid.version$",k.version)),"GET"===b.method&&"object"===typeof b.data&&(b.avParams=l.AV_biddersFactory.utils.parseQueryStringParameters(b.data)||"")),b};this.av.getUuid=function(){return Date.now().toString()};this.av.getVastResponse=function(b,a){try{try{var c=JSON.parse(b)}catch(f){c=b}var d=k.interpretResponse({body:c,headers:{get:function(){}}},a);d&&!d.push&&
(d.vastXml||d.vastUrl)&&(d=[d]);if(d&&d[0]){if(!d[0].vastUrl&&d[0].vastXml){var e=new Blob([d[0].vastXml],{type:"application/xml"});d[0].vastUrl=l.URL.createObjectURL(e)}if(d[0].vastUrl){"openx"==k.code&&(d[0].vastUrl=d[0].vastUrl.replace("u.openx.net","delivery-us-west-1.openx.net"));b="";var q=d[0].cpm||"";b=this.aniviewFloor&&d[0].cpm&&d[0].cpm<this.aniviewFloor?'<?xml version="1.0" encoding="UTF-8"?><VAST></VAST>':'<?xml version="1.0" encoding="UTF-8"?><VAST version="2.0"><Ad><Wrapper><AdSystem></AdSystem><VASTAdTagURI><![CDATA['+
d[0].vastUrl+']]\x3e</VASTAdTagURI><Extensions><Extension type="aniview"><CPM>'+q+"</CPM></Extension></Extensions></Wrapper></Ad></VAST>";return{vast:b,cpm:d[0].cpm}}}}catch(f){}return{}}};l.AV_biddersFactory={specs:{},register:function(c,l){this.specs[{openx:"1",appnexus:"2",rubicon:"3",pubmatic:"4",freewheel:"5",tremor:"8",spotx:"9",spotx2:"10",beachfront:"11"}[c]]=l},VIDEO:"video",NATIVE:"native",BANNER:"banner",STATUS:{GOOD:1,NO_BID:2},utils:{scripts:{},loadScript:function(c,l){this.scripts[c]&&
this.scripts[c].loaded&&l();if(this.scripts[c])this.scripts[c].callbacks.push(l);else{this.scripts[c]={};this.scripts[c].callbacks=[l];l=document.createElement("script");l.src=c;var k=this;l.onload=function(){k.scripts[c].loaded=!0;k.scripts[c].callbacks.forEach(function(b){b()});k.scripts[c].callbacks=[]};var b=document.getElementsByTagName("head");(b=b.length?b:document.getElementsByTagName("body"))&&0<b.length&&b[0]&&b[0].appendChild(l)}},isArray:function(c){return"object"===typeof c&&c.push},
isStr:function(c){return"string"===typeof c},isBoolean:function(c){return"boolean"===typeof c},isNumber:function(c){return"number"===typeof c},isInteger:function(c){return Number.isInteger?Number.isInteger(c):"number"===typeof c&&isFinite(c)&&Math.floor(c)===c},isEmpty:function(c){if(!c)return!0;if(this.isArray(c)||this.isStr(c))return!(0<c.length);for(var l in c)if(hasOwnProperty.call(c,l))return!1;return!0},isFn:function(c){return"function"===typeof c},deepAccess:function(c,l){if(c){l=String(l).split(".");
for(var k=0;k<l.length;k++)if(void 0===(c=c[l[k]]))return;return c}},logError:function(){},inIframe:function(){return l===top},getTopWindowUrl:function(){return Utils.getTrueDomain()},getTopWindowReferrer:function(){try{return l.top.document.referrer.length?l.top.document.referrer:document.referrer}catch(c){return document.referrer}},_map:function(c,l){if(this.isEmpty(c))return[];if(this.isFn(c.map))return c.map(l);var k=[];this._each(c,function(b,q){k.push(l(b,q,c))});return k},_each:function(c,
l){if(!this.isEmpty(c)){if(this.isFn(c.forEach))return c.forEach(l,this);var k=0,b=c.length;if(0<b)for(;k<b;k++)l(c[k],k,c);else for(k in c)hasOwnProperty.call(c,k)&&l.call(this,c[k],k)}},parseQueryStringParameters:function(c){var l="",k;for(k in c)c.hasOwnProperty(k)&&(l+=k+"="+encodeURIComponent(c[k])+"&");return l},getTopWindowLocation:function(){return Utils.getTrueDomain()},deepClone:function(c){return c},convertTypes:function(c,l){Object.keys(c).forEach(function(k){l[k]&&(exports.isFn(c[k])?
l[k]=c[k](l[k]):l[k]=tryConvertType(c[k],l[k]),isNaN(l[k])&&delete l.key)});return l},count:0,getIncrementalInteger:function(){this.count++;return this.count},getUniqueIdentifierStr:function(){return this.getIncrementalInteger()+Math.random().toString(16).substr(2)},getValue:function(c,l){return c[l]},parseSizesInput:function(c){var l="";"object"===typeof c&&1===c.length&&"object"===typeof c[0]&&(l='["'+c[0][0]+"x"+c[0][1]+'"]');return l},parseGPTSingleSizeArray:function(c){if(this.isArray(c)&&2===
c.length&&!isNaN(c[0])&&!isNaN(c[1]))return c[0]+"x"+c[1]},getBidIdParameter:function(c,l){return l&&l[c]?l[c]:""},getDNT:function(){return"1"===navigator.doNotTrack||"1"===l.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},generateUUID:function(c){return c?(c^l.AV_biddersFactory.utils._getRandomData()>>c/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l.AV_biddersFactory.utils.generateUUID)},_getRandomData:function(){return l&&l.crypto&&l.crypto.getRandomValues?
crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random()}},config:{getConfig:function(){return null}},includes:function(c,l){if(c&&0<c.length&&c.push)return c.includes(l)},find:function(c,l){return c.find(l)},parseQS:function(c){return c?c.replace(/^\?/,"").split("&").reduce(function(c,k){var b=$jscomp.makeIterator(k.split("="));k=b.next().value;b=b.next().value;/\[\]$/.test(k)?(k=k.replace("[]",""),c[k]=c[k]||[],c[k].push(b)):c[k]=b||"";return c},{}):{}},parse:function(c,r){var k=document.createElement("a");
k.href=r&&"noDecodeWholeURL"in r&&r.noDecodeWholeURL?c:decodeURIComponent(c);c=r&&"decodeSearchAsString"in r&&r.decodeSearchAsString;return{href:k.href,protocol:(k.protocol||"").replace(/:$/,""),hostname:k.hostname,port:+k.port,pathname:k.pathname.replace(/^(?!\/)/,"/"),search:c?k.search:l.AV_biddersFactory.parseQS(k.search||""),hash:(k.hash||"").replace(/^#/,""),host:k.host||l.location.host}},Renderer:{install:function(){return{setRender:function(){},setEventHandlers:function(){}}}},userSync:{registerSync:function(){}},
adaptermanager:{registerBidAdapter:function(c,r,k){l.AV_biddersFactory.register(r,c)}},Adapter:function(){return{}},bidmanager:{registerDefaultBidderSetting:function(){},addBidResponse:function(c,l){}},bidfactory:{createBid:function(){}}}})(window);
(function(l){function c(a,b,c){c=void 0===c?{}:c;b=n.install({id:b.renderer_id,url:b.renderer_url,config:c,loaded:!1});try{b.setRender(e)}catch(M){f.logWarn("Prebid Error calling setRender on renderer",M)}b.setEventHandlers({impression:function(){return f.logMessage("AppNexus outstream video impression event")},loaded:function(){return f.logMessage("AppNexus outstream video loaded event")},ended:function(){f.logMessage("AppNexus outstream renderer video event");document.querySelector("#"+a).style.display=
"none"}});return b}function r(a){var b=[];f._each(a,function(a,c){if(f.isArray(a)){var d=[];f._each(a,function(a){(a=f.getValueString("keywords."+c,a))&&d.push(a)});a=d}else if(a=f.getValueString("keywords."+c,a),f.isStr(a))a=[a];else return;b.push({key:c,value:a})});return b}function k(a){var c={};c.sizes=b(a.sizes);c.primary_size=c.sizes[0];c.ad_types=[];c.uuid=a.bidId;a.params.placementId?c.id=parseInt(a.params.placementId,10):c.code=a.params.invCode;c.allow_smaller_sizes=a.params.allowSmallerSizes||
!1;c.use_pmt_rule=a.params.usePaymentRule||!1;c.prebid=!0;c.disable_psa=!0;a.params.reserve&&(c.reserve=a.params.reserve);a.params.position&&(c.position={above:1,below:2}[a.params.position]||0);a.params.trafficSourceCode&&(c.traffic_source_code=a.params.trafficSourceCode);a.params.privateSizes&&(c.private_sizes=b(a.params.privateSizes));a.params.supplyType&&(c.supply_type=a.params.supplyType);a.params.pubClick&&(c.pubclick=a.params.pubClick);a.params.extInvCode&&(c.ext_inv_code=a.params.extInvCode);
a.params.externalImpId&&(c.external_imp_id=a.params.externalImpId);f.isEmpty(a.params.keywords)||(c.keywords=r(a.params.keywords));if("native"===a.mediaType||f.deepAccess(a,"mediaTypes.native"))if(c.ad_types.push("native"),a.nativeParams){var e=d(a.nativeParams);c["native"]={layouts:[e]}}e=f.deepAccess(a,"mediaTypes.video");var n=f.deepAccess(a,"mediaTypes.video.context");("video"===a.mediaType||e)&&c.ad_types.push("video");if("video"===a.mediaType||e&&"outstream"!==n)c.require_asset_url=!0;a.params.video&&
(c.video={},Object.keys(a.params.video).filter(function(a){return w(v,a)}).forEach(function(b){return c.video[b]=a.params.video[b]}));(f.isEmpty(a.mediaType)&&f.isEmpty(a.mediaTypes)||"banner"===a.mediaType||a.mediaTypes&&a.mediaTypes.banner)&&c.ad_types.push("banner");return c}function b(a){var b=[],c={};if(f.isArray(a)&&2===a.length&&!f.isArray(a[0]))c.width=parseInt(a[0],10),c.height=parseInt(a[1],10),b.push(c);else if("object"===typeof a)for(var d=0;d<a.length;d++){var e=a[d];c={};c.width=parseInt(e[0],
10);c.height=parseInt(e[1],10);b.push(c)}return b}function q(a){return!!a.params.user}function a(a){return!!parseInt(a.params.member,10)}function m(a){return a&&a.ads&&a.ads.length&&t(a.ads,function(a){return a.rtb})}function d(a){var b={};Object.keys(a).forEach(function(c){var d=B[c]&&B[c].serverName||B[c]||c,e=B[c]&&B[c].requiredParams;b[d]=Object.assign({},e,a[c]);var g=B[c]&&B[c].minimumParams;if(e&&g){c=Object.keys(a[c]);var f=Object.keys(e);0===c.filter(function(a){return!w(f,a)}).length&&(b[d]=
Object.assign({},b[d],g))}});return b}function e(a){a.renderer.push(function(){l.ANOutstreamVideo.renderAd({tagId:a.adResponse.tag_id,sizes:[a.getSize().split("x")],targetId:a.adUnitCode,uuid:a.adResponse.uuid,adResponse:a.adResponse,rendererOptions:a.renderer.getConfig()},z.bind(null,a))})}function z(a,b,c){a.renderer.handleVideoEvent({id:b,eventName:c})}var f=l.AV_biddersFactory.utils,w=l.AV_biddersFactory.includes,t=l.AV_biddersFactory.find,n=l.AV_biddersFactory.Renderer,v="id mimes minduration maxduration startdelay skippable playback_method frameworks".split(" "),
C="age external_uid segments gender dnt language".split(" "),B={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"};l.AV_biddersFactory.register("appnexus",{code:"appnexus",aliases:"appnexusAst brealtime pagescience defymedia gourmetads matomy featureforward oftmedia districtm".split(" "),supportedMediaTypes:["video"],isBidRequestValid:function(a){return!!(a.params.placementId||
a.params.member&&a.params.invCode)},buildRequests:function(b,c){var d=b.map(k),e=t(b,q);if(e){var g={};Object.keys(e.params.user).filter(function(a){return w(C,a)}).forEach(function(a){return g[a]=e.params.user[a]})}b=(b=t(b,a))?parseInt(b.params.member,10):0;d={tags:[].concat($jscomp.arrayFromIterable(d)),user:g,sdk:{source:"pbjs",version:"$prebid.version$"}};0<b&&(d.member_id=b);c&&c.gdprConsent&&(d.gdpr_consent={consent_string:c.gdprConsent.consentString,consent_required:c.gdprConsent.gdprApplies});
return{method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(d),bidderRequest:c}},interpretResponse:function(a,b){var d=this,e=b.bidderRequest;a=a.body;var g=[];if(!a||a.error)return b="in response for "+e.bidderCode+" adapter",a&&a.error&&(b+=": "+a.error),f.logError(b),g;a.tags&&a.tags.forEach(function(a){var b=m(a);if(b&&0!==b.cpm&&w(d.supportedMediaTypes,b.ad_type)){var n={requestId:a.uuid,cpm:b.cpm,creativeId:b.creative_id,dealId:b.deal_id,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:b.buyer_member_id}};
if(b.rtb.video){if(Object.assign(n,{width:b.rtb.video.player_width,height:b.rtb.video.player_height,vastUrl:b.rtb.video.asset_url,vastImpUrl:b.notify_url,ttl:3600}),b.renderer_url){var k=f.deepAccess(e.bids[0],"renderer.options");Object.assign(n,{adResponse:a,renderer:c(n.adUnitCode,b,k)});n.adResponse.ad=n.adResponse.ads[0];n.adResponse.ad.video=n.adResponse.ad.rtb.video}}else if(b.rtb["native"])a=b.rtb["native"],n["native"]={title:a.title,body:a.desc,cta:a.ctatext,sponsoredBy:a.sponsored,clickUrl:a.link.url,
clickTrackers:a.link.click_trackers,impressionTrackers:a.impression_trackers,javascriptTrackers:a.javascript_trackers},a.main_img&&(n["native"].image={url:a.main_img.url,height:a.main_img.height,width:a.main_img.width}),a.icon&&(n["native"].icon={url:a.icon.url,height:a.icon.height,width:a.icon.width});else{Object.assign(n,{width:b.rtb.banner.width,height:b.rtb.banner.height,ad:b.rtb.banner.content});try{k=f.createTrackPixelHtml(b.rtb.trackers[0].impression_urls[0]),n.ad+=k}catch(Y){}}b=b.ad_type;
n.mediaType="video"===b?"video":"native"===b?"native":"banner";g.push(n)}});return g},getUserSyncs:function(a){if(a.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]},avGetFloor:function(a){try{return a.bids[0].params.reserve}catch(g){}}})})(window);
(function(l){function c(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]||delete a[b]);return d._map(Object.keys(a),function(b){return b+"="+a[b]}).join("&")}function r(a){var b=l;var c=document;if(a){try{b=l.top,c=l.top.document}catch(u){return}a=c.documentElement;var d=c.body;c=b.innerWidth||a.clientWidth||d.clientWidth;b=b.innerHeight||a.clientHeight||d.clientHeight}else a=c.documentElement,c=b.innerWidth||a.clientWidth,b=b.innerHeight||a.clientHeight;return c+"x"+b}function k(a){return a.reduce(function(a,
b){d.deepAccess(b,"mediaTypes.video")||b.mediaType===e?a[0].push(b):a[1].push(b);return a},[[],[]])}function b(a,b){var c=d.inIframe();a={ju:m.getConfig("pageUrl")||d.getTopWindowUrl(),jr:d.getTopWindowReferrer(),ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:c,tz:(new Date).getTimezoneOffset(),tws:r(c),be:1,dddid:d._map(a,function(a){return a.transactionId}).join(","),nocache:(new Date).getTime()};d.deepAccess(b,"gdprConsent")&&(b=b.gdprConsent,
void 0!==b.consentString&&(a.gdpr_consent=b.consentString),void 0!==b.gdprApplies&&(a.gdpr=b.gdprApplies?1:0),"iab"===m.getConfig("consentManagement.cmpApi")&&(a.x_gdpr_f=1));return a}function q(b,c){var d="//"+b.params.delDomain+"/v/1.0/avjp";c=a(b,c);return{method:"GET",url:d,data:c,payload:{bid:b,startTime:new Date}}}function a(a,c){var e=b([a],c),f=d.deepAccess(a,"params.video")||{};c=d.deepAccess(a,"mediaTypes.video.context");var k=d.deepAccess(a,"mediaTypes.video.playerSize");if(d.isArray(a.sizes)&&
2===a.sizes.length&&!d.isArray(a.sizes[0])){var g=parseInt(a.sizes[0],10);var n=parseInt(a.sizes[1],10)}else d.isArray(a.sizes)&&d.isArray(a.sizes[0])&&2===a.sizes[0].length?(g=parseInt(a.sizes[0][0],10),n=parseInt(a.sizes[0][1],10)):d.isArray(k)&&2===k.length&&(g=parseInt(k[0],10),n=parseInt(k[1],10));Object.keys(f).forEach(function(a){"openrtb"===a?(f[a].w=g||f[a].w,f[a].v=n||f[a].v,e[a]=JSON.stringify(f[a])):a in e||"url"===a||(e[a]=f[a])});e.auid=a.params.unit;e.vwd=g||f.vwd;e.vht=n||f.vht;"outstream"===
c&&(e.vos="101");f.mimes&&(e.vmimes=f.mimes);return e}var m=l.AV_biddersFactory.config,d=l.AV_biddersFactory.utils,e=l.AV_biddersFactory.VIDEO,z=l.AV_biddersFactory.BANNER,f=l.AV_biddersFactory.parse,w=l.AV_biddersFactory.userSync,t=!0;l.AV_biddersFactory.register("openx",{code:"openx",supportedMediaTypes:[e],isBidRequestValid:function(a){return!(!a.params.unit||!a.params.delDomain)},buildRequests:function(a,b){if(0===a.length)return[];var c=[];a=$jscomp.makeIterator(k(a));var d=a.next().value;0<
a.next().value.length&&c.push(void 0);0<d.length&&d.forEach(function(a){c.push(q(a,b))});return c},interpretResponse:function(a,b){a=a.body;if((/avjp$/.test(b.url)?e:z)===e){b=b.payload;var k=b.bid,n=b.startTime;b=[];if(void 0!==a&&""!==a.vastUrl&&""!==a.pub_rev){var q=f(a.vastUrl).search||{},g={};g.requestId=k.bidId;g.bidderCode="openx";g.ttl=300;g.netRevenue=!0;g.currency=a.currency;g.cpm=Number(a.pub_rev)/1E3;g.width=a.width;g.height=a.height;g.creativeId=a.adid;g.vastUrl=a.vastUrl;g.mediaType=
e;a.ph=q.ph;a.colo=q.colo;a.ts=q.ts;b.push(g);k=e;if(t){t=!1;q=m.getConfig("bidderTimeout");l.PREBID_TIMEOUT&&(q=Math.min(l.PREBID_TIMEOUT,q));n={bd:+new Date-n,bp:a.pub_rev,br:"0",bs:d.getTopWindowLocation().hostname,bt:q,ts:a.ts};n.br=n.bt<n.bd?"t":"p";if(k===e){var v=f(a.colo);n.ph=a.ph;v="//"+v.hostname+"/w/1.0/bo?"+c(n)}else(a=d.deepAccess(a,"creative.0.tracking.impression").match(/([^?]+\/)ri\?/))&&1<a.length&&(v=a[1]+"bo?"+c(n));v&&w.registerSync("image","openx",v)}}v=b}else v=void 0;return v},
getUserSyncs:function(a,b){if(a.iframeEnabled)return[{type:"iframe",url:d.deepAccess(b,"0.body.ads.pixels")||d.deepAccess(b,"0.body.pixels")||"//u.openx.net/w/1.0/pd"}]},avGetFloor:function(a){try{return a.bids[0].params.customFloor}catch(v){}}})})(window);
(function(l){function c(){var b=(b=l.DigiTrust&&(a.getConfig("digiTrustId")||l.DigiTrust.getUser({member:"T9QSFKPDN9"})))&&b.success&&b.identity||null;return!b||b.privacy&&b.privacy.optout?[]:{"dt.id":b.id,"dt.keyv":b.keyv,"dt.pref":0}}function r(b){var c=a.getConfig("pageUrl");b.params.referrer?c=b.params.referrer:c||(c=m.getTopWindowUrl());return b.params.secure?c.replace(/^http:/i,"https:"):c}function k(a){var c=a.params;if(b(a)){var d=[];c.video&&c.video.playerWidth&&c.video.playerHeight?d=[c.video.playerWidth,
c.video.playerHeight]:Array.isArray(m.deepAccess(a,"mediaTypes.video.playerSize"))&&1===a.mediaTypes.video.playerSize.length?d=a.mediaTypes.video.playerSize[0]:Array.isArray(a.sizes)&&0<a.sizes.length&&Array.isArray(a.sizes[0])&&1<a.sizes[0].length&&(d=a.sizes[0]);return d}d=[];Array.isArray(c.sizes)?d=c.sizes:"undefined"!==typeof m.deepAccess(a,"mediaTypes.banner.sizes")?d=a.mediaTypes.banner.sizes:Array.isArray(a.sizes)&&0<a.sizes.length&&(d=a.sizes);return q(d)}function b(a){return a.mediaType===
d||"undefined"!==typeof m.deepAccess(a,"mediaTypes.video")}function q(a){var b=[15,2,9];return a.sort(function(a,c){var d=b.indexOf(a),e=b.indexOf(c);return-1<d||-1<e?-1===d?1:-1===e?-1:d-e:a-c})}var a=l.AV_biddersFactory.config,m=l.AV_biddersFactory.utils,d=l.AV_biddersFactory.VIDEO,e=l.AV_biddersFactory.BANNER,z={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",
37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",159:"320x250",195:"600x300",199:"640x200",213:"1030x590",
214:"980x360",232:"580x400",257:"400x600"};m._each(z,function(a,b){return z[a]=b});var f={code:"rubicon",aliases:["rubiconLite"],supportedMediaTypes:[e,d],isBidRequestValid:function(a){if("object"!==typeof a.params||!/^\d+$/.test(a.params.accountId))return!1;if(b(a)){if("instream"===m.deepAccess(a,"mediaTypes.video.context")||a.mediaType===d){if("undefined"===typeof m.deepAccess(a,"params.video.size_id"))return!1}else if("outstream"===m.deepAccess(a,"mediaTypes.video.context"))m.deepAccess(a,"params.video.size_id");
else return!1;m.deepAccess(a,"mediaTypes.banner")}return 0<k(a).length},buildRequests:function(c,d){var e=[];e=c.filter(b).map(function(a){a.startTime=(new Date).getTime();var b=a.params,c=k(a);a.params.video||(a.params.video={});var e={page_url:r(a),resolution:[l.screen.width,l.screen.height].join("x"),account_id:b.accountId,integration:"pbjs_lite_v1.13.0","x_source.tid":a.transactionId||""+d.bidderRequestId,timeout:500,stash_creatives:!0,slots:[]};c={site_id:b.siteId,zone_id:b.zoneId,position:"atf"===
b.position||"btf"===b.position?b.position:"unknown",floor:.01<parseFloat(b.floor)?b.floor:.01,element_id:a.adUnitCode,name:a.adUnitCode,width:c[0],height:c[1],size_id:"outstream"===m.deepAccess(a,"mediaTypes.video.context")?203:b.video.size_id};b.video&&(e.ae_pass_through_parameters=b.video.aeParams,c.language=b.video.language);b.inventory&&"object"===typeof b.inventory&&(c.inventory=b.inventory);b.keywords&&Array.isArray(b.keywords)&&(c.keywords=b.keywords);b.visitor&&"object"===typeof b.visitor&&
(c.visitor=b.visitor);e.slots.push(c);d.gdprConsent&&("boolean"===typeof d.gdprConsent.gdprApplies&&(e.gdpr=Number(d.gdprConsent.gdprApplies)),e.gdpr_consent=d.gdprConsent.consentString);return{method:"POST",url:"//fastlane-adv.rubiconproject.com/v1/auction/video",data:e,bidRequest:a}});if(!0!==a.getConfig("rubicon.singleRequest"))e=e.concat(c.filter(function(a){return!b(a)}).map(function(a){var b=f.createSlotParams(a,d);return{method:"GET",url:"//fastlane.rubiconproject.com/a/api/fastlane.json",
data:f.getOrderedParams(b).reduce(function(a,c){var d=b[c];return m.isStr(d)&&""!==d||m.isNumber(d)?""+a+c+"="+encodeURIComponent(d)+"&":a},"")+("slots=1&rand="+Math.random()),bidRequest:a}}));else{var n=c.filter(function(a){return!b(a)}).reduce(function(a,b){(a[b.params.siteId]=a[b.params.siteId]||[]).push(b);return a},{});e=e.concat(Object.keys(n).map(function(a){a=n[a];10<a.length&&(a=a.slice(0,10));var b=f.combineSlotUrlParams(a.map(function(a){return f.createSlotParams(a,d)}));return{method:"GET",
url:"//fastlane.rubiconproject.com/a/api/fastlane.json",data:f.getOrderedParams(b).reduce(function(a,c){var d=b[c];return m.isStr(d)&&""!==d||m.isNumber(d)?""+a+c+"="+encodeURIComponent(d)+"&":a},"")+("slots="+a.length+"&rand="+Math.random()),bidRequest:a}}))}e&&e[0]&&"object"===typeof e[0].data&&(e[0].data=JSON.stringify(e[0].data),e[0].requestContentType="text/plain");return e},getOrderedParams:function(a){var b=/^tg_v/,c=/^tg_i/,d="account_id site_id zone_id size_id alt_size_ids p_pos gdpr gdpr_consent rf dt.id dt.keyv dt.pref p_geo.latitude p_geo.longitude kw".split(" ").concat(Object.keys(a).filter(function(a){return b.test(a)})).concat(Object.keys(a).filter(function(a){return c.test(a)})).concat("tk_flint x_source.tid p_screen_res rp_floor rp_secure tk_user_key".split(" "));
return d.concat(Object.keys(a).filter(function(a){return-1===d.indexOf(a)}))},combineSlotUrlParams:function(a){if(1===a.length)return a[0];var b=a.reduce(function(b,c,d){Object.keys(c).forEach(function(e){b.hasOwnProperty(e)||(b[e]=Array(a.length));b[e].splice(d,1,c[e])});return b},{}),c=/^([^;]*)(;\1)+$/;Object.keys(b).forEach(function(a){var d=b[a].join(";"),e=d.match(c);b[a]=e?e[1]:d});return b},createSlotParams:function(a,b){a.startTime=(new Date).getTime();var d=a.params,e=k(a),f=$jscomp.makeIterator(d.latLong||
[]),m=f.next().value;f=f.next().value;var g={account_id:d.accountId,site_id:d.siteId,zone_id:d.zoneId,size_id:e[0],alt_size_ids:e.slice(1).join(",")||void 0,p_pos:"atf"===d.position||"btf"===d.position?d.position:"unknown",rp_floor:.01<(d.floor=parseFloat(d.floor))?d.floor:.01,rp_secure:"https:"===location.protocol?"1":"0",tk_flint:"pbjs_lite_v1.13.0","x_source.tid":a.transactionId,p_screen_res:[l.screen.width,l.screen.height].join("x"),kw:Array.isArray(d.keywords)?d.keywords.join(","):"",tk_user_key:d.userId,
"p_geo.latitude":isNaN(parseFloat(m))?void 0:parseFloat(m).toFixed(4),"p_geo.longitude":isNaN(parseFloat(f))?void 0:parseFloat(f).toFixed(4),"tg_fl.eid":a.code,rf:r(a)};b.gdprConsent&&("boolean"===typeof b.gdprConsent.gdprApplies&&(g.gdpr=Number(b.gdprConsent.gdprApplies)),g.gdpr_consent=b.gdprConsent.consentString);null!==d.visitor&&"object"===typeof d.visitor&&Object.keys(d.visitor).forEach(function(a){g["tg_v."+a]=d.visitor[a].toString()});null!==d.inventory&&"object"===typeof d.inventory&&Object.keys(d.inventory).forEach(function(a){g["tg_i."+
a]=d.inventory[a].toString()});var n=c();Object.keys(n).forEach(function(a){g[a]=n[a]});return g},interpretResponse:function(c,e){var f=e.bidRequest;c=c.body;if(!c||"object"!==typeof c)return[];c=c.ads;"object"===typeof f&&!Array.isArray(f)&&b(f)&&"object"===typeof c&&(c=c[f.adUnitCode]);return!Array.isArray(c)||1>c.length?[]:c.reduce(function(b,c,e){if("ok"!==c.status)return b;if((e=Array.isArray(f)?f[e]:f)&&"object"===typeof e){var g={requestId:e.bidId,currency:"USD",creativeId:c.creative_id,cpm:c.cpm||
0,dealId:c.deal,ttl:300,netRevenue:a.getConfig("rubicon.netRevenue")||!1,rubicon:{advertiserId:c.advertiser,networkId:c.network}};c.creative_type&&(g.mediaType=c.creative_type);if(c.creative_type===d)g.width=e.params.video.playerWidth,g.height=e.params.video.playerHeight,g.vastUrl=c.creative_depot_url,g.impression_id=c.impression_id,g.videoCacheKey=c.impression_id;else{g.ad=void 0;var k=$jscomp.makeIterator(z[c.size_id].split("x").map(function(a){return Number(a)}));g.width=k.next().value;g.height=
k.next().value}g.rubiconTargeting=(Array.isArray(c.targeting)?c.targeting:[]).reduce(function(a,b){a[b.key]=b.values[0];return a},{rpfl_elemid:e.adUnitCode});b.push(g)}return b},[]).sort(function(a,b){return(b.cpm||0)-(a.cpm||0)})},getUserSyncs:function(a,b,c){if(!w&&a.iframeEnabled)return a="",c&&"string"===typeof c.consentString&&(a="boolean"===typeof c.gdprApplies?a+("?gdpr="+Number(c.gdprApplies)+"&gdpr_consent="+c.consentString):a+("?gdpr_consent="+c.consentString)),w=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+
a}},avGetFloor:function(a){try{return a.bids[0].params.reserve}catch(n){}}},w=!1;l.AV_biddersFactory.register("rubicon",f)})(window);
(function(l){function c(a){for(var b=[0,0],c=0;c<a.length;c++)a[c][0]*a[c][1]>b[0]*b[1]&&(b=a[c]);return b}function r(a){var b,c={};a=a.querySelectorAll("Extension");Array.prototype.forEach.call(a,function(a){"StickyPricing"===a.getAttribute("type")&&(b=a)});b?(c=b.querySelector("Price"),c={currency:c.getAttribute("currency"),price:c.textContent||c.innerText}):q.logWarn("PREBID - freewheel-ssp: Can't get pricing data. Is price awareness enabled?");return c}function k(a){var b="";a=a.querySelectorAll("Ad");
Array.prototype.forEach.call(a,function(a){b+="["+a.getAttribute("id")+"]"});return b}function b(a){var b="mustang";a&&"inbanner"!==a&&(b=a);return b}var q=l.AV_biddersFactory.utils;var a=location.protocol&&0===location.protocol.indexOf("https")?"https":"http";var m=a+"://ads.stickyadstv.com/www/delivery/swfIndex.php",d=a+"://cdn.stickyadstv.com/mustang/mustang.min.js",e=a+"://cdn.stickyadstv.com/prime-time/",z=a+"://ads.stickyadstv.com/auto-user-sync";l.AV_biddersFactory.register("freewheel",{code:"freewheel-ssp",
supportedMediaTypes:["banner","video"],aliases:["stickyadstv"],isBidRequestValid:function(a){return!!a.params.zoneId},buildRequests:function(a,d){var e=a[0];1<a.length&&Utils.writeLog(Utils.logLevels.info,"Prebid.JS - freewheel bid adapter: only one ad unit is required.");a=e.params.zoneId;var f=(new Date).getTime();var k=a+""+f;var l=0;if(0!=k.length)for(var r=0;r<k.length;r++){var u=k.charCodeAt(r);l=(l<<5)-l+u;l&=l}k=l;a={reqType:"AdsSetup",protocolVersion:"2.0",zoneId:a,componentId:b(e.params.format),
timestamp:f,pKey:k};d.gdprConsent&&(a._fw_gdpr_consent=d.gdprConsent.consentString,"boolean"===typeof d.gdprConsent.gdprApplies&&(a._fw_gdpr=d.gdprConsent.gdprApplies));d=e.params.vastUrlParams;if("object"===typeof d)for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g]);g=q.getTopWindowUrl();d=g?/^(https?|ftp|file):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(g):
!1;d&&(a.loc=g);g=c(e.sizes);if(0<g[0]||0<g[1])a.playerSize=g[0]+"x"+g[1];return{method:"GET",url:m,data:a,bidRequest:e}},interpretResponse:function(a,m){m=m.bidRequest;var f=c(m.sizes);"object"==typeof a&&"string"==typeof a.body&&(a=a.body);try{var n=(new DOMParser).parseFromString(a,"application/xml")}catch(g){q.logWarn("Prebid.js - freewheel-ssp : "+g);return}var v=r(n),w=k(n);n=l;try{for(;top!==n;)n.parent.location.href.length&&(n=n.parent)}catch(g){}n.freewheelssp_cache||(n.freewheelssp_cache=
{});n.freewheelssp_cache[m.adUnitCode]=a;n=[];if(v.price){v={requestId:m.bidId,cpm:v.price,width:f[0],height:f[1],creativeId:w,currency:v.currency,netRevenue:!0,ttl:360};if((m.mediaTypes||{}).video)v.mediaType="video",m=new Blob([a],{type:"application/xml"}),v.vastUrl=l.URL.createObjectURL(m);else{w=m.params.format;a='<div id="freewheelssp_prebid_target" style="width:'+f[0]+"px;height:"+f[1]+'px;"></div>';if(w&&"inbanner"!==w){w=e+b(m.params.format)+".min.js";f=m.params;f.hasOwnProperty("domId")||
f.hasOwnProperty("auto")||f.hasOwnProperty("p")||f.hasOwnProperty("article")||("intext-roll"===f.format?f.iframeMode="dfp":f.domId="freewheelssp_prebid_target");var B="var config = {  preloadedVast:vast,  ASLoader:new window.com.stickyadstv.tools.ASLoader("+m.params.zoneId+", '"+b(m.params.format)+"')";for(u in f)f.hasOwnProperty(u)&&"format"!==u&&"zone"!==u&&"zoneId"!==u&&"vastUrlParams"!==u&&(B+=","+u+':"'+f[u]+'"');var u=B+="};window.com.stickyadstv."+(m.params.format||"").replace("-","")+".start(config);"}else w=
d,u='var config = {      preloadedVast:vast,      autoPlay:true    };    var ad = new window.com.stickyadstv.vpaid.Ad(document.getElementById("freewheelssp_prebid_target"),config);    (new window.com.stickyadstv.tools.ASLoader('+m.params.zoneId+", '"+b(m.params.format)+"')).registerEvents(ad);    ad.initAd("+f[0]+","+f[1]+',"",0,"","");';v.ad=a+"<script type='text/javascript'>(function() {  var st = document.createElement('script'); st.type = 'text/javascript'; st.async = true;  st.src = '"+w+"';  st.onload = function(){    var vastLoader = new window.com.stickyadstv.vast.VastLoader();    var vast = vastLoader.getVast();    var topWindow = (function(){var res=window; try{while(top != res){if(res.parent.location.href.length)res=res.parent;}}catch(e){}return res;})();    vast.setXmlString(topWindow.freewheelssp_cache[\""+
m.adUnitCode+'"]);    vastLoader.parseAds(vast, {      onSuccess: function() {'+u+" }    });  };  document.head.appendChild(st);})();\x3c/script>"}n.push(v)}return n},getUserSyncs:function(a){if(a.pixelEnabled)return[{type:"image",url:z}]}})})(window);$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();
var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};
(function(l){function c(a){var b=document.createElement("a");b.href=a;return b.hostname}function r(a,b){if(d.isStr(b))switch(a){case "pmzoneid":return b.split(",").slice(0,50).map(function(a){return a.trim()}).join();case "kadfloor":return parseFloat(b)||void 0;case "lat":return parseFloat(b)||void 0;case "lon":return parseFloat(b)||void 0;case "yob":return parseInt(b)||void 0;default:return b}else b&&Utils.writeLog(Utils.logLevels.info,"PubMatic: Ignoring param key: "+a+", expects string-value, found "+
("undefined"===typeof b?"undefined":_typeof(b)))}function k(){var a={};a.pageURL=d.getTopWindowUrl();a.refURL=d.getTopWindowReferrer();return a}function b(a){return{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:a.pageURL,ref:a.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}function q(a,b,c){a="PubMatic: Ignoring param key: "+
a+", expects "+c+", found "+("undefined"===typeof b?"undefined":_typeof(b));switch(c){case f.BOOLEAN:if(!d.isBoolean(b)){Utils.writeLog(Utils.logLevels.info,a);break}return b;case f.NUMBER:if(!d.isNumber(b)){Utils.writeLog(Utils.logLevels.info,a);break}return b;case f.STRING:if(!d.isStr(b)){Utils.writeLog(Utils.logLevels.info,a);break}return b;case f.ARRAY:if(d.isArray(b))return b;Utils.writeLog(Utils.logLevels.info,a)}}function a(a,b){b={};var c={};c={};var e=a.hasOwnProperty("sizes")?a.sizes:[];
b={id:a.bidId,tagid:a.params.adUnit,bidfloor:r("kadfloor",a.params.kadfloor),secure:"https:"===l.location.protocol?1:0,ext:{pmZoneId:r("pmzoneid",a.params.pmzoneid)},bidfloorcur:a.params.currency?r("currency",a.params.currency):"USD"};if(a.params.hasOwnProperty("video")){e=a.params.video;for(var g in w)e.hasOwnProperty(g)&&(c[g]=q(g,e[g],w[g]));d.isArray(a.mediaTypes.video.playerSize[0])?(c.w=a.mediaTypes.video.playerSize[0][0],c.h=a.mediaTypes.video.playerSize[0][1]):d.isNumber(a.mediaTypes.video.playerSize[0])&&
(c.w=a.mediaTypes.video.playerSize[0],c.h=a.mediaTypes.video.playerSize[1]);a.params.video.hasOwnProperty("skippable")&&(c.ext={video_skippable:a.params.video.skippable?1:0});b.video=c}else{c={pos:0,w:a.params.width,h:a.params.height,topframe:d.inIframe()?0:1};if(d.isArray(e)&&1<e.length){e=e.splice(1,e.length-1);var f=[];e.forEach(function(a){f.push({w:a[0],h:a[1]})});c.format=f}b.banner=c}return b}function m(a){var b=[];var c=(c=l.DigiTrust&&(e.getConfig("digiTrustId")||l.DigiTrust.getUser({member:"nFIn8aLzbd"})))&&
c.success&&c.identity||null;c=!c||c.privacy&&c.privacy.optout?null:c;null!==c&&b.push({source:"digitru.st",uids:[{id:c.id||"",atype:1,ext:{keyv:parseInt(c.keyv)||0}}]});0<b.length&&(a.user.eids=b)}var d=l.AV_biddersFactory.utils,e=l.AV_biddersFactory.config,z={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},f={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array"},w={mimes:f.ARRAY,minduration:f.NUMBER,maxduration:f.NUMBER,startdelay:f.NUMBER,playbackmethod:f.ARRAY,
api:f.ARRAY,protocols:f.ARRAY,w:f.NUMBER,h:f.NUMBER,battr:f.ARRAY,linearity:f.NUMBER,placement:f.NUMBER,minbitrate:f.NUMBER,maxbitrate:f.NUMBER},t={1:"PMP",5:"PREF",6:"PMPG"},n=0;l.AV_biddersFactory.register("pubmatic",{code:"pubmatic",supportedMediaTypes:[l.AV_biddersFactory.BANNER,l.AV_biddersFactory.VIDEO],isBidRequestValid:function(a){return a&&a.params?d.isStr(a.params.publisherId)&&d.isStr(a.params.adSlot)&&(!a.params.hasOwnProperty("video")||a.params.video.hasOwnProperty("mimes")&&d.isArray(a.params.video.mimes)&&
0!==a.params.video.mimes.length)?!0:!1:!1},buildRequests:function(e,f){var l=k(),q=b(l),g="",t="",w=[],v;e.forEach(function(b){v=d.deepClone(b);b=v;b.params.adUnit="";b.params.adUnitIndex="0";b.params.width=0;b.params.height=0;var c=b.hasOwnProperty("sizes")&&d.isArray(b.sizes)&&1<=b.sizes.length,e=b.params;var f=b.params.adSlot;f=d.isStr(f)?f.replace(/^\s+/g,"").replace(/\s+$/g,""):"";e.adSlot=f;e=b.params.adSlot;f=e.split(":");e=f[0];2==f.length&&(b.params.adUnitIndex=f[1]);f=e.split("@");if(2==
f.length||c)b.params.adUnit=f[0],1<f.length?(f=f[1].split("x"),2==f.length&&(b.params.width=parseInt(f[0]),b.params.height=parseInt(f[1]),delete b.sizes)):c&&(b.params.width=parseInt(b.sizes[0][0]),b.params.height=parseInt(b.sizes[0][1]));if(v.params.hasOwnProperty("video")){if(!(v.params.adSlot&&v.params.adUnit&&v.params.adUnitIndex))return}else if(!(v.params.adSlot&&v.params.adUnit&&v.params.adUnitIndex&&v.params.width&&v.params.height))return;l.pubId=l.pubId||v.params.publisherId;b=v.params;c=
l;c.kadpageurl||(c.kadpageurl=c.pageURL);for(var k in z)z.hasOwnProperty(k)&&(e=b[k])&&(f=z[k],"object"===("undefined"===typeof f?"undefined":_typeof(f))&&(e=f.f(e,c)),d.isStr(e)&&(c[k]=e));l=c;l.transactionId=v.transactionId;""===g?g=v.params.currency||void 0:v.params.hasOwnProperty("currency");v.params.currency=g;v.params.hasOwnProperty("dctr")&&d.isStr(v.params.dctr)&&w.push(v.params.dctr);q.imp.push(a(v,l))});if(0!=q.imp.length)return q.site.publisher.id=l.pubId.trim(),n=l.pubId.trim(),q.ext.wrapper=
{},q.ext.wrapper.profile=parseInt(l.profId)||void 0,q.ext.wrapper.version=parseInt(l.verId)||void 0,q.ext.wrapper.wiid=l.wiid||void 0,q.ext.wrapper.wv="prebid_prebid_1.16.0",q.ext.wrapper.transactionId=l.transactionId,q.ext.wrapper.wp="pbjs",q.user.gender=l.gender?l.gender.trim():void 0,q.user.geo={},f&&f.gdprConsent&&(q.user.ext={consent:f.gdprConsent.consentString},q.regs={ext:{gdpr:f.gdprConsent.gdprApplies?1:0}}),q.user.geo.lat=r("lat",l.lat),q.user.geo.lon=r("lon",l.lon),q.user.yob=r("yob",l.yob),
q.device.geo={},q.device.geo.lat=r("lat",l.lat),q.device.geo.lon=r("lon",l.lon),q.site.page=l.kadpageurl.trim()||q.site.page.trim(),q.site.domain=c(q.site.page),e[0].params.hasOwnProperty("dctr")&&(t=e[0].params.dctr,d.isStr(t)&&0<t.length&&(e=t.split("|"),t="",e.forEach(function(a){t+=0<a.length?a.trim()+"|":""}),e=t.length,"|"===t.substring(e,e-1)&&(t=t.substring(0,e-1)),q.site.ext={key_val:t.trim()})),m(q),{method:"POST",url:"//hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(q)}},
interpretResponse:function(a,b){var c=[],e="USD";try{a.body&&a.body.seatbid&&d.isArray(a.body.seatbid)&&(e=a.body.cur||e,a.body.seatbid.forEach(function(a){a.bid&&d.isArray(a.bid)&&a.bid.forEach(function(a){var g={requestId:a.impid,cpm:(parseFloat(a.price)||0).toFixed(2),width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:e,netRevenue:!1,ttl:300,referrer:d.getTopWindowUrl(),ad:a.adm},f=JSON.parse(b.data);f.imp&&0<f.imp.length&&f.imp.forEach(function(b){a.impid===b.id&&b.hasOwnProperty("video")&&
(g.mediaType="video",g.width=a.hasOwnProperty("w")?a.w:b.video.w,g.height=a.hasOwnProperty("h")?a.h:b.video.h,g.vastXml=a.adm)});a.ext&&a.ext.deal_channel&&(g.dealChannel=t[a.ext.deal_channel]||null);c.push(g)})}))}catch(g){}return c},getUserSyncs:function(a,b,c){b="//ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+n;c&&(b+="&gdpr="+(c.gdprApplies?1:0),b+="&gdpr_consent="+encodeURIComponent(c.consentString||""));if(a.iframeEnabled)return[{type:"iframe",url:b}]},transformBidParams:function(a,
b){return d.convertTypes({publisherId:"string",adSlot:"string"},a)}})})(window);
(function(l){function c(b,c){if(!r.isArray(b.sizes)||2!==b.sizes.length||isNaN(b.sizes[0])||isNaN(b.sizes[1]))"object"===typeof b.sizes&&(a=b.sizes[0][0],m=b.sizes[0][1]);else{var a=b.sizes[0];var m=b.sizes[1]}if(a&&m){var d=("https:"===document.location.protocol?"https":"http")+"://"+b.params.supplyCode+".ads.tremorhub.com/ad/tag?adCode="+b.params.adCode;d+="&playerWidth="+a;d+="&playerHeight="+m;d+="&srcPageUrl="+encodeURIComponent(Utils.getTrueDomain());d+="&transactionId="+b.transactionId+"&hb=1";
k.forEach(function(a){b.params[a]&&(d+="&"+a+"="+b.params[a])});c&&c.gdprConsent&&c.gdprConsent.gdprApplies&&c.gdprConsent.consentString&&(d+="&gdpr=1&gdpr_consent="+c.gdprConsent.consentString);return d+="&fmt=json"}}var r=l.AV_biddersFactory.utils,k="mediaId mediaUrl mediaTitle contentLength floor efloor custom categories keywords blockDomains c2 c3 c4 skip skipmin skipafter delivery placement videoMinBitrate videoMaxBitrate".split(" ");l.AV_biddersFactory.register("tremor",{isBidRequestValid:function(b){if(b.params.adCode&&
b.params.supplyCode)return b;Utils.writeLog(Utils.logLevels.error,"missing bid params");return!1},buildRequests:function(b,k){b=b[0]||[];if((k=c(b,k))&&this.isBidRequestValid(b))return{method:"GET",url:k}},interpretResponse:function(b,c){b=b.body;var a={};b&&!b.error||Utils.writeLog(Utils.logLevels.error,"no response for tremor adapter");b.seatbid&&0<b.seatbid.length&&b.seatbid[0].bid.forEach(function(b){var c={};if(b){var e=new Blob([b.adm],{type:"application/xml"});c.vastUrl=l.URL.createObjectURL(e);
c.cpm=b.price;c.mediaType="video"}a=c});return[a]}})})(window);
(function(l){var c=l.AV_biddersFactory.utils,r=l.AV_biddersFactory.STATUS;l.AV_biddersFactory.register("spotx",{code:"spotx",av_async:!0,validateParams:function(c){return"object"!==typeof c.params&&"object"!==typeof c.params.video||void 0===c.params.video.channel_id||void 0===c.params.video.slot||void 0===c.params.video.video_slot?!1:!0},buildRequests:function(k,b,q){this.bidCallback=q;var a=this,m=k.bids?k.bids[0]||[]:k;m=m[0]?m[0]:m;k=m.params.video.channel_id;l.SpotX&&l.SpotX.DirectAdOS?this.initDSDK(m):
c.loadScript("//js.spotx.tv/directsdk/v1/"+k+".js",function(){a.initDSDK(m)})},interpretResponse:function(c,b){return b&&b.vastUrl?[{vastUrl:b.vastUrl,cpm:b.cpm}]:{}},initDSDK:function(k){var b=k.params.video,q=this;b.slot=l.AV_player.config.slot.querySelector("#videoslot");l.spotxVid||(l.spotxVid=document.createElement("video"));b.video_slot=l.spotxVid;(new SpotX.DirectAdOS(b)).getAdServerKVPs().then(function(a){var b={};b.cmpID=k.params.video.channel_id;b.cpm=a.spotx_bid;b.url=a.spotx_ad_key;b.cur=
"USD";b.bidderCode="spotx";var d=c.isArray(k.sizes[0])?k.sizes[0]:k.sizes;b.height=d[1];b.width=d[0];q.createBid(r.GOOD,k,b,a)},function(){q.createBid(r.NO_BID,k,{})})},createBid:function(k,b,l,a){l.bidderCode=b.bidder;l.placementCode=b.placementCode;l.requestId=b.requestId;l.code=b.bidder;k===r.GOOD&&a&&(k="//search.spotxchange.com/ad/vast.html?key="+a.spotx_ad_key,l.mediaType="video",l.cpm=a.spotx_bid,l.vastUrl=k,l.spotx_ad_key=a.spotx_ad_key,b=c.isArray(b.sizes[0])?b.sizes[0]:b.sizes,l.height=
b[1],l.width=b[0]);this.bidCallback(l)}})})(window);
(function(l){l.AVSpotXSDK=function(c){function r(a,m,d,e,l,f){var r={};if(l&&l.AdParameters){if("string"===typeof l.AdParameters)try{r=JSON.parse(l.AdParameters.trim())}catch(t){q.dispatch("AdError");return}else"object"===typeof l.AdParameters&&(r=l.AdParameters);r.slot=f.slot;r.video_slot=f.videoSlot;"undefined"===typeof r.hide_skin&&(r.hide_skin=!1);r.ados&&r.ados.user&&"string"===typeof r.ados.user.consent&&0==r.ados.user.consent.length&&delete r.ados.user.consent;r.autoplay=!1;r.ad_mute=!0}a=
"https://js.spotx.tv/directsdk/v1/"+r.channel_id+".js";try{parent.$sf&&(c.$sf=parent.$sf)}catch(t){}(function(a,b){var d=c.document.getElementsByTagName("body")[0],e=c.document.createElement("script");e.type="text/javascript";e.src=a;e.onload=b;"function"!==typeof e.onload&&(e.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||b()});d.appendChild(e)})(a,function(){var a=!1;b=f.videoSlot;k=new c.SpotX.DirectAdOS(r);"AdLoaded AdStarted AdStopped AdSkipped AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdUserMinimize AdUserClose AdPaused AdPlaying AdError AdSizeChange AdRemainingTimeChange AdVolumeChange".split(" ").forEach(function(b,
c){k.subscribe(function(c,d,e){"AdVideoStart"==b||"AdImpression"==b?a||(a=!0,q.dispatch("AdImpression")):q.dispatch(b)},b)});k.loadAd()})}var k,b,q=new l.AVEvtMgr;this.handshakeVersion=function(a){return"2.0"};this.initAd=function(a,b,c,e,k,f){r(a,b,c,e,k,f)};this.startAd=function(){setTimeout(function(){k.playAd()},10)};this.getAdLinear=function(){return!0};this.stopAd=function(a,b){try{k.stopAd()}catch(d){}};this.getAdVolume=function(){var a=b.volume;b.muted&&(a=0);return a};this.setAdVolume=function(a){b.volume=
a;b.muted=!(0<a)};this.resizeAd=function(a,b,c){try{k.resize(a,b,c)}catch(e){}};this.pauseAd=function(){try{k.pauseAd()}catch(a){}};this.resumeAd=function(){try{k.playAd()}catch(a){}};this.expandAd=function(){};this.getAdExpanded=function(a){return!1};this.getAdSkippableState=function(a){return!1};this.collapseAd=function(){};this.skipAd=function(){try{setTimeout(function(){k.stopAd()},10)}catch(a){}};this.getAdWidth=function(){return b.clientWidth};this.getAdHeight=function(){return b.clientHeight};
this.getSkippableRemainingTime=function(){return b.duration-b.currentTime};this.getAdRemainingTime=function(){return b.duration-b.currentTime};this.getAdDuration=function(){return b.duration};this.getAdCompanions=function(){};this.getIcons=function(){return""};this.getAdIcons=function(){return""};this.subscribe=function(a,b,c){q.subscribe(a,b,c)};this.unsubscribe=function(a,b){q.unsubscribe(a,b)}}})(window);
(function(l){var c=l.AV_biddersFactory.utils;l.AV_biddersFactory.register("spotx2",{code:"spotx2",aliases:["spotx"],supportedMediaTypes:["video"],isBidRequestValid:function(c){return!0},buildRequests:function(l,k){var b=k.refererInfo.referer,q=!!b.match(/^https:/);return l.map(function(a){var l=c.getBidIdParameter("channel_id",a.params),d=null,e=c.deepAccess(a,"mediaTypes.video.playerSize"),r=e[0];e=e[1];var f=q||(c.getBidIdParameter("secure",a.params)?1:0),w={sdk_name:"Prebid 1+",versionOrtb:"2.3"};
""!==c.getBidIdParameter("ad_volume",a.params)&&(w.ad_volume=c.getBidIdParameter("ad_volume",a.params));""!==c.getBidIdParameter("ad_mute",a.params)&&(w.ad_mute=c.getBidIdParameter("ad_mute",a.params));""!==c.getBidIdParameter("hide_skin",a.params)&&(w.hide_skin=c.getBidIdParameter("hide_skin",a.params));""!==c.getBidIdParameter("ad_unit",a.params)&&(w.ad_unit=c.getBidIdParameter("ad_unit",a.params));""!==c.getBidIdParameter("outstream_options",a.params)&&(w.outstream_options=c.getBidIdParameter("outstream_options",
a.params));""!==c.getBidIdParameter("outstream_function",a.params)&&(w.outstream_function=c.getBidIdParameter("outstream_function",a.params));""!==c.getBidIdParameter("custom",a.params)&&(w.custom=c.getBidIdParameter("custom",a.params));if(""!==c.getBidIdParameter("pre_market_bids",a.params)&&c.isArray(c.getBidIdParameter("pre_market_bids",a.params))){var t=c.getBidIdParameter("pre_market_bids",a.params);w.pre_market_bids=[];for(var n in t){var v=t[n],C="";v.vast_url?C='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+
v.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":v.vast_string&&(C=v.vast_string);w.pre_market_bids.push({id:v.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:v.deal_id,price:v.price,adm:C}]}],cur:v.currency,ext:{event_log:[{}]}})}}n=c.getBidIdParameter("mimes",a.params)||["application/javascript","video/mp4","video/webm"];r={id:a.bidId,secure:f,video:{w:r,h:e,ext:w,mimes:n}};""!==c.getBidIdParameter("price_floor",a.params)&&(r.bidfloor=c.getBidIdParameter("price_floor",a.params));""!==c.getBidIdParameter("start_delay",
a.params)&&(r.video.startdelay=0+!!c.getBidIdParameter("start_delay",a.params));a.crumbs&&a.crumbs.pubcid&&(d=a.crumbs.pubcid);e=navigator.language?"language":"userLanguage";e={h:screen.height,w:screen.width,dnt:c.getDNT()?1:0,language:navigator[e].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent};r={id:l,imp:r,site:{id:"",page:b,content:"content"},device:e,ext:{wrap_response:1}};c.getBidIdParameter("number_of_ads",a.params)&&(r.ext.number_of_ads=c.getBidIdParameter("number_of_ads",
a.params));a={};r.regs={ext:{gdpr:0}};k&&k.gdprConsent&&(a.consent=k.gdprConsent.consentString,"undefined"!==typeof k.gdprConsent.gdprApplies&&(r.regs={ext:{gdpr:k.gdprConsent.gdprApplies?1:0}}));d&&(a.fpc=d);c.isEmpty(a)||(r.user={ext:a});return{method:"POST",url:"//search.spotxchange.com/openrtb/2.3/dados/"+l,data:r,bidRequest:k}})},interpretResponse:function(l,k){var b=[],q=l.body;q&&c.isArray(q.seatbid)&&c._each(q.seatbid,function(a){c._each(a.bid,function(a){var d={},e;for(e in k.bidRequest.bids)a.impid==
k.bidRequest.bids[e].bidId&&(d=k.bidRequest.bids[e]);c._each(d.params.pre_market_bids,function(b){b.deal_id==a.id&&(a.price=b.price,q.cur=b.currency)});b.push({requestId:d.bidId,currency:q.cur||"USD",cpm:a.price,creativeId:a.crid||"",ttl:360,netRevenue:!0,channel_id:q.id,cache_key:a.ext.cache_key,vastUrl:"//search.spotxchange.com/ad/vast.html?key="+a.ext.cache_key,mediaType:"video",width:a.w,height:a.h})})});return b}})})(window);
(function(l){function c(a){a=e.deepAccess(a,"mediaTypes.video.playerSize")||a.sizes;var b=a[1];return{w:parseInt(a[0],10)||void 0,h:parseInt(b,10)||void 0}}function r(a){return e.deepAccess(a,"mediaTypes.video")}function k(a,b){return e.deepAccess(a,"params.video."+b)||e.deepAccess(a,"params."+b)}function b(a,b){return e.deepAccess(a,"params.banner."+b)||e.deepAccess(a,"params."+b)}function q(a){return r(a)&&k(a,"appId")&&k(a,"bidfloor")}function a(a){return Object.keys(Object(a.params.video)).filter(function(a){return z(n,
a)}).reduce(function(b,c){b[c]=a.params.video[c];return b},{})}function m(b,g){var f=c(b);f=f&&f.length?f[0]:{w:void 0,h:void 0};var m=a(b),n=k(b,"appId");b=k(b,"bidfloor");var q=g&&g.refererInfo&&g.refererInfo.referer;q=t(d.getConfig("pageUrl")||q,{decodeSearchAsString:!0});f={isPrebid:!0,appId:n,domain:document.location.hostname,id:e.getUniqueIdentifierStr(),imp:[{video:Object.assign({w:f.w,h:f.h,mimes:v},m),bidfloor:b,secure:"https:"===q.protocol?1:0}],site:{page:q.href,domain:q.hostname},device:{ua:navigator.userAgent,
language:navigator.language,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appvarv|googvarv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:"1"===navigator.doNotTrack||"1"===l.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack?1:0,js:1,geo:{}},regs:{},user:{},cur:["USD"]};f.regs.ext={gdpr:0};g&&g.gdprConsent&&(g=g.gdprConsent,m=g.consentString,f.regs.ext={gdpr:g.gdprApplies?
1:0},f.user.ext={consent:m});return f}var d=l.AV_biddersFactory.config,e=l.AV_biddersFactory.utils,z=l.AV_biddersFactory.includes,f=l.AV_biddersFactory.VIDEO,w=l.AV_biddersFactory.BANNER,t=l.AV_biddersFactory.parse,n=["mimes","playbackmethod","maxduration"],v=["video/mp4","application/javascript"],C="",B={code:"beachfront",supportedMediaTypes:[f,w],isBidRequestValid:function(a){var c;(c=q(a))||(c=(e.deepAccess(a,"mediaTypes.banner")||!r(a))&&b(a,"appId")&&b(a,"bidfloor"));return!!c},buildRequests:function(a,
b){var c=[];a.filter(function(a){return q(a)}).forEach(function(a){C=k(a,"appId");c.push({method:"POST",url:"//reachms.bfmio.com/bid.json?exchange_id="+C,data:m(a,b),bidRequest:a})});return c},interpretResponse:function(a,b){var d=b.bidRequest;a=a.body;if(r(d)){if(!a||!a.url||!a.bidPrice)return[];b=(b=c(d))&&b.length?b[0]:{w:void 0,h:void 0};e.deepAccess(d,"mediaTypes.video.context");return{requestId:d.bidId,bidderCode:B.code,vastUrl:a.url,cpm:a.bidPrice,width:b.w,height:b.h,creativeId:a.cmpId,renderer:null,
mediaType:f,currency:"USD",netRevenue:!0,ttl:300}}return a&&a.length?a.filter(function(a){return a.adm}).map(function(a){return{requestId:find(d,function(b){return b.adUnitCode===a.slot}).bidId,bidderCode:B.code,ad:a.adm,creativeId:a.crid,cpm:a.price,width:a.w,height:a.h,mediaType:w,currency:"USD",netRevenue:!0,ttl:300}}):[]},getUserSyncs:function(a,b,c){b=void 0===b?[]:b;c=void 0===c?{}:c;var d=[],g=c;c=g.gdprApplies;g=g.consentString;(b=find(b,function(a){return e.isArray(a.body)}))?a.iframeEnabled&&
b.body.filter(function(a){return a.sync}).forEach(function(a){d.push({type:"iframe",url:a.sync})}):a.iframeEnabled?d.push({type:"iframe",url:"//sync.bfmio.com/sync_iframe?ifg=1&id="+C+"&gdpr="+(c?1:0)+"&gc="+(g||"")+"&gce=1"}):a.pixelEnabled&&d.push({type:"image",url:"//sync.bfmio.com/syncb?pid=144&id="+C+"&gdpr="+(c?1:0)+"&gc="+(g||"")+"&gce=1"});return d}};l.AV_biddersFactory.register("beachfront",B)})(window);
(function(l){l.AVImaSDK=function(c){function r(a,b){var d=c.document.getElementsByTagName("body")[0],k=c.document.createElement("script");k.type="text/javascript";k.src=a;k.onload=b;"function"!==typeof k.onload&&(k.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||b()});d.appendChild(k)}function k(c,d,e,k,f,l){var m={};if(f&&f.AdParameters){if("string"===typeof f.AdParameters)try{m=JSON.parse(f.AdParameters.trim())}catch(n){q.dispatch("AdError");return}else"object"===
typeof f.AdParameters&&(m=f.AdParameters);m.slot=l.slot;m.videoSlot=b=l.videoSlot;m.width=c;m.height=d;m.lang=l.imaLang;m.imaAutoplay=l.imaAutoplay;m.imaMuted=l.imaMuted;m.imaiOSSkip=l.imaiOSSkip;m.imaVpaidMode=l.imaVpaidMode}r("https://imasdk.googleapis.com/js/sdkloader/ima3.js",function(){a.init(m)})}var b,q=new l.AVEvtMgr,a=new function(){function a(){if(!v){v=!0;for(var a in n)n[a].handler&&k.removeEventListener(a,n[a].handler),n[a].handler=null;setTimeout(function(){try{f&&(f.destroy(),f=null),
k&&(k.destroy(),k=null),l&&(l.destroy(),l=null)}catch(u){}},2E3);r=null}}function b(b){a();q.dispatch("AdError")}function e(d){function e(b){var d=function(e){q.dispatch(n[b].vpaidEvt);n[b].handler=d;if(b==c.google.ima.AdEvent.Type.IMPRESSION||b==c.google.ima.AdEvent.Type.STARTED)r=e.getAd();b!=c.google.ima.AdEvent.Type.COMPLETE&&b!=c.google.ima.AdEvent.Type.SKIPPED&&b!=c.google.ima.AdEvent.Type.USER_CLOSE&&b!=c.google.ima.AdEvent.Type.ALL_ADS_COMPLETED||setTimeout(function(){a()},400)};k.addEventListener(b,
d)}var g=new c.google.ima.AdsRenderingSettings;g.restoreCustomPlaybackStateOnAdBreakComplete=!1;g.loadVideoTimeout=2E4;k=d.getAdsManager({currentTime:0},g);k.addEventListener(c.google.ima.AdErrorEvent.Type.AD_ERROR,b);n[c.google.ima.AdEvent.Type.LOADED]={vpaidEvt:"AdLoaded"};n[c.google.ima.AdEvent.Type.IMPRESSION]={vpaidEvt:"AdImpression"};n[c.google.ima.AdEvent.Type.CLICK]={vpaidEvt:"AdClickThru"};n[c.google.ima.AdEvent.Type.FIRST_QUARTILE]={vpaidEvt:"AdVideoFirstQuartile"};n[c.google.ima.AdEvent.Type.MIDPOINT]=
{vpaidEvt:"AdVideoMidpoint"};n[c.google.ima.AdEvent.Type.THIRD_QUARTILE]={vpaidEvt:"AdVideoThirdQuartile"};n[c.google.ima.AdEvent.Type.COMPLETE]={vpaidEvt:"AdVideoComplete"};n[c.google.ima.AdEvent.Type.STARTED]={vpaidEvt:"AdVideoStart"};n[c.google.ima.AdEvent.Type.INTERACTION]={vpaidEvt:"AdInteraction"};n[c.google.ima.AdEvent.Type.LOG]={vpaidEvt:"AdLog"};n[c.google.ima.AdEvent.Type.PAUSED]={vpaidEvt:"AdPaused"};n[c.google.ima.AdEvent.Type.RESUMED]={vpaidEvt:"AdPlaying"};n[c.google.ima.AdEvent.Type.SKIPPED]=
{vpaidEvt:"AdSkipped"};n[c.google.ima.AdEvent.Type.DURATION_CHANGE]={vpaidEvt:"AdDurationChange"};n[c.google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]={vpaidEvt:"AdSkippableStateChange"};n[c.google.ima.AdEvent.Type.USER_CLOSE]={vpaidEvt:"AdUserClose"};n[c.google.ima.AdEvent.Type.VOLUME_CHANGED]={vpaidEvt:"AdVolumeChange"};n[c.google.ima.AdEvent.Type.ALL_ADS_COMPLETED]={vpaidEvt:"AdStopped"};for(var f in n)e(f);k.init(C.width,C.height,c.google.ima.ViewMode.NORMAL)}var k,f,l,r,n=[],v=!1,C;this.init=
function(a){C=a;try{a.imaVpaidMode&&"undefined"!==typeof c.google.ima.ImaSdkSettings.VpaidMode[a.imaVpaidMode]?(c.google.ima.settings.setVpaidMode(c.google.ima.ImaSdkSettings.VpaidMode.ENABLED),c.google.ima.settings.setVpaidMode(c.google.ima.ImaSdkSettings.VpaidMode[a.imaVpaidMode])):c.google.ima.settings.setVpaidMode(c.google.ima.ImaSdkSettings.VpaidMode.INSECURE)}catch(R){}var d=a.slot,g=a.videoSlot,k=a.lang;try{var m=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;
!k&&"string"===typeof m&&2<=m.length&&(k=m.substring(0,2));k&&"string"===typeof k&&2<=k.length&&c.google.ima.settings.setLocale(k)}catch(R){}l=new c.google.ima.AdDisplayContainer(d,g);f=new c.google.ima.AdsLoader(l);try{a.imaVpaidMode&&"undefined"!==typeof c.google.ima.ImaSdkSettings.VpaidMode[a.imaVpaidMode]&&f.getSettings().setVpaidMode(c.google.ima.ImaSdkSettings.VpaidMode[a.imaVpaidMode]),a.imaiOSSkip&&/iPhone|iPod|iPad/.test(navigator.userAgent)&&f.getSettings().setDisableCustomPlaybackForIOS10Plus(!0)}catch(R){}f.addEventListener(c.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,
e,!1);f.addEventListener(c.google.ima.AdErrorEvent.Type.AD_ERROR,b,!1);d=new c.google.ima.AdsRequest;d.adTagUrl=a.tagUrl;d.linearAdSlotWidth=a.width;d.linearAdSlotHeight=a.height;d.nonLinearAdSlotWidth=a.width;d.nonLinearAdSlotHeight=a.height;"undefined"!==typeof a.imaAutoplay&&d.setAdWillAutoPlay(a.imaAutoplay);"undefined"!==typeof a.imaMuted&&d.setAdWillPlayMuted(a.imaMuted);f.requestAds(d)};this.start=function(){if(k){l.initialize();try{k.start()}catch(B){}}};this.setVolume=function(a){k&&k.setVolume(a)};
this.getVolume=function(){if(k)return k.getVolume()};this.getDuration=function(){if(r)return r.getDuration()};this.getRemainingTime=function(){if(k)return k.getRemainingTime()};this.isLinear=function(){if(r)return r.isLinear()};this.stop=function(){if(k)return k.stop()};this.resize=function(a,b,d){if(k){var e=c.google.ima.ViewMode.NORMAL;"fullscreen"==d&&(e=c.google.ima.ViewMode.FULLSCREEN);return k.resize(a,b,e)}};this.pause=function(){if(k)return k.pause()};this.resume=function(){if(k)return k.resume()};
this.skip=function(){if(k)return k.skip()};this.getWidth=function(){if(r)return r.getWidth()};this.getHeight=function(){if(r)return r.getHeight()}};this.handshakeVersion=function(a){return"2.0"};this.initAd=function(a,b,c,l,f,q){k(a,b,c,l,f,q)};this.startAd=function(){setTimeout(function(){try{a.start()}catch(m){}},10)};this.getAdLinear=function(){try{return a.isLinear()}catch(m){}return!0};this.stopAd=function(b,c){try{return a.stop()}catch(e){}};this.getAdVolume=function(){try{return a.getVolume()}catch(m){}};
this.setAdVolume=function(c){b.volume=c;b.muted=!(0<c);try{a.setVolume(c)}catch(d){}};this.resizeAd=function(b,c,e){try{a.resize(b,c,e)}catch(z){}};this.pauseAd=function(){try{a.pause()}catch(m){}};this.resumeAd=function(){try{a.resume()}catch(m){}};this.expandAd=function(){};this.getAdExpanded=function(a){return!1};this.getAdSkippableState=function(a){return!1};this.collapseAd=function(){};this.skipAd=function(){try{a.skip()}catch(m){}};this.getAdWidth=function(){try{a.getWidth()}catch(m){}};this.getAdHeight=
function(){try{a.getHeight()}catch(m){}};this.getSkippableRemainingTime=function(){return this.getAdRemainingTime()};this.getAdRemainingTime=function(){try{return a.getRemainingTime()}catch(m){}};this.getAdDuration=function(){try{return a.getDuration()}catch(m){}};this.getAdCompanions=function(){return""};this.getIcons=function(){return""};this.getAdIcons=function(){return""};this.subscribe=function(a,b,c){q.subscribe(a,b,c)};this.unsubscribe=function(a,b){q.unsubscribe(a,b)}}})(window);
(function(l){var c={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",
AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdBid:"AdBid",AdError:"AdError"};l.aniviewPlayer=function(r){var k=this,b=5,q;l.AV_FlashOpen=this;var a=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||/CriOS/.test(navigator.userAgent);/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);
var m=/iPhone|iPod|iPad/.test(navigator.userAgent),d=/(android)/i.test(navigator.userAgent),e=!1;(function(z){function f(a){if(e){var b="track1.aniview.com";p&&p.trackdomain&&(b=p.trackdomain);(new Image).src="https://"+b+"/track?pid="+r.environmentVars.publisherId+"&cid="+r.environmentVars.channelId+"&e=c"+a+"&cb="+Date.now()}}function w(){h.preroll=p.preroll;h.midrollTimer&&(clearTimeout(h.midrollTimer),h.resetAdRequest=!0);h.midrollTimer=0;h.resetAdRequest&&(h.resetAdRequest=!1,setTimeout(function(){U(S)},
10))}function t(){for(var a=-1,b=null,c=0;c<h.readyToPlay.length;c++){var d=h.waterfall.data.tags[h.readyToPlay[c].id];if(d.playerSettings&&0<d.playerSettings.vi){d=1==d.playerSettings.vi?50:d.playerSettings.vi;d=Math.max(0,Math.min(100,d));var e=Math.max(0,e||Utils.getViewabilityPerc(p.slot));if(e>=d){a=c;break}}else{a=c;break}}if(0<=a)b=h.readyToPlay.splice(a,1)[0],h.startAdViTime=0;else if(h.players.length==h.readyToPlay.length)if(h.startAdViTime=h.startAdViTime||Date.now(),Date.now()-h.startAdViTime<
1E3*p.startadvitimeout)Utils.writeLog(Utils.logLevels.debug,"AS waiting for view"),setTimeout(function(){k.startAd(!0)},250);else for(Utils.writeLog(Utils.logLevels.debug,"Wait for view ended, closing"),c=0;c<h.readyToPlay.length;c++)R(h.readyToPlay[c]),U(S);return b}function n(){h.isFullScreen&&!Utils.getFSElement(h.slotWindow.document)&&(h.slotWindow.document.removeEventListener(Utils.getFSEvent(),n),h.isFullScreen=!1,k.resizeAd(h.fsRestoreSize.width,h.fsRestoreSize.height,"normal"))}function v(){if(h.waterfall.data.tUrl){var a=
"";p.ctinfo&&p.ctinfo.trackParams&&(a="&"+p.ctinfo.trackParams);return h.waterfall.data.tUrl+a}return""}function C(){p.autoplay&&0<h.preroll&&!h.prerollTimer&&0<p.prerolltimeout&&(h.prerollTimer=setTimeout(function(){h.prerollTimer=null;if(!h.player||h.player&&!h.player.impressionSet)h.preroll=0,T()},1E3*p.prerolltimeout))}function B(){return Utils.isAutoSound(p)}function u(){if(0==h.readyToPlay.length)return!0;for(var a=h.readyToPlay[0],b=0;b<h.players.length;b++)if(h.advertisements[h.players[b]].Ad.num<
a.num)return!1;return!0}function g(){function a(a){0==h.callStartTimer&&(0<h.callStartTimeout?(h.callStartTimer=setTimeout(function(){h.callStartTimer=0;k.startAd(a)},1E3*h.callStartTimeout),h.callStartTimeout=0):k.startAd(a))}1==p.autoplay&&1<=h.readyToPlay.length&&-1==h.playing&&(u()?(0!=h.startTimer&&(clearTimeout(h.startTimer),h.startTimer=0),a(!0)):0==h.startTimer&&(h.startTimer=setTimeout(function(){h.startTimer=0;-1==h.playing&&a(!0)},1E3*p.startaddelay)))}function D(a){a.addEventListener("ended",
function(){a.videoPlayerElement?(a.canVideoPlay=!0,a.videoPlayerElement.currentTime=-2,a.play()):(a.currentTime=0,a.pause(),setTimeout(function(){a.play()},100))})}function M(a){if(!a.videoCompleteCalled){a.videoCompleteCalled=!0;var b=!1;a.player&&(b=a.player.impressionSet);h.playing==a.id&&(h.playing=-1,h.player=null,"content"!=p.preloader.type&&(h.divPreloader.style.zIndex="99999"),h.divPreloader.style.display="block","content"==p.preloader.type&&b&&T());if(p.loopvideo)D(a.player.video);else if(b&&
a&&a.sndInterval&&(clearInterval(a.sndInterval),a.sndInterval=0),!h.stopAd)if(h.impCount>=p.maximp&&-1==h.playing)U(S);else if(h.runCount<p.vastretry&&1==h.preroll&&h.impressionSet){for(a=0;a<h.readyToPlay.length;a++)R(h.readyToPlay[a]);-1==h.playing&&U(S)}else 1==p.autoplay&&1<=h.readyToPlay.length&&-1==h.playing&&g(),h.advertisements.length>h.currentAd&&h.players.length<q?Y(h.currentAd):-1==h.playing&&0>=h.players.length&&U(S)}}function R(a){if(!a.cleanupPlayerCalled){0<a.sec3Timer&&(clearTimeout(a.sec3Timer),
a.sec3Timer=0);0<a.sec10Timer&&(clearTimeout(a.sec10Timer),a.sec10Timer=0);a.cleanupPlayerCalled=!0;a.vitTimer&&(clearInterval(a.vitTimer),a.vitTimer=0);if(h.playing==a.id){y.setPlayer(null);h.playing=-1;h.player=null;h.activeImpression=!1;if("js"==p.preloader.type||"Image"==p.preloader.type)y.gui.style.display="none",h.divPreloader.style.display="block";var b=!1;a.player&&(b=a.player.impressionSet);"content"==p.preloader.type&&b&&(h.divPreloader.style.display="block",T(!0))}if(a.player&&a.player.container&&
a.player.container.parentNode){h.players.splice(h.players.indexOf(a.num),1);var c=a.player.container;c.style.display="none";setTimeout(function(){Utils.writeLog(Utils.logLevels.defaultLevel,"cleanupPlayer remove container:"+a.id+":"+a.asid);if(a.player.slot&&a.player.frame){try{a.player.frame.parentNode.removeChild(a.player.frame)}catch(ja){}a.player.frame=null;try{a.player.container.removeChild(a.player.slot)}catch(ja){}}c.parentNode.removeChild(c)},3E3)}for(b=0;b<h.readyToPlay.length;b++)a.num==
h.readyToPlay[b].num&&h.readyToPlay.splice(b,1)}}function x(a,b){a="on"+a;if("function"==typeof k[a])k[a](b)}function G(a){function b(){h.adStoppedCalled||(h.adStoppedCalled=!0,x(c.AdStopped))}h.adStoppedCalled||("1"==p.tgt&&h.playerSlot&&(h.playerSlot.style.display="none"),a?(h.adStoppedTimer&&(clearTimeout(h.adStoppedTimer),h.adStoppedTimer=0),b()):h.adStoppedTimer||(h.adStoppedTimer=setTimeout(function(){h.adStoppedTimer=0;b()},h.adStoppedTimeout)))}function A(a){h.maximps[a]||(h.maximps[a]={imps:0});
h.maximps[a].imps++}function N(a){try{a.player&&a.player.api&&!B()&&!a.sndEnabled&&(a.noForceVol||(a.player.adVolume=0),a.player.video&&(a.player.video.volume=0))}catch(P){}}function Y(a){function b(a,b){if(a.impPostPixel&&p.tmf.adcontent)try{var c=a.player&&a.player.video&&a.player.video.src||"";"impression"==b&&c&&10<c.length&&(a.signature=Utils.getVideoSignature(c));var d={video:c,sig:a.signature,macros:h.macros};ma("POST",a.impPostPixel+b,!1).send(JSON.stringify(d))}catch(ka){}}function d(a){try{B()||
a.sndEnabled||(a.player.adVolume=0)}catch(ea){}}var e=p.slot.querySelector("#videoslot");h.currentAd++;var f=h.advertisements[a].Ad;f.active=!0;f.asid=h.advertisements[a].asid;f.num=a;f.sortOrder=h.advertisements[a].sortOrder;h.players.push(a);var l=document.createElement("div");var m="";f.tag&&"string"===typeof f.tag.url&&-1<f.tag.url.indexOf(".lkqd.net")&&(m="\r",f.vastPlayer&&(f.vastPlayer.opt2=!0));l.id="A"+m+"Vplayer"+a;l.style.position="absolute";1!=p.flashscale&&(l.style.top="-100000px");l.style.zIndex=
"1";"application/x-shockwave-flash"==f.mediaFiles[0].type?1!=p.flashscale?(l.style.width="640px",l.style.height="360px"):(l.style.width=0==p.width?"100%":""+p.width+"px",l.style.height=0==p.height?"100%":""+p.height+"px"):(l.style.width=p.width+"px",l.style.height=p.height+"px");e.appendChild(l);f.player.container=l;f.VideoComplete=!1;f.VideoStop=!1;f.player.reporter.track(f.player);f.parameters&&"string"==typeof f.parameters&&(f.parameters=f.parameters.trim());f.player.load(f.mediaFiles,f.parameters,
f.vastPlayer,f.trackingPixel,null,p.advideoslot?p.advideoslot:null,f.tag.type,f.tag).then(function(){});f.player.once(c.AdLoaded,function(){Utils.writeLog(Utils.logLevels.defaultLevel,"AdLoaded:"+f.id+":"+f.asid);var a=h.adLoaded;h.adLoaded=!0;if(Utils.isiOS()&&p.contentvideo&&p.nativevideo){var b=Utils.getOSVersion();b&&b.major&&("9"==b.major||"8"==b.major||"7"==b.major)&&this.video&&this.video.src&&this.video.addEventListener("webkitendfullscreen",function(){y.paused=!0})}for(b=b=0;b<h.readyToPlay.length&&
!(f.sortOrder<h.readyToPlay[b].sortOrder);b++);h.readyToPlay.splice(b,0,f);0==p.autoplay&&-1==h.playing?(y.bigPlay.style.display=p.showbigplay?"inline":"none",y.bigPlay.style.position="absolute",y.bigPlay.style.zIndex="99999",y.bigPlay.onclick=function(){h.divPreloader.style.zIndex="1";k.startAd();C()}):g();if("function"==typeof k.onAdLoaded&&!a)k.onAdLoaded()});f.player.on(c.AdDurationChange,function(){Utils.writeLog(Utils.logLevels.defaultLevel,c.AdDurationChange+":"+f.id+":"+f.asid);x(c.AdDurationChange)});
f.player.on(c.AdStarted,function(){d(f);Utils.writeLog(Utils.logLevels.defaultLevel,c.AdStarted+":"+f.id+":"+f.asid);h.sentAdStarted||(h.sentAdStarted=!0,x(c.AdStarted))});f.player.on(c.AdVideoStart,function(){d(f);Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVideoStart+":"+f.id+":"+f.asid);x(c.AdVideoStart)});f.player.once(c.AdImpression,function(){function a(){var a="",d="",e="",g=null,k="";h.impCount++;try{a=f.vastPlayer.vast.get("ads[0].creatives[0].videoClicks.clickThrough"),k=f.vastPlayer.bidCpm,
f.tag.playerSettings&&f.tag.playerSettings.ops&&(d=decodeURIComponent(f.tag.playerSettings.ops)),e=f.player&&f.player.video&&f.player.video.src||"",g=f.player&&f.player.video,y.showPreloader(!1)}catch(E){}p.topasopt&&-1==h.topAsid.indexOf(f.asid)&&h.topAsid.push(f.asid);f.impTime=Date.now();x(c.AdImpression,{asid:f.asid,clickThrough:a,ops:d,videoUrl:e,video:g,tagInfo:{url:"pb"==f.tag.type||"pl"==f.tag.type?f.tag.template:f.tag.url,type:f.tag.type,bidCpm:k,platform:f.tag.platform}});b(f,"impression");
A(f.asid);y.startSkipTimer(p.skiptimer,function(){x(c.AdSkippableStateChange)});if("js"==p.preloader.type||"Image"==p.preloader.type)y.gui.style.display="inline";h.impressionSet=!0;h.activeImpression=!0;f.player.impressionSet=!0;ba=0;h.tagRequestCount=0;h.callStartTimeout=p.startmidroll;h.myInterval=setInterval(function(){try{"-100000px"==h.waterfall.data.tags[f.id].Ad.player.container.style.top&&(clearInterval(h.myInterval),h.myInterval=0,G())}catch(E){clearInterval(h.myInterval),h.myInterval=0}},
1E3);h.AVcontent&&("content"==p.preloader.type&&(h.diVideoPreloader.style.display="none"),h.AVcontent.pauseAd(),h.AVcontent.style.display="none",h.AVcontent.style.zIndex="1");y.bigPlay&&(y.bigPlay.style.display="none");try{B()||f.sndEnabled||(f.player.adVolume=0,f.player.video&&(f.player.video.volume=0))}catch(E){}setTimeout(function(){N(f)},10);setTimeout(function(){N(f)},150);setTimeout(function(){N(f)},300);f.player.container.style.position="absolute";f.player.container.style.top="0px";f.player.container.style.zIndex=
"99999";f.player.container.style.background="black";f.player.container.style.width=0==p.width?"100%":""+p.width+"px";f.player.container.style.height=0==p.height?"100%":""+p.height+"px";y.setPlayer(f.vastPlayer,1!=f.sndEnabled,f);h.divPreloader.style.zIndex="1";h.divPreloader.style.display="none";p.hidecontrols||y.controls(!0);p.flashsound||B()||f.sndEnabled||(setTimeout(function(){N(f)},1),setTimeout(function(){N(f)},100),f.sndIntervalCounter=0,f.sndInterval=setInterval(function(){f.sndIntervalCounter++;
24<f.sndIntervalCounter?(clearInterval(f.sndInterval),f.sndInterval=0):f.player&&f.player.api&&!B()&&!f.sndEnabled?N(f):(clearInterval(f.sndInterval),f.sndInterval=0)},250));I("impression",f.asid,{video:f.player.video?f.player.video.src:null});h.vastCache=0;Q[F]={tc:null,tcc:0};p.tmf.timing&&(f.sec3remaining=3E3,f.sec10remaining=1E4,f.seccurrent=Date.now(),f.sec3Timer=setTimeout(function(){f.sec3Timer=0;f.player.fireType("sec3");f.sec3remaining=0},3E3),f.sec10Timer=setTimeout(function(){f.sec10Timer=
0;f.player.fireType("sec10");f.sec10remaining=0},1E4));B()&&setTimeout(function(){f.player.adVolume=.75;y.muted=!1},10);h.mobileControlsTimer&&0<h.mobileControlsTimer&&(clearTimeout(h.mobileControlsTimer),h.mobileControlsTimer=0,h.mobileControlsOn=!1);if(f.tag.playerSettings&&0<f.tag.playerSettings.vit){var l=f.tag.playerSettings.vit,m=f.tag.playerSettings.vitp||50,n=0;f.vitTimer=setInterval(function(){Utils.getViewabilityPerc()>=m&&n++;250*n/1E3>=l&&(f.player.fireType("adViImpression"),clearInterval(f.vitTimer),
f.vitTimer=0)},250)}}d(f);Utils.writeLog(Utils.logLevels.defaultLevel,c.AdImpression+":"+f.id+":"+f.asid);Utils.reportDuduPixel(p.publisherid,p.channelid,"impression");h.playing!=f.id?(f.player.once("AdVideoStart",function(){h.playing==f.id&&a()}),f.player.pauseAd()):a()});f.player.on(c.AdVolumeChange,function(){Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVolumeChange+":"+f.id+":"+f.asid);"function"==typeof k.onAdVolumeChange&&this.impressionSet&&(k.adVolume=this.adVolume,"undefined"!==typeof k.adVolume&&
0<=k.adVolume&&(y.muted=1E-4>=k.adVolume),f.vastPlayer&&!f.vastPlayer.skipping&&x(c.AdVolumeChange));try{f.muting||B()||f.sndEnabled||!(0==f.impTime&&15>f.muteCount||15>f.impMuteCount&&Date.now()-f.impTime<1E3*p.mutetime)||(f.muteCount++,f.impTime&&f.impMuteCount++,setTimeout(function(){if(!f.muting&&!f.sndEnabled){f.muting=!0;try{f.player.adVolume=0}catch(qa){}f.muting=!1}},1),Utils.writeLog(Utils.logLevels.debug,c.AdVolumeChange+":force mute"))}catch(qa){}});f.player.on(c.AdVideoFirstQuartile,function(){Utils.writeLog(Utils.logLevels.defaultLevel,
c.AdVideoFirstQuartile+":"+f.id+":"+f.asid);x(c.AdVideoFirstQuartile);I("firstQuartile",f.asid)});f.player.on(c.AdVideoMidpoint,function(){Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVideoMidpoint+":"+f.id+":"+f.asid);x(c.AdVideoMidpoint);I("midpoint",f.asid)});f.player.on(c.AdVideoThirdQuartile,function(){Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVideoThirdQuartile+":"+f.id+":"+f.asid);x(c.AdVideoThirdQuartile);I("thirdQuartile",f.asid)});f.player.on(c.AdVideoComplete,function(){f.active&&
(Utils.writeLog(Utils.logLevels.defaultLevel,c.AdVideoComplete+":"+f.id+":"+f.asid),x(c.AdVideoComplete),I("complete",f.asid),h.myInterval&&(clearInterval(h.myInterval),h.myInterval=0),p.adfoldermode?setTimeout(function(){f.player.video.addEventListener("ended",function(){x(c.AdVideoComplete)})},250):p.loopvideo?D(f.player.video):p.lastframe||(R(f),"1"==p.tgt?(G(),setTimeout(function(){f.active&&f.player.stopAd()},50)):M(f)))});f.player.once(c.AdError,function(){if(f.active){f.active=!1;Utils.writeLog(Utils.logLevels.defaultLevel,
"2.AdError:"+f.id+":"+f.asid);I("error",f.asid);R(f);if(f.player.impressionSet&&(x(c.AdError),"1"==p.tgt)){G();return}M(f)}});f.player.once(c.AdSkipped,function(){f.active&&(f.active=!1,Utils.writeLog(Utils.logLevels.defaultLevel,"AdSkipped:"+f.id+":"+f.asid),I("skip",f.asid),h.myInterval&&(clearInterval(h.myInterval),h.myInterval=0),R(f),f.player.impressionSet&&(f.vastPlayer.skipping||x(c.AdSkipped),f.player.stopAd()),"1"==p.tgt&&f.player.impressionSet?G(!0):M(f))});f.player.once(c.AdStopped,function(){f.active&&
(f.active=!1,Utils.writeLog(Utils.logLevels.defaultLevel,"AdStopped:"+f.id+":"+f.asid),I("stop",f.asid),f.VideoStop=!0,p.lastframe||(R(f),h.playing==f.id&&h.myInterval&&(clearInterval(h.myInterval),h.myInterval=0),"1"==p.tgt&&f.player.impressionSet?G(!0):M(f)))});f.player.on(c.AdClickThru,function(){x(c.AdClickThru);I("click",f.asid)});f.player.on(c.AdPaused,function(){x(c.AdPaused);y.paused=!0;p.tmf.timing&&(0<f.sec3Timer&&(f.sec3remaining=Math.max(f.sec3remaining-(Date.now()-f.seccurrent),1),clearTimeout(f.sec3Timer),
f.sec3Timer=0),0<f.sec10Timer&&(f.sec10remaining=Math.max(f.sec10remaining-(Date.now()-f.seccurrent),1),clearTimeout(f.sec10Timer),f.sec10Timer=0))});f.player.on(c.AdPlaying,function(){d(f);x(c.AdPlaying);y.paused=!1;p.tmf.timing&&(0<f.sec3remaining&&0==f.sec3Timer&&(f.sec3Timer=setTimeout(function(){f.sec3Timer=0;f.player.fireType("sec3");f.sec3remaining=0},f.sec3remaining)),0<f.sec10remaining&&0==f.sec10Timer&&(f.sec10Timer=setTimeout(function(){f.sec10Timer=0;f.player.fireType("sec10");f.sec10remaining=
0},f.sec10remaining)),f.seccurrent=Date.now())})}function H(){q=h.advertisements.length<b?h.advertisements.length:b;for(var a=0;a<q;a++)Y(a)}function aa(){function a(a,b){if(p.tmf.reqbid&&n[b][a]&&0<n[b][a].length){var c=v()+"&"+l.AV_player.waterfall.data.gEvents[a],d=n[b][a].join(",");c=c+"&e="+b+"&cb="+Date.now()+"&asid="+encodeURIComponent(d);n[b][a]=[];(new Image).src=c}}function b(b,c,d,e,f,h){if(""!=c)if(e)if(b)n[h][f]||(n[h][f]=[]),n[h][f].push(b),14<=n[h][f].length&&a(f,h),"request"==h&&I("request",
b);else{if(d){for(var g in n[h])n[h].hasOwnProperty(g)&&a(g,h);if("request"==h)for(var k in l.AV_player.waterfall.data.events)l.AV_player.waterfall.data.events.hasOwnProperty(k)&&Utils.bufferTrackingPixel("vpaid",v(),l.AV_player.waterfall.data.events[k],!1)}}else if(b&&(m.push(b),I("request",b)),(d||10==m.length)&&0<m.length){m.sort();var p="";m.forEach(function(a,b){0!=b&&(p+=",");p+=a});c=l.AV_player.waterfall.data.requestPixel+"request&cb="+Date.now()+"&asid="+encodeURIComponent(p);m.length=0;
(new Image).src=c}}function c(){b(null,l.AV_player.waterfall.data.requestPixel,!0,!0,null,"bid");e=[];h.advertisements=h.waterfall.data.tags.filter(function(a){return 1==a.AdBid});h.advertisements.sort(function(a,b){var c=parseInt(a.priority||"1"),d=parseInt(b.priority||"1"),e=a.playerSettings&&0<a.playerSettings.cbtic?a.playerSettings.cbtic:0,f=b.playerSettings&&0<b.playerSettings.cbtic?b.playerSettings.cbtic:0;-1<h.topAsid.indexOf(a.asid)&&(c=0);-1<h.topAsid.indexOf(b.asid)&&(d=0);a=parseFloat(a.price||
"0");b=parseFloat(b.price||"0");if(d==c)return e>f?-1:e<f?1:b>a?1:b<a?-1:1==Math.floor(2*Math.random())?1:-1;if(d>c)return-1;if(d<c)return 1});for(var a=0;a<h.advertisements.length;a++)h.advertisements[a].sortOrder=a;Utils.writeLog(Utils.logLevels.debug,"Waterfall: ",h.waterfall.data);Utils.writeLog(Utils.logLevels.debug,"Bids: ",h.advertisements);1<=h.advertisements.length?H():("content"==p.preloader.type&&T(),U(S))}function d(a){function b(){var a=Date.now();return a-1E10*Math.floor(a/1E10)}function c(a,
c){var d=a.search(c)+c.length;var e=-1==a.indexOf("&",d)?a.length:a.indexOf("&",d);a=a.replace(a.slice(d,e),"");a=a.trim();c=a.search(c)+c.length;return[a.slice(0,c),b(),a.slice(c)].join("")}var d=a.url||"";if("vast"==a.type){if(-1==d.search(/\[AVC_RANDOM\]/i)?-1==d.search(/cb=/i)?-1==d.indexOf(".rubiconproject.")&&(d=-1==d.indexOf("?")?d+"?cbb="+b():d+"&cbb="+b()):d=c(d,"cb="):d=d.replace("[AVC_RANDOM]",b()),p.ctinfo&&p.contentplayer&&d)try{d=d.replace("[AVC_VIDEOURL]",p.ctinfo.url||""),d=d.replace("[AVC_DURATION]",
p.ctinfo.duration||""),d=d.replace("[AVC_VIDEOID]",p.ctinfo.id||""),d=d.replace("[AVC_TITLE]",p.ctinfo.title||"")}catch(Aa){}}else if(p.ctinfo&&p.contentplayer&&("pl"==a.type||"pb"==a.type)&&"string"===typeof a.template)try{a.template=a.template.replace("%5BAVC_VIDEOURL%5D",encodeURIComponent(p.ctinfo.url||"")),a.template=a.template.replace("%5BAVC_DURATION%5D",p.ctinfo.duration||""),a.template=a.template.replace("%5BAVC_VIDEOID%5D",encodeURIComponent(p.ctinfo.id||"")),a.template=a.template.replace("%5BAVC_TITLE%5D",
encodeURIComponent(p.ctinfo.title||""))}catch(Aa){}return d}var e=[],f=0,g=[],k=document.getElementById(p.position);k||(k=p.slot);ca||(ca=document.createElement("div"),ca.id="anibid",k.appendChild(ca));var m=[],n={request:{},bid:{}};k=h.vastConfig;for(var q=!1,r=0;r<h.waterfall.data.tags.length;r++)if(h.waterfall.data.tags[r].AdBid=!1,h.waterfall.data.tags[r].reqFiltered||h.waterfall.data.tags[r].reqImpsFiltered)f++,f>=h.waterfall.data.tags.length&&c();else{if(Utils.isMobile()&&h.waterfall.data.tags[r]&&
"string"===typeof h.waterfall.data.tags[r].url&&0<h.waterfall.data.tags[r].url.indexOf("rocket10.adspirit.net")){var t="1";try{Utils.isiOS()?10<=Utils.getOSVersion().major&&(t="2"):Utils.isAndroid()&&53<=Utils.getChromeVersion()&&(t="2")}catch(E){}if("1"==t){f++;f>=h.waterfall.data.tags.length&&c();continue}}t=l.AV_player.waterfall.data.tags[r];v()&&t.trackingParams&&(t.impressionTrackingPixel=v()+"&"+t.trackingParams+"&e=impression&cb="+Date.now(),t.trackingPixel=v()+"&"+t.trackingParams+"&e=");
var u="",w="";if(l.AV_player.waterfall.data.gEvents||l.AV_player.waterfall.data.events)q=!0;l.AV_player.waterfall.data.gEvents&&l.AV_player.waterfall.data.gEvents[t.groupId]?(u=v()?v()+"&"+l.AV_player.waterfall.data.gEvents[t.groupId]:l.AV_player.waterfall.data.gEvents[t.groupId],w=t.nasid):(u=l.AV_player.waterfall.data.requestPixel,w=t.asid);u?b(w,u,!1,q,t.groupId,"request"):I("request",w);h.waterfall.data.tags[r].url||(h.waterfall.data.tags[r].url="");h.waterfall.data.tags[r].fixedUrl=d(h.waterfall.data.tags[r]);
h.waterfall.data.tags[r].AdBid=null;e[r]=new z(ca,p.clickfunc);e[r].id=r;if("googima"==h.waterfall.data.tags[r].type||0==h.waterfall.data.tags[r].url.toLowerCase().indexOf("https://googleads.g.doubleclick.net/pagead/ads?"))h.waterfall.data.tags[r].fixedUrl="https://ima3vpaid.appspot.com/?adTagUrl="+encodeURIComponent(h.waterfall.data.tags[r].url)+"&type=all";if(-1<h.waterfall.data.tags[r].fixedUrl.indexOf("[AVC_INVIEW]"))try{t=0;u=!1;var x=Utils.getViewability(p.slot);x&&(t=Math.floor(100*x.ratio));
u=1*(50<t);h.waterfall.data.tags[r].fixedUrl=h.waterfall.data.tags[r].fixedUrl.replace("[AVC_INVIEW]",u);h.waterfall.data.tags[r].fixedUrl=h.waterfall.data.tags[r].fixedUrl.replace("[AVC_INVIEWPERC]",t)}catch(E){}e[r].load(h.waterfall.data.tags[r],k,h.waterfall.data.trackers,I,p.tgt).then(function(a){}).catch(function(a){f++;Utils.writeLog(Utils.logLevels.defaultLevel,"1.AdError:"+a);f>=h.waterfall.data.tags.length&&c()});e[r].on("AdBid",function(a,d,e,k,m,n){if(l.AV_player.waterfall.data.gEvents&&
l.AV_player.waterfall.data.gEvents[m.groupId]){var r=l.AV_player.waterfall.data.gEvents[m.groupId]+"&nasid="+encodeURIComponent(m.nasid);var P=v()+"&"+r+"&e="}else m.trackingPixel&&(P=m.trackingPixel);P&&p.tmf.reqbid&&(q?b(m.nasid,l.AV_player.waterfall.data.requestPixel,!1,q,m.groupId,"bid"):(new Image).src=P+"bid&cb="+Date.now());a.asTrackingInfo={params:r,base:v()};g={id:k.id,player:a,mediaFiles:d,parameters:e,vastPlayer:k,trackingPixel:P,tag:m,impTime:0,muteCount:0,impMuteCount:0};l.AV_player.waterfall.data.pUrl&&
l.AV_player.waterfall.data.gEvents&&m.groupId&&m.nasid&&(g.impPostPixel=l.AV_player.waterfall.data.pUrl+"&"+l.AV_player.waterfall.data.gEvents[m.groupId]+"&nasid="+encodeURIComponent(m.nasid)+"&e=");a.dispatchWaterfallApiEvent=I;a.asid=h.waterfall.data.tags[k.id].asid;Utils.writeLog(Utils.logLevels.defaultLevel,"AdBid:"+k.id+":"+d[0].type);h.waterfall.data.tags[k.id].Ad=g;h.waterfall.data.tags[k.id].AdBid=!0;f++;f>=h.waterfall.data.tags.length&&c()})}b(null,l.AV_player.waterfall.data.requestPixel,
!0,q,null,"request")}function ha(a,b){a="https://player.aniview.com/beacon/"+a+".txt?cb="+Date.now();if("string"===typeof h.authTxt)setTimeout(function(){b(h.authTxt)},10);else{var c=ma("GET",a,!1);"undefined"!==typeof c.onreadystatechange?c.onreadystatechange=function(){4!=c.readyState||200!=c.status&&304!=c.status||b(c.responseText)}:c.onload=function(){b(c.responseText)};c.send()}}function X(a){fa--;if(0<fa&&7>h.err500){var b=100;if(500<=a||0==a)h.err500++,b=1<h.err500?5E3*h.err500:1E3*h.err500;
setTimeout(function(){U(S)},b)}}function W(){if(!(0<h.impCount)&&h.waterfall&&h.waterfall.data&&h.waterfall.data.trackers&&0<h.waterfall.data.trackers.length)for(var a=0;a<h.waterfall.data.trackers.length;a++)if("supplyError"==h.waterfall.data.trackers[a].e)if(2==h.waterfall.data.trackers[a].t){var b=document.createElement("script");b.src=h.waterfall.data.trackers[a].url;try{h.slotWindow.document.getElementsByTagName("body")[0].appendChild(b)}catch(ua){}}else(new Image).src=h.waterfall.data.trackers[a].url}
function U(a,b){function c(a){if(a&&"1"==p.tgt&&"undefined"!==typeof a.vpct){if(Date.now()-a.vpct<1E3*p.vpaidfreq)return!1;a.vpct=Date.now()}return!0}function d(a,b){if(b){for(var c=0;c<a.data.tags.length;c++)a.data.tags[c].asid=a.data.tags[c].asid||b.asid,a.data.tags[c].clickThroughUrl=a.data.tags[c].clickThroughUrl||"",a.data.tags[c].impressionTrackingPixel="https:"+b.impressionTrackingPixel+"&cb="+Date.now(),a.data.tags[c].price=a.data.tags[c].price||"0",a.data.tags[c].tagTimeout=a.data.tags[c].tagTimeout||
"20000",a.data.tags[c].trackingPixel="",a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_HOST]",h.host||""),a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_ASID]",a.data.tags[c].asid),a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_CID]",p.channelid),a.data.tags[c].impressionTrackingPixel=a.data.tags[c].impressionTrackingPixel.replace("[AV_SUBID]",h.macros.AV_SUBID||"");
a.data.totalTimeout="20000";a.data.requestPixel="";return a}}function e(a,b){if(!h.stopAd)try{if(0<fa)if("string"===typeof a?(5>a.length&&(a="{}"),m=JSON.parse(a)):m=a,m&&"1"==m.blacklisted)Utils.writeLog(Utils.logLevels.defaultLevel,"Serving blacklisted:");else{if("undefined"!==typeof p.waterfall&&("string"===typeof p.waterfall&&d(m,P),a=m,"object"===typeof h.macros)){"undefined"===typeof h.macros.AV_USERAGENT&&navigator.userAgent&&(h.macros.AV_USERAGENT=encodeURIComponent(navigator.userAgent));
for(var c=0;c<a.data.tags.length;c++)if("string"===typeof a.data.tags[c].url)try{for(var e in h.macros)h.macros.hasOwnProperty(e)&&"AV_"==e.substring(0,3)&&(a.data.tags[c].url=a.data.tags[c].url.replace("["+e+"]",h.macros[e]));a.data.tags[c].url=a.data.tags[c].url.replace("[AV_RANDOM]",Date.now().toString());a.data.tags[c].url=a.data.tags[c].url.replace("[AV_TIMESTAMP]",Date.now().toString())}catch(ra){}}e=!1;p.pbjstag&&"object"===typeof p.pbjstag&&("string"===typeof p.pbjstag.vastXml&&m&&"object"==
typeof m&&m.data&&(m.data.tags=[{type:"vastxml",vastxml:p.pbjstag.vastXml,tagTimeout:2E4}],e=!0),p.pbjstag=null);a=m;if("object"==typeof a&&a.data&&a.data.tags&&0<a.data.tags.length){var f=a.data.tags;c=Q;for(var g=0;g<f.length;g++){var k=!1;if(f[g].playerSettings&&"undefined"!==typeof f[g].playerSettings.maxRPM&&0<f[g].playerSettings.maxRPM)if(null==c.requestFC&&(c.requestFC={}),"undefined"===typeof c.requestFC[f[g].asid])c.requestFC[f[g].asid]={maxRPM:f[g].playerSettings.maxRPM,lc:Date.now()},f[g].reqFiltered=
!1;else{var l=c.requestFC[f[g].asid];l.maxRPM&&0!=l.maxRPM||(l.maxRPM=6E4);var n=6E4/l.maxRPM;Date.now()-l.lc<n?k=f[g].reqFiltered=!0:(f[g].reqFiltered=!1,"undefined"!==typeof f[g].playerSettings.maxRPM&&(c.requestFC[f[g].asid].maxRPM=f[g].playerSettings.maxRPM),c.requestFC[f[g].asid].lc=Date.now())}!k&&f[g].playerSettings&&("undefined"!==typeof f[g].playerSettings.mips&&0<f[g].playerSettings.mips||"undefined"!==typeof f[g].playerSettings.mrqs&&0<f[g].playerSettings.mrqs)&&(h.maximps[f[g].asid]?(h.maximps[f[g].asid].reqs++,
0<f[g].playerSettings.mips&&h.maximps[f[g].asid].imps>=f[g].playerSettings.mips&&(f[g].reqImpsFiltered=!0),0<f[g].playerSettings.mrqs&&h.maximps[f[g].asid].reqs>f[g].playerSettings.mrqs&&(f[g].reqImpsFiltered=!0)):(h.maximps[f[g].asid]={mips:f[g].playerSettings.mips,imps:0,mrqs:f[g].playerSettings.mrqs,reqs:1},f[g].reqImpsFiltered=!1))}}h.waterfall=a;p.block&&h.waterfall&&h.waterfall.data&&!a.data.block&&(h.waterfall.data.block=p.block);b&&Q[F]&&(Q[F].tc=a,Q[F].tcc=e?1:b);!h.nladstarted&&h.waterfall&&
h.waterfall.data&&h.waterfall.data.nltags&&0<h.waterfall.data.nltags.length&&(K(p.contentvideo,p.contentadscontainer,h.waterfall.data.nltags),h.nladstarted=!0);h.waterfall&&h.waterfall.data&&(h.waterfall.data.sd&&(h.sd=h.waterfall.data.sd),"object"===typeof h.waterfall.data.c&&(h.waterfall.data.c.post&&(p.postevt=!0),p.networkid=h.waterfall.data.c.n));try{if(h.waterfall&&h.waterfall.data&&h.waterfall.data.trackers&&0<h.waterfall.data.trackers.length){var q=h.waterfall.data.trackers;for(b=0;b<q.length;b++)if("inventory"==
q[b].e&&!h.inventoryTracker||"inventoryRequest"==q[b].e)if(1!=q[b].t&&q[b].t)if(2==q[b].t){var r=document.createElement("script");r.src=q[b].url;document.body.appendChild(r)}else 3==q[b].t&&(r=document.createElement("iframe"),r.src=q[b].url,document.body.appendChild(r));else(new Image).src=q[b].url}}catch(ra){}h.inventoryTracker=!0;if("function"===typeof p.updatewaterfall)try{p.updatewaterfall(h.waterfall.data.tags)}catch(ra){}h.waterfall&&h.waterfall.data&&h.waterfall.data.tags&&0<h.waterfall.data.tags.length?
(aa(),h.err500=0):(h.runCount=9999999,X())}else X()}catch(ra){X()}}function f(a){if(0<fa){var b="cb="+Date.now();b=-1<a.indexOf("?")?"&"+b:"?"+b;var c=h.sd?"&"+h.sd:"";Utils.getProtocol();g=ma("GET",a+b+c,"http:"==Utils.baseProtocol||"https:"==Utils.baseProtocol);g.requesthandled=!1;"undefined"===typeof g.onreadystatechange?(g.onprogress=function(){},g.ontimeout=function(){},g.onload=function(){e(g.responseText,h.tagCacheMaxCount)},g.onerror=function(){X(g.status)}):g.onreadystatechange=function(){4==
g.readyState&&(200==g.status||304==g.status?e(g.responseText,h.tagCacheMaxCount):X(g.status))};g.send()}else X()}if(!h.stopAd)if(h.startAdViTime=0,h.currentAd=0,h.active){Utils.writeLog(Utils.logLevels.debug,"Requesting new waterfall "+h.tagRequestCount);var g,m;F=p.position+p.publisherid+p.channelid;var n=!1,q=p.midrolltime;L&&0==p.preroll&&.1<p.midrolltime&&0<p.midrolldelay&&(n=!0,q=p.midrolldelay);L=!1;C();var r=h.impressionSet;if(r){0<h.preroll&&h.preroll--;if(0==h.preroll&&(n=!0,0==p.loop&&"content"!=
p.preloader.type)){Utils.writeLog(Utils.logLevels.debug,"stop waterfall preroll done");return}h.impressionSet=!1}if(h.tagRequestCount>p.vastretry||h.runCount>=p.maxrun||h.impCount>=p.maximp){0<h.preroll&&(h.preroll=0);h.tagRequestCount=0;ba++;n=ba>p.errorlimit||h.runCount>=p.maxrun||h.impCount>=p.maximp;if("function"===typeof k.onAdError)k.onAdError({errorlimit:n},"1"==p.tgt);n&&W();if("1"==p.tgt){Utils.bufferTrackingPixel("vpaid",l.AV_player.waterfall&&l.AV_player.waterfall.data&&v(),null,!0);G(!0);
return}if(n){b=h.stopWaterfall=!0;(null==p.preloader.type||p.passbackpriority)&&p.passbackurl&&(p.passbackpriority&&(b=!1,h.AVcontent&&h.AVcontent.pauseAd()),h.divPreloader.style.width="100%",h.divPreloader.style.height="100%",h.divPreloader.style.zIndex="99999",h.divPreloader.style.position="absolute",q=document.createElement("iframe"),q.id="ani_passback",q.style.height=p.height+"px",q.style.width=p.width+"px",q.style.overflow="hidden",q.setAttribute("scrolling","no"),q.style.margin="0px 0px 0px 0px",
q.style.padding="0px, 0px, 0px, 0px",h.divPreloader.innerHTML="",h.divPreloader.style.background="#000",h.divPreloader.appendChild(q),r=document.createElement("script"),r.type="text/javascript",r.src=p.passbackurl,q.appendChild(r));b&&T();b="maximp";ba>p.errorlimit?b="errorlimit":h.runCount>=p.maxrun&&(b="maxrun");Utils.writeLog(Utils.logLevels.debug,"stop waterfall "+b);return}n=!0}if(0==h.preroll&&"content"==p.preloader.type&&(T(),!p.midrolltime)){0<p.preroll&&(h.resetAdRequest=!0);Utils.writeLog(Utils.logLevels.debug,
"stop waterfall wait for content end");return}if(n&&0<p.midrolltime)"function"===typeof p.midrollfunc?setTimeout(function(){p.midrollfunc(function(){U(S,!0)})},10):h.midrollTimer=setTimeout(function(){U(S,!0)},1E3*q);else{if(!b&&!r&&1==p.mode&&"function"!==typeof p.waterfall&&(b=ba*p.vastretry+h.tagRequestCount,10<b&&(b=1E3*Math.floor(b/10),b>V))){V=b;setTimeout(function(){U(a,!0)},b);return}h.tagRequestCount++;h.useFlashProxy=!1;h.runCount++;Q=function(){var a=h.slotWindow;"undefined"===typeof a&&
(a=l);"1"==p.tgt&&(a=Utils.getTopWnd(a));"undefined"===typeof a.storageAni&&(a.storageAni={});"undefined"===typeof a.storageAni[F]&&(a.storageAni[F]={tc:null,tcc:0,vpct:0});"undefined"===typeof a.storageAni.requestFC&&(a.storageAni.requestFC=null);return a.storageAni}();var P=null;if("1"==p.tgt){if(!c(Q[F])){X(-1);return}}else(new Image).src=J+"inventoryRequest&cb="+Date.now();if("function"===typeof k.onInventoryRequest)k.onInventoryRequest();if("undefined"===typeof p.waterfall||"string"===typeof p.waterfall){if(Q[F]&&
Q[F].tc&&0<Q[F].tcc){Q[F].tcc--;var t=Q[F].tc}else t=null;t?setTimeout(function(){e(t)},1):"string"===typeof p.waterfall?("//"==p.waterfall.substring(0,2)&&(p.waterfall=Utils.getProtocol()+p.waterfall),ha(p.publisherid,function(a){try{var b=JSON.parse(a);h.authTxt=a}catch(E){b={domains:[]}}P=b;for(a=0;a<b.domains.length;a++){var c=p.waterfall.indexOf(b.domains[a].domain);if(7==c||8==c){f(p.waterfall);return}}X()})):f(a)}else"function"!==typeof p.waterfall&&"object"!==typeof p.waterfall||ha(p.publisherid,
function(a){try{var b=JSON.parse(a);h.authTxt=a}catch(Da){b={domains:[]}}P=b;if("function"===typeof p.waterfall)p.waterfall(function(a,c){for(var f=0;f<b.domains.length;f++)if(c==b.domains[f].domain){setTimeout(function(){a=d(a,b);e(a)},10);return}X()});else{a=p.waterfall;var c=b;if(a.data&&a.data.tags){for(var f=0;f<a.data.tags.length;f++){for(var g=!1,k=0;k<c.domains.length;k++){var l=a.data.tags[f].url.indexOf(c.domains[k].domain);if(7==l||8==l){g=!0;break}}if(g&&(c.key&&c.value||c.keys)&&((k=
Utils.getUrlParameters(a.data.tags[f].url))&&k[c.key]&&0==k[c.key].indexOf(c.value)||(g=!1),k&&"object"===typeof c.keys))for(l=0;l<c.keys.length;l++)for(var m in c.keys[l])if(k[m]&&-1<k[m].indexOf(c.keys[l][m])){g=!0;break}g||(a.data.tags.splice(f,1),f--)}a=d(a,b);e(a)}else X()}})}}else Utils.writeLog(Utils.logLevels.debug,"Stop requesting new waterfall - not active"),G(!0),Utils.writeLog(Utils.logLevels.debug,"stop waterfall not active")}function I(a,b,c){if(l.AV_player.waterfall&&l.AV_player.waterfall.data&&
"function"===typeof l.AV_player.waterfall.data.onEvent)l.AV_player.waterfall.data.onEvent(a,b,c);if("function"===typeof k.onAdEvent)k.onAdEvent(a,b,c)}function ma(a,b,c){var d=new XMLHttpRequest;"withCredentials"in d?(d.open(a,b,!0),1==c&&(d.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(d=new XDomainRequest,d.open(a,b)):d=null;return d}function ia(a,b,d){if(!h.stopAd&&h.active){h.nlc&&(h.nlc.style.visibility="hidden");var f=new z(ca,!1),e={asid:"Content",type:"pl",platform:6,template:encodeURIComponent('{"tagUrl":"'+
d[0].url+'","overlay":"true"}'),impressionTrackingPixel:v()+"&"+d[0].trackingParams+"&e=impression&cb="+Date.now(),initAdTimeout:2E4,startAdTimeout:2E4};e.impressionTrackingPixel=e.impressionTrackingPixel.replace("tgt=0","tgt=4");f.load(e,{nljs:!0,js:!0},[],function(){}).then(function(a){}).catch(function(a){});f.on("AdBid",function(f,e,g,k,l){function m(){n||(n=!0,f.stopAd(),setTimeout(function(){if(b&&f.frame){try{b.removeChild(ad.player.frame)}catch(oa){}f.frame=null;try{for(;b.firstChild;)b.removeChild(b.firstChild)}catch(oa){}}},
3E3))}var n=!1;f.once(c.AdLoaded,function(){var a=this;setTimeout(function(){a.start()},50)});f.once(c.AdImpression,function(){h.nlc&&(h.nlc.style.visibility="visible");setTimeout(function(){m()},1E3*p.nonlinearruntime);Utils.writeLog(Utils.logLevels.debug,"Nonlinear impression"+d[0].asid)});f.once(c.AdError,function(){m();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdError"+d[0].asid)});f.once(c.AdSkipped,function(){m();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdSkipped"+d[0].asid)});
f.once(c.AdStopped,function(){m();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdStopped"+d[0].asid)});f.once(c.AdVideoComplete,function(){m();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdVideoComplete"+d[0].asid)});f.once(c.AdClosed,function(){m();Utils.writeLog(Utils.logLevels.debug,"Nonlinear AdClosed"+d[0].asid)});f.load(e,g,this,null,b,a).then(function(){f.reporter.track(f)})})}}function K(a,b,c){if(a&&b&&c&&0<c.length){var d="";a.paused||(d=a.src,ia(a,b,c));a.addEventListener("playing",
function(){d!=this.src&&(d=this.src,ia(a,b,c))});a.addEventListener("loadedmetadata",function(){})}}function T(b){function c(a,b){b=a&&(-1<a.indexOf("aniview.")||-1<a.indexOf("ani-view.")||b);if(l.AV_player.contentPixel&&2>l.AV_player.AVcontent.currentTime&&(l.AV_player.contentPixel=!1,b&&Utils.reportDuduPixel(l.AV_player.config.publisherid,l.AV_player.config.channelid,"content"),"function"==typeof k.onContentImpression))k.onContentImpression(a)}if(!(h.stopAd||"content"!=p.preloader.type||!h.active||
0<h.preroll&&!b))if(p.autoplay||0!=p.preloader.autoplay){b=1==p.preloader.nativeVideo;var f=m&&a||d&&!(a&&53<=Utils.getChromeVersion())||1==p.preloader.imageVideo,e=0;p.nonnativecontent&&(f=!0);"56ea678d181f46c76f8b45fb"!=p.publisherid&&"5857b9e90b8ee887ed01e880"!=p.publisherid&&"55b78633181f4603178b4568"!=p.publisherid||!d||(f=!0);"5857b9e90b8ee887ed01e880"!=p.publisherid&&"55b78633181f4603178b4568"!=p.publisherid||!m||(f=!0);if(h.playContent)y.player!==h.AVcontent&&(!B()&&0<h.AVcontent.volume&&
(h.AVcontent.volume=0,h.AVcontent.muted=!0,y.muted=!0,h.AVcontent.setAttribute("muted",!0)),y.setPlayer(h.AVcontent,!(0<h.AVcontent.volume&&!h.AVcontent.muted))),y.controls(!p.hidecontrols&&(!p.hidemobilecontrols&&Utils.isMobile()||h.mobileControlsOn||!Utils.isMobile())),h.AVcontent.style.display="block","content"==l.AV_player.config.preloader.type&&0==l.AV_player.config.autoplay&&"string"===typeof l.AV_player.config.preloader.poster&&10<l.AV_player.config.preloader.poster.length||(l.AV_player.divPreloader.style.zIndex=
"0"),h.AVcontent.style.zIndex="0",p.autoplay?("content"==p.preloader.type&&(h.diVideoPreloader.style.display="block"),h.AVcontent.resumeAd()):(p.showbigplay&&(y.bigPlay.style.display="inline"),y.bigPlay.style.position="absolute",y.bigPlay.style.zIndex="99999",y.controls(!1),y.bigPlay.onclick=function(){p.slot.querySelector("#imgpreloader").style.display="none";p.autoplay=!0;y.bigPlay.style.display="none";"content"==p.preloader.type&&(h.diVideoPreloader.style.display="block");h.AVcontent.resumeAd();
y.controls(!p.hidecontrols&&(!p.hidemobilecontrols&&Utils.isMobile()||h.mobileControlsOn||!Utils.isMobile()));C()});else{var g=!0,n=null,q=null,r=null;h.playContent=!0;h.AVcontent=p.slot.querySelector("#AVcontent");h.AVcontent.asid="Content";if(f)b=h.AVcontent,h.AVcontent=AniviewImagePlayer.createAniviewVideoTag(),h.AVcontent.asid="Content",h.diVideoPreloader=h.AVcontent,b.parentNode.replaceChild(h.AVcontent,b),h.AVcontent.style.position="absolute",h.AVcontent.style.width="100%",h.AVcontent.style.height=
"100%",h.AVcontent.onclick=b.onclick,n=function(){h.active&&!h.activeImpression&&(y.player!==h.AVcontent&&y.setPlayer(h.AVcontent),y.controls(!p.hidecontrols&&(!p.hidemobilecontrols||h.mobileControlsOn)),h.divPreloader.style.zIndex="0",h.AVcontent.style.zIndex="0","function"===typeof h.AVcontent.startAd&&h.AVcontent.startAd(),h.AVcontent.play(),c(l.AV_player.AVcontent.src,!0))},q=function(){h.AVcontent.pause()},r=function(){h.AVcontent.muted=!0},h.AVcontent.isAudioReady=function(){return 1==h.AVcontent.audioReady};
else if(/iPhone|iPod|iPad/.test(navigator.userAgent)&&!b){var t=!0;var u=!1;var v=null;var la=!1,z=!1,D=!0,A=document.createElement("audio");h.AVcontent.addEventListener("canplay",function(){t=u=!0});var F=Date.now();h.contentInterval=setInterval(function(){var a=Date.now(),b=(a-F)/1E3;F=a;!g&&u&&0<h.AVcontent.buffered.length&&(h.AVcontent.buffered.end(h.AVcontent.buffered.length-1)>e?(e+=b,t&&(t=!1,h.AVcontent.currentTime=e),e>h.AVcontent.duration&&p.loop&&(e=0,G(),setTimeout(function(){n()},1E3))):
h.AVcontent.currentTime=e)},40);n=function(){h.active&&!h.activeImpression&&g&&!la&&(y.player!==h.AVcontent&&y.setPlayer(h.AVcontent),y.controls(!p.hidecontrols&&(!p.hidemobilecontrols||h.mobileControlsOn)),h.divPreloader.style.zIndex="0",h.AVcontent.style.zIndex="0",v!=h.AVcontent.src&&(v=h.AVcontent.src,e=0,D=!0,z=!1,A.src=v,A.load()),z&&!D&&(A.currentTime=e,A.play()),g=!1,t=!0,c(l.AV_player.AVcontent.src))};q=function(){z&&(A.currentTime=e,A.pause());t=g=!0};r=function(){var a=function(){e=A.currentTime;
g=la=!1;A.removeEventListener("playing",a)};var b=function(){e=0;A.play();A.removeEventListener("canplaythrough",b)};(A.muted=D)?A.pause():z?(A.currentTime=e,A.play()):(z=!0,g||(la=g=!0,e=0,A.addEventListener("playing",a,!1),A.addEventListener("canplaythrough",b,!1),A.load()))};h.AVcontent.setContentVolume=function(a){D=0==a?!0:!1;r()};h.AVcontent.onvolumechange=function(){}}else if(/(android)/i.test(navigator.userAgent)&&!b){var E=!0;t=!0;u=!1;v=null;h.AVcontent.addEventListener("canplay",function(){t=
u=!0});F=Date.now();h.contentInterval=setInterval(function(){if(E){var a=Date.now(),b=(a-F)/1E3;F=a;!g&&u&&0<h.AVcontent.buffered.length&&(h.AVcontent.buffered.end(h.AVcontent.buffered.length-1)>e?(e+=b,t&&(t=!1,h.AVcontent.currentTime=e),e>h.AVcontent.duration&&p.loop&&(e=0,G(),setTimeout(function(){n()},1E3))):h.AVcontent.currentTime=e)}},40);n=function(a){h.active&&!h.activeImpression&&g&&(y.player!==h.AVcontent&&y.setPlayer(h.AVcontent),y.controls(!p.hidecontrols&&(!p.hidemobilecontrols||h.mobileControlsOn)),
h.divPreloader.style.zIndex="0",h.AVcontent.style.zIndex="0",a&&E&&(E=!1),g=!1,E?(v!=h.AVcontent.src&&(v=h.AVcontent.src,e=0),t=!0):(h.AVcontent.style.zIndex="0",h.AVcontent.play()),c(l.AV_player.AVcontent.src))};q=function(a){a&&E&&(E=!1);g=!0;E?t=!0:h.AVcontent.pause()};r=function(){E&&(E=!1,h.AVcontent.currentTime=e=0);h.AVcontent.muted=!h.AVcontent.muted;g?h.AVcontent.pause():(h.AVcontent.style.zIndex="0",h.AVcontent.play())};h.AVcontent.setContentVolume=function(a){1!=a||g||h.AVcontent.play()};
h.AVcontent.onvolumechange=function(){E&&(E=!1,h.AVcontent.currentTime=e=0);h.AVcontent.muted=1E-6<h.AVcontent.volume?!1:!0}}else h.AVcontent.onvolumechange=function(){h.AVcontent.muted=1E-6<h.AVcontent.volume?!1:!0},n=function(){h.active&&!h.activeImpression&&(g=!1,setTimeout(function(){g||(y.setPlayer(h.AVcontent,!(0<h.AVcontent.volume&&!h.AVcontent.muted)),p.hidecontrols||y.controls(!0),h.divPreloader.style.zIndex="0",h.AVcontent.style.zIndex="0",h.AVcontent.play())},300),c(l.AV_player.AVcontent.src))},
q=function(){g=!0;h.AVcontent.pause()},r=function(){h.AVcontent.muted=!h.AVcontent.muted};h.AVcontent.volume=B()?1:0;h.AVcontent.pauseAd=function(a){q(a);if(!h.contentPaused&&(h.contentPaused=!0,"function"==typeof k.onContentPaused))k.onContentPaused()};h.AVcontent.resumeAd=function(){if(!h.AVcontent.userPaused&&(y.showPreloader(!1),h.AVcontent.src||G(),n(),h.AVcontent.style.display="block",h.contentPaused&&(h.contentPaused=!1,"function"==typeof k.onContentPlaying)))k.onContentPlaying()};h.AVcontent.addEventListener("timeupdate",
function(){h.AVcontent.adDuration=h.AVcontent.duration;h.AVcontent.adRemainingTime=h.AVcontent.duration-h.AVcontent.currentTime;if(1>h.AVcontent.adRemainingTime&&0==h.contentPixel){if("function"==typeof k.onContentComplete)k.onContentComplete();h.AVcontent.volume=0;y.player===h.AVcontent&&(y.muted=!0);B()?(h.AVcontent.volume=1,h.AVcontent.removeAttribute("muted"),y.muted=!1):h.AVcontent.setAttribute("muted",!0);if(!p.loop){h.active=!1;h.contentInterval&&clearInterval(h.contentInterval);h.contentInterval=
0;h.contentPixel=!0;h.AVcontent.pauseAd(!0);return}h.AVcontent.currentTime=0;h.contentPixel=!0;e=0;"function"===typeof h.AVcontent.init&&h.AVcontent.init(p.preloader.fullframe);if(ba<=p.errorlimit&&(0<p.preroll&&0==p.midrolltime&&w(),0<h.preroll&&!h.stopWaterfall)){y.showPreloader(!0);h.AVcontent.pauseAd(!0);h.AVcontent.style.display="none";return}y.player===h.AVcontent&&y.playPauseClick();G();setTimeout(function(){n()},1E3);p.postroll||p.loop&&0==h.preroll&&setTimeout(function(){},100)}t=!0});var G=
function(){if("undefined"===typeof h.vidPreloaders)"function"===typeof h.AVcontent.init&&h.AVcontent.init(p.preloader.fullframe),h.AVcontent.src=p.preloader.link;else{var a=h.vidPreloaders.getPreloader();"function"===typeof h.AVcontent.init&&h.AVcontent.init(p.preloader.fullframe);h.AVcontent.src=a.url;h.diVideoPreloader.onclick=function(){if(p.autoplay){if("function"==typeof k.onBannerClick)k.onBannerClick();p.hidemobilecontrols&&!h.mobileControlsOn?(h.mobileControlsOn=!0,y.controls(!0),h.mobileControlsTimer=
setTimeout(function(){h.mobileControlsOn=!1;h.mobileControlsTimer=0;y.controls(!1)},1E3*p.mobilecontrolsdelay)):""!=p.preloader.clickthrough&&""!=a.clickthrough&&(l.open(a.clickthrough,"blank"),x("ContentClick"))}else y.bigPlay.onclick()}}h.AVcontent.load();B()?(h.AVcontent.volume=1,h.AVcontent.muted=!1,y.muted=!1,h.AVcontent.removeAttribute("muted")):h.AVcontent.setAttribute("muted",!0);h.AVcontent.ready=!0;y.setPlayer(h.AVcontent,!(0<h.AVcontent.volume&&!h.AVcontent.muted));y.controls(!p.hidecontrols&&
(!p.hidemobilecontrols&&Utils.isMobile()||h.mobileControlsOn||!Utils.isMobile()));"content"==l.AV_player.config.preloader.type&&0==l.AV_player.config.autoplay&&"string"===typeof l.AV_player.config.preloader.poster&&10<l.AV_player.config.preloader.poster.length||(l.AV_player.divPreloader.style.zIndex="0");h.AVcontent.style.zIndex="0";p.autoplay?n():y.controls(!1)};h.AVcontent.style.display="block";h.AVcontent.style.zIndex="0";G()}}else y.setPlayer({ready:!0,resumeAd:function(){T();y.showPreloader(!1)}},
!0)}var V=0,J="",Q,F,h,p;z.vpaidSWFLocation="";k.startAd=function(a){if(!h.stopAd&&!h.wfPause&&(Utils.writeLog(Utils.logLevels.debug,"startAd Request"),(!p.autoplay||a&&-1==h.playing)&&h.adLoaded))if(p.autoplayloop&&(p.autoplay=!0),y.bigPlay.style.display="none",1<=h.readyToPlay.length&&-1==h.playing){var b=t();b&&(h.playing=b.id,h.player=h.waterfall.data.tags[b.id].Ad.player,setTimeout(function(){b.player.start()},10))}else-1<h.playing&&p.autoplayloop&&h.waterfall.data.tags[h.playing].Ad.player.start()};
k.setWaterfallState=function(a,b,c){if(a==h.wfPause&&(h.wfPause=!a,!h.wfPause&&b&&k.startAd(!0),h.wfPause&&b&&-1<h.playing)){h.waterfall.data.tags[h.playing].Ad.player.pauseAd();if(h.waterfall.data.tags[h.playing].Ad.player.impressionSet&&"function"==typeof k.onAdSkipped)k.onAdSkipped();h.waterfall.data.tags[h.playing].Ad.player.stopAd()}};k.seekAd=function(a){0<=l.AV_player.playing&&l.AV_player.waterfall.data.tags[l.AV_player.playing].Ad.player.seekAd(a)};k.setAdVolume=function(a){if(!(h.stopAd&&
0<a)&&(Utils.writeLog(Utils.logLevels.debug,"setAdVolume request "+a),0<a?y&&(y.muted=!1):y&&(y.muted=!0),0<=h.playing)){var b=h.waterfall.data.tags[h.playing].Ad;b&&b.player&&(p.autosound&&0==a&&(p.autosound=!1),0<a&&(b.sndEnabled=!0,b.player.sndEnabled=!0),b.player.adVolume=a,b.mediaFiles&&b.mediaFiles[0]&&"application/x-shockwave-flash"==b.mediaFiles[0].type&&b.player.api&&(0<a?(b.player.api.setSystemVolume(1),b.sndInterval&&(clearInterval(b.sndInterval),b.sndInterval=0)):b.player.api.setSystemVolume(0)))}};
k.getAdVolume=function(){return 0<=h.playing&&(Utils.isAutoSound(p)||h.waterfall.data.tags[h.playing].Ad.player.sndEnabled)?h.waterfall.data.tags[h.playing].Ad.player.adVolume:0};k.pauseAd=function(){Utils.writeLog(Utils.logLevels.debug,"pauseAd request");0<=h.playing&&h.waterfall.data.tags[h.playing].Ad.player.pauseAd()};k.resumeAd=function(){h.stopAd||(Utils.writeLog(Utils.logLevels.debug,"resumeAd request"),0<=h.playing&&h.waterfall.data.tags[h.playing].Ad.player.resumeAd())};k.getAdDuration=function(){return 0<=
h.playing?h.waterfall.data.tags[h.playing].Ad.player.adDuration:-2};k.getAdCompanions=function(){if(0<=h.playing)try{return h.waterfall.data.tags[h.playing].Ad.player.adCompanions||""}catch(la){}return""};k.getAdRemainingTime=function(){return 0<=h.playing?h.waterfall.data.tags[h.playing].Ad.player.adRemainingTime:-2};k.resizeAd=function(a,b,c){Utils.writeLog(Utils.logLevels.debug,"resizeAd: "+a+":"+b+":"+c);c||(c=Utils.getFSElement(h.slotWindow.document)?"fullscreen":"normal");"fullscreen"==c&&(l.orientation&&
90!==l.orientation&&-90!==l.orientation?(a=screen.height,b=screen.width):(a=screen.width,b=screen.height));if("undefined"!==typeof l.AV_player&&l.AV_player){if(p.contentplayer&&"fullscreen"==c)l.AV_player&&(p.width=a,p.height=b),h.player&&"function"===typeof h.player.resizeAd&&(h.player.resizeAd(a,b,c),h.player.container.style.width=a+"px",h.player.container.style.height=b+"px",h.player.video&&"function"===typeof h.player.video.resize&&h.player.video.resize(a,b,c));else{if("fullscreen"==c){if(Utils.isiOS()){"undefined"!==
typeof h.player&&h.player&&h.player.video&&h.player.impressionSet&&"function"===typeof h.player.video.resize&&h.player.video.resize(a,b,c);return}if(!Utils.getFSElement(h.slotWindow.document)){h.fsRestoreSize={width:p.width,height:p.height};Utils.setFSState(p.slot,!0);a=screen.width;b=screen.height;h.isFullScreen=!0;var d=Utils.getFSEvent();d&&h.slotWindow.document.addEventListener(d,n)}}"undefined"!==typeof l.AV_player&&l.AV_player&&(p.width=a,p.height=b);"undefined"!==typeof h.player&&h.player&&
"function"===typeof h.player.resizeAd&&(h.player.resizeAd(a,b,c),h.player.container.style.width=a+"px",h.player.container.style.height=b+"px",h.player.video&&"function"===typeof h.player.video.resize&&h.player.video.resize(a,b,c));"undefined"!==typeof h.AVcontent&&h.AVcontent&&(h.AVcontent.style.width=a+"px",h.AVcontent.style.height=b+"px")}"undefined"!==typeof y&&y&&y.resize(a,b)}};k.getContentPaused=function(){return h.contentPaused};k.pauseContent=function(){var a=y.getPlayer();a&&"Content"==a.asid&&
(a.pauseAd(),y.paused=!0)};k.resumeContent=function(){var a=y.getPlayer();a&&"Content"==a.asid&&(p.slot.querySelector("#imgpreloader").style.display="none",p.autoplay=!0,y.bigPlay.style.display="none","content"==p.preloader.type&&(h.diVideoPreloader.style.display="block"),y.controls(!p.hidecontrols&&(!p.hidemobilecontrols&&Utils.isMobile()||h.mobileControlsOn||!Utils.isMobile())),a.resumeAd(),y.paused=!1)};k.setContentVolume=function(a){var b=y.getPlayer();b&&"Content"==b.asid&&(b.volume=a,1E-6>a?
(y.muted=!0,b.muted=!0):(y.muted=!1,b.muted=!1))};k.stopAd=function(){Utils.vcmgr.reset(p.advideoslot);h.stopAd=!0;0<=h.playing&&(h.waterfall.data.tags[h.playing].Ad.player.pauseAd(),h.waterfall.data.tags[h.playing].Ad.player.stopAd());setTimeout(function(){y.closeClick()},1E3)};k.skipAd=function(){0<=h.playing&&h.waterfall.data.tags[h.playing].Ad.player.skipAd()};var L=!0,na=!1,fa=9999,ba=0,y,ca;r&&r.environmentVars&&r.environmentVars.debug&&(e=!0);(function(a){function c(a){"string"===typeof a&&
(a=a.trim());a=Utils.getUrlParameters(a);for(var b in a)a.hasOwnProperty(b)&&("AV_PUBLISHERID"==b?d.publisherid=a[b]:"AV_CHANNELID"==b?d.channelid=a[b]:("true"==a[b]&&(a[b]=!0),"false"==a[b]&&(a[b]=!1),d[b]=a[b],b&&"AV_"==b.substring(0,3)&&(d.ref1=d.ref1+b+"="+encodeURIComponent(a[b])+"&")))}var d={hd:!1,vastretry:0,errorlimit:5,maximp:9999,maxrun:9999,maxcrun:9999,tgt:"0",vpaidpriority:"js",format:"all",cdnurl:Utils.httpsReplace("http://data1.aniview.com/"),adserverdomain:"go1.aniview.com",autoplay:!0,
autoplayloop:!0,muted:!0,share:!1,soundbutton:!0,pausebutton:!0,closebutton:!1,closeevent:!1,fullscreen:!1,phone:"",logo:!0,ref1:"",showbigplay:!0,timelinemode:"overlay",hidecontrols:!0,hidemobilecontrols:!1,mobilecontrolsdelay:5,basejsurl:"https://player.aniview.com/script/6.1/",preroll:0,midroll:!0,midrolltime:0,midrolldelay:0,flashsslproxy:!1,flashscale:!1,pc:!0,maxp:5,autosound:!1,startaddelay:3,startmidroll:0,startdelay:0,mutetime:4,clickfunc:!1,tm:"",tmf:{},replayfunc:null,nativevideo:!1,customcss:"",
prerolltimeout:0,logoclick:!1,autosdk4:!1,nonlinearruntime:15,topasopt:!1,showpreloader:!0,startadvitimeout:3,vpaidfreq:5,postevt:!1,antihjck:!1,ctinfo:{},minbti:20,tagcache:10,preloader:{type:null,link:null,clickthrough:null,poster:"",fullframe:!1,random:!0}};h=l.AV_player={active:!0,currentAd:0,playing:-1,readyToPlay:[],vastCache:10,tagCacheMaxCount:10,advertisements:[],standbyTime:1E3,waterfall:void 0,player:[],players:[],mode:-1,vastretry:0,tagRequestCount:0,preroll:0,midrolltime:0,midrollTimer:0,
postroll:!1,css:"/cnn_new/css/gui.css",slotWindow:null,adLoaded:!1,impressionSet:!1,useFlashProxy:!1,contentPixel:!0,contentPaused:!0,startTimer:0,callStartTimeout:0,callStartTimer:0,err500:0,impCount:0,runCount:0,crunCount:0,adStoppedTimeout:3E3,topAsid:[],maximps:{},thePlayer:k,wfPause:!1,vastConfig:{vpaidPriority:"js",swf:!0,js:!0,html5:!0},config:a};p=h.config;for(var f in h.config)if(h.config.hasOwnProperty(f)){var e=f.toLowerCase();"environmentvars"!=e&&(d[e]=h.config[f])}for(f in p.environmentVars)p.environmentVars.hasOwnProperty(f)&&
(e=f.toLowerCase(),d[e]=p.environmentVars[f],"true"==d[e]&&(d[e]=!0),"false"==d[e]&&(d[e]=!1));c();a.creativeData&&a.creativeData.AdParameters&&c(a.creativeData.AdParameters);h.vastConfig.vpaidPriority=d.vpaidpriority;1==d.preroll?d.preroll=1:0==d.preroll&&(d.preroll=0);1==d.postroll?d.postroll=1:0==d.postroll&&(d.postroll=0);0==d.preroll&&0==d.midrolltime&&(d.midrolltime=.1);"56b89b31181f466b388b4575"==d.publisherid||"5c6e9cfa073ef416fd2b0112"==d.publisherid||"58d7dc4328a0611e7a4535da"==d.publisherid?
(h.tagCacheMaxCount=1,1==d.tgt&&(h.tagCacheMaxCount=0)):h.tagCacheMaxCount=d.tagcache;"undefined"===typeof d.position&&(d.position=d.slot.id);b=d.maxp=Math.max(1,Math.min(8,d.maxp));Utils.logLevel=d.loglevel;"object"==typeof d.slot&&"object"==typeof d.slot.ownerDocument?h.slotWindow=d.slot.ownerDocument.defaultView||d.slot.ownerDocument.parentWindow:"object"==typeof d.videoSlot&&"object"==typeof d.videoSlot.ownerDocument?h.slotWindow=d.videoSlot.ownerDocument.defaultView||d.videoSlot.ownerDocument.parentWindow:
"http:"==location.protocol||"https:"==location.protocol?h.slotWindow=l:(h.slotWindow=Utils.getTopWindow(),h.slotWindow||(h.slotWindow=l));d.format&&("json"==d.format&&(d.format="all"),"all"!==d.format&&(-1==d.format.indexOf("js")&&(l.AV_player.vastConfig.js=!1),-1==d.format.indexOf("swf")&&(l.AV_player.vastConfig.swf=!1),-1==d.format.indexOf("html5")&&(l.AV_player.vastConfig.html5=!1)));if(d.lastframe||d.loopvideo)d.mode=-1,d.loop=!1,d.skip=!1;5<d.vastretry&&(d.vastretry=5);1==d.mode&&(d.errorlimit=
99);d.loop&&-1==d.mode&&(d.mode=0);d.preloader&&d.preloader.type&&(e=d.preloader.type.toLowerCase(),d.preloader.type="content"==e?"content":"js"==e?"js":"image"==e?"Image":null);if("content"==d.preloader.type&&"object"===typeof d.preloader.link&&"string"===typeof d.preloader.link[0])for(h.vidPreloaders={current:0,random:!0,preloaders:[],addPreloader:function(a){this.preloaders.push(a)},getPreloader:function(){if(0==this.preloaders.length)return{url:"",clickthrough:""};var a=this.random?Math.floor(Math.random()*
this.preloaders.length):this.current;this.current++;this.current>=this.preloaders.length&&(this.current=0);return this.preloaders[a]}},h.vidPreloaders.random=d.preloader.random,e=0;e<d.preloader.link.length;e++)h.vidPreloaders.addPreloader({url:d.preloader.link[e],clickthrough:d.preloader.clickthrough.length>e?d.preloader.clickthrough[e]:""});""==d.preloader.link&&(d.preloader.type=null);"content"==d.preloader.type&&(d.preloader.poster=d.preloader.poster||"");"undefined"!==typeof d.waterfall&&(d.tgt=
2);"1"==d.tgt&&(d.autoplay=!1,5==d.maxp&&(d.maxp=2),3==d.startaddelay&&(d.startaddelay=.1));d.tmf.vpaid=""==d.tm||-1<d.tm.indexOf("v");d.tmf.reqbid=""==d.tm||-1<d.tm.indexOf("r");d.tmf.adcontent=""==d.tm||-1<d.tm.indexOf("c");d.tmf.timing=""==d.tm||-1<d.tm.indexOf("t");"1"==d.tgt&&-1<["5a79675728a0617aac25a4a7","5a7ffe0428a0611eb6013b21"].indexOf(d.publisherid)&&(d.tmf.vpaid=!1);if(d.wl&&!d.customlogo){e="";var g;d.customlogo={};d.customlogo.link=d.basejsurl+"wl/"+d.wl+"/logo.png";d["wl.ltxt"]&&(e=
d["wl.ltxt"]);"vi"==d.wl&&(g="https://www.vi.ai");d["wl.llnk"]&&(g=d["wl.llnk"]);d.customlogo.clickthrough=g;d.customlogo.text=e}d.adserverdomain&&"go1.aniview.com"!=d.adserverdomain&&d.wl&&(e=d.adserverdomain.indexOf("."),-1<e&&(g=d.adserverdomain.substring(0,e),e=d.adserverdomain.substring(e,100),d.trackdomain=d.trackdomain||g+"t"+e,d.keydomain=d.keydomain||g+"k"+e,d.adddomain=d.adddomain||g+"a"+e,d.cdnurl1=d.cdnurl1||Utils.getProtocol()+"//"+g+"d"+e+"/"));d.adddomain=d.adddomain||"add1.aniview.com";
d.keydomain=d.keydomain||"cdn1.aniview.com";d.trackdomain=d.trackdomain||"track1.aniview.com";d.setvastretry=d.vastretry;h.baseJsUrl=d.basejsurl;h.callStartTimeout=d.startdelay;Utils.isMobile()||(d.hidemobilecontrols=!1);p=h.config=d;"56ea678d181f46c76f8b45fb"!=p.publisherid||a.environmentVars&&a.environmentVars.adServerDomain||(p.adserverdomain="premiumsrv.aniview.com");p.advideoslot&&(p.contentslot=p.advideoslot.parentNode,Utils.vcmgr.init(p.advideoslot),b=p.maxp=1,Utils.writeLog(Utils.logLevels.defaultLevel,
"Video element passed from content player. autosound:"+p.autosound));"1"==p.usevslot&&(b=p.maxp=1,!p.width&&p.AV_WIDTH&&(p.width=p.AV_WIDTH),!p.height&&p.AV_HEIGHT&&(p.height=p.AV_HEIGHT));p.flashsslproxy=!1;p.contentplayer&&(p.slot&&p.slot.parentNode&&(p.slot.parentNode.av_maximps||(p.slot.parentNode.av_maximps=h.maximps),h.maximps=p.slot.parentNode.av_maximps),p.showpreloader=!1,p.contentadscontainer&&p.contentadscontainer.parentNode&&p.contentadscontainer.parentNode.parentNode&&"nonl-container"==
p.contentadscontainer.parentNode.parentNode.className&&(h.nlc=p.contentadscontainer.parentNode.parentNode,h.nlc.style.visibility="hidden"));p.antihjck&&Utils.initScrollIntoViewHandler(h.slotWindow,p.slot);Utils.getConsent();Utils.isAndroid()&&Utils.checkNativeVideo(function(a){a&&(p.nativevideo=!0,p.nativetest=!0)});if(p.forcenewcdn||!p.cdnurl1&&"add1.aniview.com"===p.adddomain&&"cdn1.aniview.com"===p.keydomain)p.newcdn=!0;w()})(r);(function(a){var b=AV_player.slotWindow.document.getElementsByTagName("head")[0];
b||(b=AV_player.slotWindow.document.getElementsByTagName("body")[0]);b||(b=AV_player.config.slot);if(!h.cssTag){l.AV_player.cssTag=!0;var c=document.createElement("style"),d=l.aniviewCSS+" "+p.customcss;c.type="text/css";c.id="av_css_id";c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d));var e=AV_player.slotWindow.document.getElementById("av_css_id");e&&e.innerHTML==d||b.appendChild(c);setTimeout(function(){a()},10)}})(function(){if(!na){f(5);na=!0;var a=l.aniviewGetGui(),
b=document.createElement("div");h.playerSlot=b;"1"==p.tgt&&(b.style.top="0px",b.style.width="100%",b.style.height="100%",b.style.position="absolute");r.environmentVars.slot.appendChild(b);b.innerHTML=a;b.id=r.environmentVars.slot.id+"gui";a=b.querySelector("#av-container");h.divPreloader=b.querySelector("#imgpreloader");"content"==p.preloader.type&&(h.diVideoPreloader=b.querySelector("#AVcontent"),h.diVideoPreloader.style.width="100%",h.diVideoPreloader.style.height="100%",h.diVideoPreloader.style.display=
"none",h.diVideoPreloader.style.position="absolute");p.preloader&&("Image"==p.preloader.type&&""!=p.preloader.link||"content"==p.preloader.type&&"undefined"!==typeof p.preloader.poster)&&(b="Image"==p.preloader.type?p.preloader.link:p.preloader.poster,h.divPreloader.style.width="100%",h.divPreloader.style.height="100%",b&&""!=b&&(h.divPreloader.style.background="url('"+b+"') center center no-repeat"),p.preloader.poster&&(h.divPreloader.style.backgroundSize="contain"),"content"==l.AV_player.config.preloader.type&&
0==l.AV_player.config.autoplay&&"string"===typeof l.AV_player.config.preloader.poster&&10<l.AV_player.config.preloader.poster.length&&(l.AV_player.divPreloader.style.zIndex="1"),h.divPreloader.style.position="absolute",""!=p.preloader.clickthrough&&"Image"==p.preloader.type&&(h.divPreloader.style.zIndex="99999",h.divPreloader.style.cursor="pointer",h.divPreloader.onclick=function(){if("function"==typeof k.onBannerClick)k.onBannerClick();l.open(p.preloader.clickthrough,"blank");x("ContentClick")}),
"content"==p.preloader.type&&(h.diVideoPreloader.onclick=function(){if(p.autoplay){if("function"==typeof k.onBannerClick)k.onBannerClick();p.hidemobilecontrols&&!h.mobileControlsOn?(h.mobileControlsOn=!0,y.controls(!0),h.mobileControlsTimer=setTimeout(function(){h.mobileControlsOn=!1;h.mobileControlsTimer=0;y.controls(!1)},1E3*p.mobilecontrolsdelay)):""!=p.preloader.clickthrough&&(l.open(p.preloader.clickthrough,"blank"),x("ContentClick"))}else y.bigPlay.onclick()}));if("js"==p.preloader.type){h.divPreloader.style.width=
"100%";h.divPreloader.style.height="100%";h.divPreloader.style.zIndex="99999";h.divPreloader.style.position="absolute";b=document.createElement("iframe");b.id="ani_passback";h.divPreloader.style.position="absolute";b.style.height=p.height+"px";b.style.width=p.width+"px";b.style.border="none";b.style.overflow="hidden";b.setAttribute("scrolling","no");b.setAttribute("frameborder","0");b.style="margin=0";b.style="Padding=0";h.divPreloader.innerHTML="";h.divPreloader.appendChild(b);var c=document.createElement("script");
c.type="text/javascript";c.src=p.preloader.link;b.appendChild(c)}a={container:a,videoSlotName:r.position,autoplay:p.autoplay,muted:p.muted,share:p.share,sound:p.soundbutton,playPause:p.pausebutton,fullscreen:p.fullscreen,phone:p.phone,logo:p.logo,lastframe:p.lastframe,showBigPlay:p.showbigplay,close:p.closebutton,skip:p.skip,skipTimer:p.skiptimer,skipText:p.skiptext,responsive:null==r.width&&null==r.height,width:p.width,height:p.height,hideControls:p.hidecontrols,timelineMode:p.timelinemode,timelineChange:p.timelinechange,
showpreloader:p.showpreloader};Utils.writeLog(Utils.logLevels.defaultLevel,"pl.config:",h.config);Utils.writeLog(Utils.logLevels.defaultLevel,"config:",a);y=new AnivewPlayerGUI(a);y.controls(!1);"content"==p.preloader.type&&0>=h.preroll&&T();"js"==p.preloader.type&&(y.gui.style.display="none");0==l.AV_player.config.autoplay&&l.AV_player.config.preloader&&"content"==l.AV_player.config.preloader.type&&(p.showbigplay&&(y.bigPlay.style.display="inline"),y.bigPlay.style.position="absolute",y.bigPlay.style.zIndex=
"99999",y.bigPlay.onclick=function(){l.AV_player.config.autoplay=!0;y.bigPlay.style.display="none";y.playClick();C()});if(p.customlogo&&(a=p.slot.querySelector("#aniview-credit"))){if(p.customlogo.text||""==p.customlogo.text)a.innerHTML=p.customlogo.text+"<span>";p.customlogo.height&&(a.getElementsByTagName("SPAN")[0].style.height=p.customlogo.height+"px");p.customlogo.width&&(a.getElementsByTagName("SPAN")[0].style.width=p.customlogo.width+"px");a.getElementsByTagName("SPAN")[0].style.margin="4 4 4 2";
p.customlogo.link&&(a.getElementsByTagName("SPAN")[0].style.backgroundImage="url('"+p.customlogo.link+"')");a.onclick=function(){p.customlogo.clickthrough&&l.open(p.customlogo.clickthrough)}}U(S)}});var S=function(){var a="";var b={};if(p.ref1)if("string"===typeof p.ref1&&0<p.ref1.length){var c=p.ref1.split("&");for(var d=0;d<c.length;d++){var e=!1;var f=c[d].split("=");if(2<=f.length)try{if("current_url"==f[0]||"AV_URL"==f[0])e=!0;0!=f[0].indexOf("AV_DECODED")&&(f[1]=decodeURIComponent(f[1]),f[1]=
decodeURIComponent(f[1]),e&&(f[1]=Utils.getAmpUrl(f[1])),f[1]=encodeURIComponent(f[1]));b[f[0]]=f[1];if(e&&(a=f[1])&&0<a.length){var g=a.substring(0,1);if("%"==g||"{"==g||"$"==g||"["==g||"<"==g)a=""}}catch(ea){("current_url"==f[0]||"AV_URL"==f[0])&&(a=f[1])&&0<a.length&&(g=a.substring(0,1),"%"==g||"{"==g||"$"==g||"["==g||"<"==g)&&(a="")}}}else if("object"===typeof p.ref1){try{for(c in p.ref1)try{e=!1,"AV_URL"==c&&"string"===typeof p.ref1[c]&&0<p.ref1[c].length&&(e=!0,g=p.ref1[c].substring(0,1),"%"==
g||"{"==g||"$"==g||"["==g||"<"==g)&&(p.ref1[c]=""),"string"==typeof c&&0==c.indexOf("AV_DECODED")?b[c]=p.ref1[c]:(b[c]=decodeURIComponent(p.ref1[c]),b[c]=decodeURIComponent(b[c]),e&&(b[c]=Utils.getAmpUrl(b[c])),b[c]=encodeURIComponent(b[c]))}catch(ea){}}catch(ea){}a=b.AV_URL}var m=Utils.getProtocol();a&&""!=a||(a=(a=b.AV_APPPKGNAME)&&2<a.length?a:encodeURIComponent(Utils.getTrueDomain()));Utils.isAndroid()&&b.AV_APPPKGNAME&&(b.AV_APPSTOREURL="https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3D"+
b.AV_APPPKGNAME);e="";b.AV_LANGUAGE?e=b.AV_LANGUAGE:l.navigator&&(l.navigator.language&&1<l.navigator.language.length?e=l.navigator.language:l.navigator.languages&&0<l.navigator.languages.length&&l.navigator.languages[0]&&(e=l.navigator.languages[0]));e&&1<e.length&&(b.AV_LANGUAGE=e.substring(0,2));b.AV_URL=a.substring(0,500);b.AV_PUBLISHERID=p.publisherid;b.AV_CHANNELID=p.channelid;b.AV_WIDTH=p.width;b.AV_HEIGHT=p.height;b.format="json";b.tgt=p.tgt;p.pbjstag&&(b.pbjs="1");b.AV_SUBID=b.AV_SUBID||
"";b.AV_SUBID=b.AV_SUBID.substring(0,Math.min(100,b.AV_SUBID.length));b.AV_CDIM1=b.AV_CDIM1||"";b.AV_CDIM1=b.AV_CDIM1.substring(0,Math.min(100,b.AV_CDIM1.length));b.AV_CDIM2=b.AV_CDIM2||"";b.AV_CDIM2=b.AV_CDIM2.substring(0,Math.min(100,b.AV_CDIM2.length));b.AV_CDIM3=b.AV_CDIM3||"";b.AV_CDIM3=b.AV_CDIM3.substring(0,Math.min(100,b.AV_CDIM3.length));b.AV_ABT||(a=Math.floor(30*Math.random()),b.AV_ABT=4<a||0==a?"":""+a);AV_player.config.pc&&(b.pce="1",b.npx="1");0==b.AV_WIDTH&&(b.AV_WIDTH=300);0==b.AV_HEIGHT&&
(b.AV_HEIGHT=250);b.AV_WIDTH=Math.floor(b.AV_WIDTH);b.AV_HEIGHT=Math.floor(b.AV_HEIGHT);if(b.AV_AID||b.AV_IDFA)try{b.AV_AID&&36==b.AV_AID.length||!b.AV_IDFA||36!=b.AV_IDFA.length||(b.AV_AID=b.AV_IDFA),b.AV_IDFA&&36==b.AV_IDFA.length||!b.AV_AID||36!=b.AV_AID.length||(b.AV_IDFA=b.AV_AID),b.AV_AID=b.AV_AID||b.AV_IDFA,b.AV_IDFA=b.AV_IDFA||b.AV_AID,36==b.AV_IDFA.length&&(b.AV_IDFAMD5=b.AV_IDFAMD5||b.AV_AIDMD5||Utils.getMD5(b.AV_IDFA),b.AV_IDFASHA1=b.AV_IDFASHA1||b.AV_AIDSHA1||Utils.getSHA1(b.AV_IDFA)),
36==b.AV_AID.length&&(b.AV_AIDMD5=b.AV_AIDMD5||b.AV_IDFAMD5||Utils.getMD5(b.AV_AID),b.AV_AIDSHA1=b.AV_AIDSHA1||b.AV_IDFASHA1||Utils.getSHA1(b.AV_AID))}catch(ea){}b.AV_LONGITUDE&&isNaN(1*b.AV_LONGITUDE)&&(b.AV_LONGITUDE="");b.AV_LATITUDE&&isNaN(1*b.AV_LATITUDE)&&(b.AV_LATITUDE="");b.AV_DNT=b.AV_DNT||"0";b.AV_CONSENT||(a=Utils.getConsent())&&a.success&&(b.AV_CONSENT=a.consentData);a=Utils.joinObject(b);e=b.AV_ABT&&!isNaN(b.AV_ABT)?""+b.AV_ABT+"/":"";if("manage.dev.aniview.com"==AV_player.config.adserverdomain||
"manage.newmanage.aniview.com"==AV_player.config.adserverdomain)m="http:";a=m+"//"+p.adserverdomain+"/api/adserver/tag/"+e+"?"+a+"&v=6.1.1.243&cb="+Date.now();(function(){var a=b.AV_SUBID||"",c=b.AV_CDIM1||"",d=b.AV_CDIM2||"",e=b.AV_CDIM3||"",f=b.AV_IC||0,g=b.tgt,l=b.AV_ABT||"",n=b.AV_APPNAME||"",q=b.AV_WIDTH||"",r=b.AV_HEIGHT||"",t=b.AV_APPPKGNAME||"";f*=12321;var u=Utils.getHostName(b.AV_URL);h.host=u;J=m+"//"+p.trackdomain+"/track?pid="+b.AV_PUBLISHERID+"&cid="+b.AV_CHANNELID+"&r="+u+"&sn="+a+
"&cd1="+c+"&cd2="+d+"&cd3="+e+"&ic="+f+"&tgt="+g+"&app="+n+"&wi="+q+"&he="+r+"&test="+l+"&apppkg="+t+"&e=";"manage.dev.aniview.com"==AV_player.config.adserverdomain&&(J=J.replace("track1.aniview.com","manage.dev.aniview.com"));"partnerserv.aniview.com"==AV_player.config.adserverdomain&&(J=J.replace("track1.aniview.com","trackv3.aniview.com"));(new Image).src=J+"inventory&vi="+Utils.getViewabilityPerc()+"&cb="+Date.now();setTimeout(function(){if("function"===typeof k.onInventory)k.onInventory()},10);
Utils.reportDuduPixel(p.publisherid,p.channelid,"inventory")})();h.macros=b;return a}()})(l.AV_VASTPlayer)}})(window);
