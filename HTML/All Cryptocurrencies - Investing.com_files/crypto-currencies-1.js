"use strict";!function(){function a(){var a={user_filters:JSON.stringify(k.getFilterStates()),currency_id:x.id,currency_changed:!1};$.ajax({type:"POST",data:a,dataType:"json",url:"/crypto/service/cryptoFilters",success:$.noop})}function b(a){return Number(a.replace(v,"").replace(t,"."))}function c(a){q.find(".js-price-header-span").text(a)}function d(){var a;for(a in s){var b=s[a];b.$tr.find(".js-currency-price a, .js-currency-price span").text(window.calculateConversionRate(b.priceUSD)),b.$tr.find(".js-market-cap").html(e(x.symbol,$.parseFunctions.fromRawValue.bigNumber(b.marketCapUSD*x.conversionRate))),b.$tr.find(".js-24h-volume").html(e(x.symbol,$.parseFunctions.fromRawValue.bigNumber(b.Vol24hUSD*x.conversionRate)))}}function e(a,b){return window.siteData.currencyPosition.is("left")?a+b:b+" "+a}function f(a){var b=n.val(),c=a.find(".js-currency-name").text(),d=a.find(".js-currency-symbol").text();return c.has(b)||d.has(b)}function g(){var a=x.conversionRate;o.find("TBODY TR").each(function(b,c){var d=$(c);s[b]={$tr:d,name:d.find(".js-currency-name").text(),symbol:d.find(".js-currency-symbol").text(),priceUSD:A.numeric(d.find(".js-currency-price a, .js-currency-price span").text())/a,marketCapUSD:A.bigNumber(d.find(".js-market-cap").text())/a,Vol24hUSD:A.bigNumber(d.find(".js-24h-volume").text())/a}})}function h(){$(".js-table-filter-container").remove()}function i(a,b){window.ga&&window.ga("allSitesTracker.send","event","Tables - Crypto",a,b)}function j(){p.find("li:not(.groupLI)").on("click",function(){var a=$(this).attr("currencysymbol");x.id=$(this).data("value"),k&&k.updateSettings({currencyID:x.id}),i("Currency Converter",$(this).attr("shortname")),y=x.symbol,g(),$.ajax({type:"POST",data:{currency_id:x.id,currency_changed:!0,user_filters:k?JSON.stringify(k.getFilterStates()):"{}"},dataType:"json",url:"/crypto/service/cryptoFilters",success:function(b){x.conversionRate=b.price,x.symbol=a,l=b.pair_id,window.socketConnector.tick.unSubscribeNewDataRemodeled("crypto-currencies-pid","pid"),l&&window.socketConnector.tick.subscribe([l],"crypto-currencies-pid","pid").then(function(a){x.conversionRate=a.last_numeric}),d(),c(b.price_name),k&&k.reevaluateLimits()}})})}var k,l,m,n=$(".js-crypto-search-filter"),o=$(".js-all-crypto-table"),p=$(".js-currencies-dropdown"),q=o.find("th.js-price-header"),r=$(window),s={},t=window.siteData.decimalPoint,u=window.siteData.thousandSep,v=new RegExp("\\"+u,"g"),w=window.siteData.defaultDomainCurrData,x={conversionRate:w.price,symbol:"$",id:12},y=x.symbol,z={T:12,B:9,M:6,K:3},A={numeric:function(a){return b(a)},percentage:function(a){return A.bigNumber(a.replace(/[\%\s\+]+/g,""))},bigNumber:function(a){var b=(a||"0").replace(new RegExp("["+y+x.symbol+$.htmlDecode(w.currency_symbol)+"]+","g"),"").replace(v,"").replace(t,".").trim(),c=/^(\-)?(\d+(\.\d*)?)([BMKT])?\+?$/.exec(b),d=c[1],e=c[2],f=c[4],g=e;return f&&(g*=Math.pow(10,z[f])),d&&(g*=-1),+g}},B={cols:{4:{formatter:A.numeric,columnTitle:"Price"},5:{formatter:A.bigNumber,columnTitle:"Market Cap"},6:{formatter:A.bigNumber,columnTitle:"Vol (24H)"},7:{formatter:A.percentage,columnTitle:"Total Vol"},8:{formatter:A.percentage,columnTitle:"Change (1D)"},9:{formatter:A.percentage,columnTitle:"Change (7D)"}},extraValidation:f,currencyID:x.id,userFilters:window.cryptoFilters,saveFiltersToServer:a};r.on("cryptoCurrenciesLazyLoaded",function(){h(),g(),k=new TableRangeFilters(o,B),m=k.getMinMaxValues()[4],n.on("keyup",$.debounce(function(){k.refreshTableInDOM(),window.reinitializeRowsSubscription()},250)),n.on("keyup",$.debounce(function(){i("Search",n.val())},3e3)),k.openLastClickedIfExists()}),r.on("filterApplied",function(a,b){i("Filter","Filter By "+B.cols[b].columnTitle),window.reinitializeRowsSubscription()}),new DropdownSelector(".js-currencies-dropdown-container",null,10,!0,$(".js-currencies-dropdown-container").data("placeholder")),window.calculateConversionRate=function(a){return m&&(a<m[0]&&(m[0]=a),a>m[1]&&(m[1]=a)),$.localizeNumber(a*x.conversionRate)},$(function(){new TableRangeFilters(o,B,!0,!0,!0),p.find("li.selected").click(),j(),c(w.price_name),1!==w.price&&window.socketConnector.tick.subscribe([w.pair_id],"crypto-currencies-pid","pid").then(function(a){x.conversionRate=a.last_numeric})})}();/**|**/
"use strict";!function(){function a(){$.ajax({cache:!0,url:"/crypto/Service/LoadCryptoCurrencies",type:"POST",dataType:"json",data:{lastRowId:q.find("tr:last td.rank.icon").text()},success:function(a){var b=void 0;p.append($('<link rel="stylesheet" href="https://i-invdn-com.akamaized.net/crypto_icons/'+a.css_crypto_type+'.css" type="text/css" media="screen" />')),q.find("TBODY").append(a.html),b=q.find("TBODY TR"),l=b.length,q.trigger("update"),o.trigger("cryptoCurrenciesLazyLoaded"),$.each(b.filter("[i]"),function(a,b){$(b).attr("i")&&i++}),d(),o.on("scroll.subscribePairIDs resize.subscribePairIDs",$.throttle(e,16))}})}function b(){var a=o.scrollTop(),b=q.height(),c=a>r+b?l:0;j=[c,c]}function c(){m=q.find("TBODY TR:visible")}function d(){b(),c(),e()}function e(){k=k.concat(h()),v(),n>=i&&o.off("scroll.subscribePairIDs resize.subscribePairIDs")}function f(){var a=o.scrollTop(),b=o.height();return{start:Math.floor(Math.max(0,a-r)/s),end:Math.ceil(Math.min((a-r+b)/s,l-1))}}function g(a,b){var c=20;return a.start=a.start>c?a.start-c:0,a.end=Math.min(a.end+c,b),a}function h(){var a=[],b=void 0,c=g(f(),m.length-1);for(b=c.start;b<=c.end;b++)if(b<=j[0]||b>j[1]){var d=m.eq(b),e=d.attr("i");e&&(t[e]||(t[e]=!0,a.push(e)),n++),d.removeAttr("i")}return j[0]=Math.min(j[0],c.start),j[1]=Math.max(j[1],c.end),a}var i=0,j=[],k=[],l=void 0,m=void 0,n=0,o=$(window),p=$("head"),q=$(".js-all-crypto-table"),r=q.offset().top,s=q.find("TBODY TR").eq(2).height(),t={},u=function(){socketConnector.tick.subscribe(k,"crypto-currencies"),k=[]},v=$.debounce(u,128);$(function(){setTimeout(a,1e3)}),q.find("TBODY TR").each(function(a,b){var c=$(b).attr("i");c&&(t[c]=!0,$(b).removeAttr("i"),i++,n++)}),window.reinitializeRowsSubscription=d}();/**|**/